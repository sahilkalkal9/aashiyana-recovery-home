/*! For license information please see main.51194f26.js.LICENSE.txt */
(()=>{var e={460:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});n(36);var r=n(464),i=(n(676),n(596)),s=n(284),a=n(388),o=(n(60),n(328),n(820)),l=n(416),c=n(844),u=n(12);const d=JSON.parse('[{"id":1,"name":"Safari","age":"2 months","pic":"./photos/amb.jpg","about":"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s","adoptable":true},{"id":2,"name":"Safari","age":"2 months","pic":"./photos/amb.jpg","about":"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s","adoptable":true},{"id":3,"name":"Safari","age":"2 months","pic":"./photos/amb.jpg","about":"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s sdkfjhdksj dsfkjsfksdf","adoptable":true}]');var h=n(496);const f=function(){return(0,h.jsx)("div",{className:"Home",children:(0,h.jsxs)("div",{className:"home-box",children:[(0,h.jsxs)("div",{className:"main-box",children:[(0,h.jsx)(l.c,{}),(0,h.jsxs)("div",{className:"main-box-sub",children:[(0,h.jsxs)("div",{className:"left-main-box",children:[(0,h.jsx)("p",{className:"tagline",children:"Building a happy place for animals"}),(0,h.jsx)("p",{className:"left-main-box-text",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,h.jsxs)("div",{className:"home-buttons",children:[(0,h.jsx)("a",{className:"hbd",href:"tel:+91 9015773750",children:(0,h.jsx)("button",{className:"home-button helpline",children:"Helpline"})}),(0,h.jsx)(u.cH,{to:"/donate",className:"hbd",children:(0,h.jsx)("button",{className:"home-button donate",children:"Make a donation"})})]})]}),(0,h.jsx)("div",{className:"right-main-box about-right",children:(0,h.jsx)(c.c,{url:"https://www.youtube.com/embed/7PIji8OubXU",className:"yt-video"})})]})]}),(0,h.jsxs)("div",{className:"home-lower-box",children:[(0,h.jsxs)("div",{className:"whatWeDoBoxMain",children:[(0,h.jsx)("center",{children:(0,h.jsx)("p",{className:"heading wwd",children:"What we do ?"})}),(0,h.jsxs)("div",{className:"whatWeDoBoxes",children:[(0,h.jsxs)("div",{className:"whatWeDoBox",children:[(0,h.jsxs)("div",{className:"whatWeDoLeft",children:[(0,h.jsx)("p",{className:"subHead",children:"Rescue"}),(0,h.jsx)("p",{className:"subText",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged."}),(0,h.jsx)("div",{className:"home-sub-button-box release-div",children:(0,h.jsx)(u.cH,{className:"hbd",to:"/donate",children:(0,h.jsx)("button",{className:"donate-button",children:"Help us to rescue more"})})})]}),(0,h.jsx)("div",{className:"whatWeDoRight",children:(0,h.jsx)("img",{className:"rescue",src:r})})]}),(0,h.jsxs)("div",{className:"whatWeDoBox",children:[(0,h.jsx)("div",{className:"whatWeDoRight",children:(0,h.jsx)("img",{className:"rescue",src:i})}),(0,h.jsxs)("div",{className:"whatWeDoLeft",children:[(0,h.jsx)("p",{className:"subHead recovery",children:"Recovery"}),(0,h.jsx)("p",{className:"subText recovery",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged."}),(0,h.jsx)("div",{className:"home-sub-button-box",children:(0,h.jsx)(u.cH,{className:"hbd",to:"/donate",children:(0,h.jsx)("button",{className:"donate-button",children:"Help animals to recover fast"})})})]})]}),(0,h.jsxs)("div",{className:"whatWeDoBox",children:[(0,h.jsxs)("div",{className:"whatWeDoLeft",children:[(0,h.jsx)("p",{className:"subHead ",children:"Release"}),(0,h.jsx)("p",{className:"subText",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged."}),(0,h.jsx)("div",{className:"home-sub-button-box release-div",children:(0,h.jsx)(u.cH,{className:"hbd",to:"/adopt",children:(0,h.jsx)("button",{className:"donate-button",children:"Give them a happy home"})})})]}),(0,h.jsx)("div",{className:"whatWeDoRight",children:(0,h.jsx)("img",{className:"rescue",src:s})})]}),(0,h.jsxs)("div",{className:"whatWeDoBox",children:[(0,h.jsx)("div",{className:"whatWeDoRight",children:(0,h.jsx)("img",{className:"rescue",src:a})}),(0,h.jsxs)("div",{className:"whatWeDoLeft",children:[(0,h.jsx)("p",{className:"subHead recovery",children:"Shelter"}),(0,h.jsx)("p",{className:"subText recovery",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged."}),(0,h.jsx)("div",{className:"home-sub-button-box",children:(0,h.jsx)(u.cH,{className:"hbd",to:"/resident-animals",children:(0,h.jsx)("button",{className:"donate-button",children:"Adopt Virtually"})})})]})]}),(0,h.jsxs)("div",{className:"whatWeDoBox",children:[(0,h.jsxs)("div",{className:"whatWeDoLeft",children:[(0,h.jsx)("p",{className:"subHead",children:"Adoption"}),(0,h.jsx)("p",{className:"subText",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged."}),(0,h.jsx)("div",{className:"home-sub-button-box release-div",children:(0,h.jsx)(u.cH,{className:"hbd",to:"/adopt",children:(0,h.jsx)("button",{className:"donate-button ",children:"Give them a happy home"})})})]}),(0,h.jsx)("div",{className:"whatWeDoRight",children:(0,h.jsx)("img",{className:"rescue",src:o})})]})]})]}),(0,h.jsxs)("div",{className:"healed-hearts-main-box",children:[(0,h.jsx)("center",{children:(0,h.jsx)("p",{className:"heading",children:"Our resident animals"})}),(0,h.jsxs)("div",{className:"healed-hearts-box",children:[(0,h.jsxs)("div",{className:"adopt-new",children:[(0,h.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,h.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,h.jsx)("img",{className:"adopt-new-img",src:a}),(0,h.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,h.jsx)("button",{className:"hh-watch",children:"Read story"})]})]}),(0,h.jsxs)("div",{className:"adopt-new",children:[(0,h.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,h.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,h.jsx)("img",{className:"adopt-new-img",src:a}),(0,h.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,h.jsx)("button",{className:"hh-watch",children:"Read story"})]})]}),(0,h.jsxs)("div",{className:"adopt-new",children:[(0,h.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,h.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,h.jsx)("img",{className:"adopt-new-img",src:a}),(0,h.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,h.jsx)("button",{className:"hh-watch",children:"Read story"})]})]})]}),(0,h.jsx)("center",{children:(0,h.jsx)("button",{className:"read-more-stories",children:"See all residents"})})]}),(0,h.jsxs)("div",{className:"healed-hearts-main-box",children:[(0,h.jsx)("center",{children:(0,h.jsx)("p",{className:"heading",children:"Sponsor or Adopt"})}),(0,h.jsx)("div",{className:"healed-hearts-box",children:d.map((e=>1==e.adoptable?(0,h.jsxs)("div",{className:"adopt-new",children:[(0,h.jsx)("p",{className:"adopt-new-name",children:e.name}),(0,h.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,h.jsx)("img",{className:"adopt-new-img",src:n(472)("".concat(e.pic))}),(0,h.jsx)("p",{className:"adopt-new-dets",children:e.about}),(0,h.jsxs)("div",{className:"adopt-new-buttons",children:[(0,h.jsxs)("div",{className:"adopt-butns-div",children:[(0,h.jsx)("button",{className:"adopt-new-button adn",children:"Adopt"}),(0,h.jsx)("button",{className:"adopt-new-button adn",children:"Story"})]}),(0,h.jsx)("button",{className:"adopt-new-button spn",children:"Sponsor"})]})]})]}):null))}),(0,h.jsx)("center",{children:(0,h.jsx)("button",{className:"read-more-stories",children:"See all adoptables"})})]}),(0,h.jsxs)("div",{className:"stats-main-box",children:[(0,h.jsx)("center",{children:(0,h.jsx)("p",{className:"heading",children:"Our achievements"})}),(0,h.jsxs)("div",{className:"stats-box",children:[(0,h.jsx)("div",{className:"statOne",children:(0,h.jsx)("p",{className:"statText",children:"5000+ animals rescued"})}),(0,h.jsx)("div",{className:"statTwo",children:(0,h.jsx)("p",{className:"statText",children:"500+ animals live in our shelter"})}),(0,h.jsx)("div",{className:"statThree",children:(0,h.jsx)("p",{className:"statText",children:"100+ is our staff"})})]})]})]})]})})}},416:(e,t,n)=>{"use strict";n.d(t,{c:()=>c});var r=n(12);n(36);const i=n.p+"static/media/arht.32efb11b1fbfedfff37d.png",s=n.p+"static/media/close.aeec27d34d04f9b7e97f.png",a=n.p+"static/media/arhslt.9afd3c55153b4d1bba79.png";var o=n(60),l=n(496);const c=function(){const e=()=>{document.getElementById("overlayNav").style.width="0cm"},[t,n]=(0,o.useState)(i);return(0,o.useEffect)((()=>{window.innerWidth<500?n(a):n(i)}),[window.innerWidth]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{id:"overlayNav",className:"overlayNav",children:(0,l.jsxs)("div",{className:"overlay-nav-box",children:[(0,l.jsx)("div",{className:"close-box",children:(0,l.jsx)("img",{className:"close",onClick:e,src:s})}),(0,l.jsxs)("div",{className:"overlay-menu",children:[(0,l.jsx)(r.cH,{to:"/about",children:(0,l.jsx)("p",{className:"overlay-menu-item",onClick:e,children:" About "})}),(0,l.jsx)(r.cH,{to:"/adopt",children:(0,l.jsx)("p",{className:"overlay-menu-item",onClick:e,children:" Adopt "})}),(0,l.jsx)(r.cH,{to:"/donate",children:(0,l.jsx)("p",{className:"overlay-menu-item",onClick:e,children:" Donate "})}),(0,l.jsx)(r.cH,{to:"/resident-animals",children:(0,l.jsx)("p",{className:"overlay-menu-item",onClick:e,children:" Animals "})}),(0,l.jsx)(r.cH,{to:"/contact",children:(0,l.jsx)("p",{className:"overlay-menu-item",onClick:e,children:" Contact "})})]})]})}),(0,l.jsx)("div",{className:"Nav",children:(0,l.jsxs)("div",{className:"nav-box",children:[(0,l.jsx)(r.cH,{to:"/",children:(0,l.jsx)("div",{className:"logo-div",children:(0,l.jsx)("img",{className:"logoImg",src:t})})}),(0,l.jsxs)("div",{className:"menu",children:[(0,l.jsx)(r.cH,{to:"/about",children:(0,l.jsx)("p",{className:"menu-item",children:" About "})}),(0,l.jsx)(r.cH,{to:"/adopt",children:(0,l.jsx)("p",{className:"menu-item",children:" Adopt "})}),(0,l.jsx)(r.cH,{to:"/donate",children:(0,l.jsx)("p",{className:"menu-item",children:" Donate "})}),(0,l.jsx)(r.cH,{to:"/resident-animals",children:(0,l.jsx)("p",{className:"menu-item",children:" Resident Animals "})}),(0,l.jsx)(r.cH,{to:"/contact",children:(0,l.jsx)("p",{className:"menu-item",children:" Contact "})}),(0,l.jsx)("img",{className:"menuImg",onClick:()=>{document.getElementById("overlayNav").style.width="100%"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADASURBVHic7dihDQJBEEbhN+cR4NHIowoaoBm6oA+gAQQai8VjCclRwCDAIrlJ2PdV8G8yWfFAkiS1KgAycw5sgRUwKV30e0/gBGwi4hqfx1+AWe2u0T2APjLzAKyr1xTZR2YO/P/ZfzN01QuKZcf7Q2jVMTJzAZyBafWakd2BZRcRV6AH9sBQu2kUA7ADlhFxqx4jSZIkqYZN0CZoE7QJtswmaBO0CUqSJElqkU3QJmgTtAm2zCZoE7QJSpKkVr0AU8Vn6rA4HXYAAAAASUVORK5CYII="})]})]})})]})}},668:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i;n.d(t,{Cm:()=>m,En:()=>O,Ep:()=>d,M5:()=>P,O8:()=>h,So:()=>i,_:()=>R,ay:()=>F,e8:()=>V,iU:()=>a,mc:()=>A,q4:()=>o}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const s="popstate";function a(e){return void 0===e&&(e={}),f((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,e)}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,i){return void 0===n&&(n=null),r({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n,a){void 0===a&&(a={});let{window:l=document.defaultView,v5Compat:h=!1}=a,f=l.history,p=i.Pop,m=null,g=y();function y(){return(f.state||{idx:null}).idx}function v(){p=i.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:p,location:b.location,delta:t})}function w(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:d(e);return o(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(r({},f.state,{idx:g}),""));let b={get action(){return p},get location(){return e(l,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(s,v),m=e,()=>{l.removeEventListener(s,v),m=null}},createHref:e=>t(l,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=i.Push;let r=u(b.location,e,t);n&&n(r,e),g=y()+1;let s=c(r,g),a=b.createHref(r);try{f.pushState(s,"",a)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;l.location.assign(a)}h&&m&&m({action:p,location:b.location,delta:1})},replace:function(e,t){p=i.Replace;let r=u(b.location,e,t);n&&n(r,e),g=y();let s=c(r,g),a=b.createHref(r);f.replaceState(s,"",a),h&&m&&m({action:p,location:b.location,delta:0})},go:e=>f.go(e)};return b}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){void 0===n&&(n="/");let r=A(("string"===typeof t?h(t):t).pathname||"/",n);if(null==r)return null;let i=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a)s=x(i[a],N(r));return s}function g(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(o(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let l=O([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:k(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))i(e,t,r);else i(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=y(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const v=/^:[\w-]+$/,w=3,b=2,_=1,I=10,E=-2,S=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=E),t&&(r+=b),n.filter((e=>!S(e))).reduce(((e,t)=>e+(v.test(t)?w:""===t?_:I)),r)}function x(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:O([i,c.pathname]),pathnameBase:L(O([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=O([i,c.pathnameBase]))}return s}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const c=o[n];return e[r]=i&&!c?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return l(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c||"",r),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function N(e){try{return decodeURI(e)}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function C(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function P(e,t){let n=D(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function R(e,t,n,i){let s;void 0===i&&(i=!1),"string"===typeof e?s=h(e):(s=r({},e),o(!s.pathname||!s.pathname.includes("?"),C("?","pathname","search",s)),o(!s.pathname||!s.pathname.includes("#"),C("#","pathname","hash",s)),o(!s.search||!s.search.includes("#"),C("#","search","hash",s)));let a,l=""===e||""===s.pathname,c=l?"/":s.pathname;if(null==c)a=n;else{let e=t.length-1;if(!i&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:M(r),hash:j(i)}}(s,a),d=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!f||(u.pathname+="/"),u}const O=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class F extends Error{}function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],B=(new Set(U),["get",...U]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},528:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var s,a,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in s=Object(arguments[l]))n.call(s,c)&&(o[c]=s[c]);if(t){a=t(s);for(var u=0;u<a.length;u++)r.call(s,a[u])&&(o[a[u]]=s[a[u]])}}return o}},144:(e,t,n)=>{"use strict";var r=n(60),i=n(724);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),I=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case I:return"Portal";case k:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function $(e,t){X(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function se(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ee=null,Se=null;function ke(e){if(e=wi(e)){if("function"!==typeof Ie)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ie(e.stateNode,e.type,t))}}function xe(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ne(e,t){return e(t)}function Ae(){}var Ce=!1;function De(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return Ne(e,t,n)}finally{Ce=!1,(null!==Ee||null!==Se)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Re=!1}function Le(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,je=null,Fe=!1,Ve=null,Ue={onError:function(e){Me=!0,je=e}};function Be(e,t,n,r,i,s,a,o,l){Me=!1,je=null,Le.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(ze(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,It,Et,St,kt,xt=!1,Tt=[],Nt=null,At=null,Ct=null,Dt=new Map,Pt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&It(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&It(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){xt=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),null!==Ct&&Ft(Ct)&&(Ct=null),Dt.forEach(Vt),Pt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),null!==Ct&&Bt(Ct,e),Dt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)jt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Gt=!0;function Wt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Ht(e,t,n,r)}finally{wt=i,qt.transition=s}}function Kt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Ht(e,t,n,r)}finally{wt=i,qt.transition=s}}function Ht(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Mt(Nt,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Ct=Mt(Ct,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dt.set(s,Mt(Dt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Gr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=j({},cn,{view:0,detail:0}),hn=sn(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(j({},fn,{dataTransfer:0})),gn=sn(j({},dn,{relatedTarget:0})),yn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(vn),bn=sn(j({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return Sn}var xn=j({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(xn),Nn=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Cn=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Dn),Rn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,jn=u&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){xe(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Hn=null;function Qn(e){Fr(e,0)}function Yn(e){if(H(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Hn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Wn(t,Hn,e,_e(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Sr={};function kr(e){if(Er[e])return Er[e];if(!Ir[e])return e;var t,n=Ir[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);var xr=kr("animationend"),Tr=kr("animationiteration"),Nr=kr("animationstart"),Ar=kr("transitionend"),Cr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Cr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Or=Dr[Rr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(xr,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Nr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=je;Me=!1,je=null,Fe||(Fe=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;jr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;jr(i,o,c),s=l}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}De((function(){var r=s,i=_e(n),a=[];e:{var o=Cr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case xr:case Tr:case Nr:l=yn;break;case Ar:l=Cn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Hr(f))p++;for(f=0,m=h;m;m=Hr(m))f++;for(;0<p-f;)u=Hr(u),p--;for(;0<f-p;)h=Hr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Hr(u),h=Hr(h)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(Gn(o))if(Xn)g=ar;else{g=ir;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?bi(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Un(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(v=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),a.push({event:w,listeners:y}),v?w.data=v:null!==(v=Bn(n))&&(w.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Zt=$t=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Wr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Wr(e,s,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(Wr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ii=[],Ei=-1;function Si(e){return{current:e}}function ki(e){0>Ei||(e.current=Ii[Ei],Ii[Ei]=null,Ei--)}function xi(e,t){Ei++,Ii[Ei]=e.current,e.current=t}var Ti={},Ni=Si(Ti),Ai=Si(!1),Ci=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){ki(Ai),ki(Ni)}function Oi(e,t,n){if(Ni.current!==Ti)throw Error(s(168));xi(Ni,t),xi(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ci=Ni.current,xi(Ni,e),xi(Ai,Ai.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(Ni),xi(Ni,e)):ki(Ai),xi(Ai,n)}var Fi=null,Vi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),He(Ze,zi),i}finally{wt=t,Ui=!1}}return null}var qi=[],Gi=0,Wi=null,Ki=0,Hi=[],Qi=0,Yi=null,Ji=1,Xi="";function $i(e,t){qi[Gi++]=Ki,qi[Gi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Hi[Qi++]=Ji,Hi[Qi++]=Xi,Hi[Qi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Ji=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Wi;)Wi=qi[--Gi],qi[Gi]=null,Ki=qi[--Gi],qi[Gi]=null;for(;e===Yi;)Yi=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ys=Si(null),vs=null,ws=null,bs=null;function _s(){bs=ws=vs=null}function Is(e){var t=ys.current;ki(ys),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){vs=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===vs)throw Error(s(308));ws=e,vs.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var xs=null;function Ts(e){null===xs?xs=[e]:xs.push(e)}function Ns(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ts(t)):(n.next=i.next,i.next=n),t.interleaved=n,As(e,r)}function As(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Cs=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,As(e,n)}return null===(i=r.interleaved)?(t.next=t,Ts(r)):(t.next=i.next,i.next=t),r.interleaved=t,As(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function js(e,t,n,r){var i=e.updateQueue;Cs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=j({},d,h);break e;case 2:Cs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);jl|=a,e.lanes=a,e.memoizedState=d}}function Fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Vs=(new r.Component).refs;function Us(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Rs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rc(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Rs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rc(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Rs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Os(e,i,r))&&(rc(t,e,r,n),Ls(t,e,r))}};function zs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=ks(s):(i=Pi(t)?Ci:Ni.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Gs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Ws(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Vs,Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=ks(s):(s=Pi(t)?Ci:Ni.current,i.context=Di(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Us(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bs.enqueueReplaceState(i,i.state,null),js(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Vs&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ks(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ks(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ks(e,null,t),n.return=e,n;case I:return(t=Vc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Hs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case I:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Hs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Hs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=a(y,s,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(i,d),is&&$i(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&$i(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&$i(i,m),c}function g(i,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,c);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),o=a(w,o,g),null===d?u=w:d.sibling=w,d=w,m=y}if(v.done)return n(i,m),is&&$i(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return is&&$i(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),is&&$i(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Ks(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((s=Mc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=Ks(r,s,a),l.return=r,r=l)}return o(r);case I:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Vc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(L(a))return g(r,s,a,l);Hs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Fc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Js=Ys(!0),Xs=Ys(!1),$s={},Zs=Si($s),ea=Si($s),ta=Si($s);function na(e){if(e===$s)throw Error(s(174));return e}function ra(e,t){switch(xi(ta,t),xi(ea,e),xi(Zs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Zs),xi(Zs,t)}function ia(){ki(Zs),ki(ea),ki(ta)}function sa(e){na(ta.current);var t=na(Zs.current),n=le(t,e.type);t!==n&&(xi(ea,e),xi(Zs,n))}function aa(e){ea.current===e&&(ki(Zs),ki(ea))}var oa=Si(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ua(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var da=b.ReactCurrentDispatcher,ha=b.ReactCurrentBatchConfig,fa=0,pa=null,ma=null,ga=null,ya=!1,va=!1,wa=0,ba=0;function _a(){throw Error(s(321))}function Ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,i,a){if(fa=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),va){a=0;do{if(va=!1,wa=0,25<=a)throw Error(s(301));a+=1,ga=ma=null,t.updateQueue=null,da.current=lo,e=n(r,i)}while(va)}if(da.current=so,t=null!==ma&&null!==ma.next,fa=0,ga=ma=pa=null,ya=!1,t)throw Error(s(300));return e}function Sa(){var e=0!==wa;return wa=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?pa.memoizedState=ga=e:ga=ga.next=e,ga}function xa(){if(null===ma){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?pa.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?pa.memoizedState=ga=e:ga=ga.next=e}return ga}function Ta(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=xa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((fa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,pa.lanes|=d,jl|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,jl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=xa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ca(){}function Da(e,t){var n=pa,r=xa(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,qa(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Fa(9,Ra.bind(null,n,r,i,t),void 0,null),null===Cl)throw Error(s(349));0!==(30&fa)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Ma(e)}function Oa(e,t,n){return n((function(){La(t)&&Ma(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ma(e){var t=As(e,1);null!==t&&rc(t,e,1,-1)}function ja(e){var t=ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,pa,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return xa().memoizedState}function Ua(e,t,n,r){var i=ka();pa.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=xa();r=void 0===r?null:r;var s=void 0;if(null!==ma){var a=ma.memoizedState;if(s=a.destroy,null!==r&&Ia(r,a.deps))return void(i.memoizedState=Fa(t,n,s,r))}pa.flags|=e,i.memoizedState=Fa(1|t,n,s,r)}function za(e,t){return Ua(8390656,8,e,t)}function qa(e,t){return Ba(2048,8,e,t)}function Ga(e,t){return Ba(4,2,e,t)}function Wa(e,t){return Ba(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ha(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ka.bind(null,t,e),n)}function Qa(){}function Ya(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=xa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),pa.lanes|=n,jl|=n,e.baseState=!0),t)}function $a(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{wt=n,ha.transition=r}}function Za(){return xa().memoizedState}function eo(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Ns(e,t,n,r))){rc(n,e,r,tc()),io(n,t,r)}}function to(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ts(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ns(e,t,i,r))&&(rc(n,e,r,i=tc()),io(n,t,r))}}function no(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function ro(e,t){va=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var so={readContext:ks,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},ao={readContext:ks,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:ja,useDebugValue:Qa,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=$a.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=ka();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Cl)throw Error(s(349));0!==(30&fa)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Ra.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=Cl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:ks,useCallback:Ya,useContext:ks,useEffect:qa,useImperativeHandle:Ha,useInsertionEffect:Ga,useLayoutEffect:Wa,useMemo:Ja,useReducer:Na,useRef:Va,useState:function(){return Na(Ta)},useDebugValue:Qa,useDeferredValue:function(e){return Xa(xa(),ma.memoizedState,e)},useTransition:function(){return[Na(Ta)[0],xa().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Da,useId:Za,unstable_isNewReconciler:!1},lo={readContext:ks,useCallback:Ya,useContext:ks,useEffect:qa,useImperativeHandle:Ha,useInsertionEffect:Ga,useLayoutEffect:Wa,useMemo:Ja,useReducer:Aa,useRef:Va,useState:function(){return Aa(Ta)},useDebugValue:Qa,useDeferredValue:function(e){var t=xa();return null===ma?t.memoizedState=e:Xa(t,ma.memoizedState,e)},useTransition:function(){return[Aa(Ta)[0],xa().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Da,useId:Za,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Rs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Kl=r),ho(0,t)},n}function mo(e,t,n){(n=Rs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Rs(-1,1)).tag=2,Os(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wo=b.ReactCurrentOwner,bo=!1;function _o(e,t,n,r){t.child=null===e?Xs(t,null,n,r):Js(t,e.child,n,r)}function Io(e,t,n,r,i){n=n.render;var s=t.ref;return Ss(t,i),r=Ea(e,t,n,r,s,i),n=Sa(),null===e||bo?(is&&n&&es(t),t.flags|=1,_o(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function Eo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Rc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,So(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Oc(s,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return To(e,t,n,r,i)}function ko(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Ol,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Ol,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,xi(Ol,Rl),Rl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,xi(Ol,Rl),Rl|=r;return _o(e,t,i,n),t.child}function xo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,i){var s=Pi(n)?Ci:Ni.current;return s=Di(t,s),Ss(t,i),n=Ea(e,t,n,r,s,i),r=Sa(),null===e||bo?(is&&r&&es(t),t.flags|=1,_o(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function No(e,t,n,r,i){if(Pi(n)){var s=!0;Mi(t)}else s=!1;if(Ss(t,i),null===t.stateNode)Go(e,t),qs(t,n,r),Ws(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ks(c):c=Di(t,c=Pi(n)?Ci:Ni.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&Gs(t,a,r,c),Cs=!1;var h=t.memoizedState;a.state=h,js(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ai.current||Cs?("function"===typeof u&&(Us(t,n,u,r),l=t.memoizedState),(o=Cs||zs(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ps(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:gs(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ks(l):l=Di(t,l=Pi(n)?Ci:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&Gs(t,a,r,l),Cs=!1,h=t.memoizedState,a.state=h,js(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ai.current||Cs?("function"===typeof f&&(Us(t,n,f,r),p=t.memoizedState),(c=Cs||zs(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ao(e,t,n,r,s,i)}function Ao(e,t,n,r,i,s){xo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Wo(e,t,s);r=t.stateNode,wo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,o,s)):_o(e,t,o,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ra(e,t.containerInfo)}function Do(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_o(e,t,n,r),t.child}var Po,Ro,Oo,Lo,Mo={dehydrated:null,treeContext:null,retryLane:0};function jo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xi(oa,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=jc(l,i,0,null),e=Mc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=jo(n),t.memoizedState=Mo,e):Vo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Js(t,e.child,null,o),t.child.memoizedState=jo(o),t.memoizedState=Mo,a);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Cl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,As(e,i),rc(r,e,i,-1))}return gc(),Uo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Hi[Qi++]=Ji,Hi[Qi++]=Xi,Hi[Qi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=Vo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Oc(r,o):(o=Mc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?jo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,i}return e=(o=e.child).sibling,i=Oc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vo(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&ps(r),Js(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ho(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Ho(t),null;case 3:return r=t.stateNode,ia(),ki(Ai),ki(Ni),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Ro(e,t),Ho(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ho(t),null}if(e=na(Zs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":J(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":ie(r,a),Vr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Vr("scroll",e):null!=u&&w(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ho(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na(Zs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ho(t),null;case 13:if(ki(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ho(t),a=!1}else null!==ss&&(oc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ho(t),null);case 4:return ia(),Ro(e,t),null===e&&zr(t.stateNode.containerInfo),Ho(t),null;case 10:return Is(t.type._context),Ho(t),null;case 19:if(ki(oa),null===(a=t.memoizedState))return Ho(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ko(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,Ko(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>ql&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Ho(t),null}else 2*Xe()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=oa.current,xi(oa,r?1&n|2:1&n),t):(Ho(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ho(t),6&t.subtreeFlags&&(t.flags|=8192)):Ho(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),ki(Ai),ki(Ni),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(ki(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(oa),null;case 4:return ia(),null;case 10:return Is(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(){},Oo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(Zs.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,Xo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,fl(e,t,n),Xo=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(a,o,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),we(l,o);var u=we(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":$(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Xe())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,gl(t,e),Xo=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zo=e,d=e.child;null!==d;){for(h=Zo=d;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Il(h);continue}}null!==p?(p.return=f,Zo=p):Il(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Zo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Jo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Jo;var c=Xo;if(Jo=a,(Xo=l)&&!c)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,Zo=l):El(i);for(;null!==s;)Zo=s,bl(s,t,n),s=s.sibling;Zo=i,Jo=o,Xo=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):_l(e)}}function _l(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&sl(t)}catch(f){kc(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function Il(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function El(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){kc(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Sl,kl=Math.ceil,xl=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Nl=b.ReactCurrentBatchConfig,Al=0,Cl=null,Dl=null,Pl=0,Rl=0,Ol=Si(0),Ll=0,Ml=null,jl=0,Fl=0,Vl=0,Ul=null,Bl=null,zl=0,ql=1/0,Gl=null,Wl=!1,Kl=null,Hl=null,Ql=!1,Yl=null,Jl=0,Xl=0,$l=null,Zl=-1,ec=0;function tc(){return 0!==(6&Al)?Xe():-1!==Zl?Zl:Zl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(s(185));yt(e,n,r),0!==(2&Al)&&e===Cl||(e===Cl&&(0===(2&Al)&&(Fl|=n),4===Ll&&lc(e,Pl)),ic(e,r),1===n&&0===Al&&0===(1&t.mode)&&(ql=Xe()+500,Vi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Cl?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),ai((function(){0===(6&Al)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Cl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Al;Al|=2;var a=mc();for(Cl===e&&Pl===t||(Gl=null,ql=Xe()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}_s(),xl.current=a,Al=i,null!==Dl?t=0:(Cl=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,Xe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ic(e,Bl,Gl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ic.bind(null,e,Bl,Gl),t);break}Ic(e,Bl,Gl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Ic.bind(null,e,Bl,Gl),r);break}Ic(e,Bl,Gl);break;default:throw Error(s(329))}}}return ic(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~Vl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Al))throw Error(s(327));Ec();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ic(e,Bl,Gl),ic(e,Xe()),null}function uc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(ql=Xe()+500,Vi&&zi())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&Ec();var t=Al;Al|=1;var n=Nl.transition,r=wt;try{if(Nl.transition=null,wt=1,e)return e()}finally{wt=r,Nl.transition=n,0===(6&(Al=t))&&zi()}}function hc(){Rl=Ol.current,ki(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:ia(),ki(Ai),ki(Ni),ua();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:ki(oa);break;case 10:Is(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Cl=e,Dl=e=Oc(e.current,null),Pl=Rl=t,Ll=0,Ml=null,Vl=Fl=jl=0,Bl=Ul=null,null!==xs){for(t=0;t<xs.length;t++)if(null!==(r=(n=xs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}xs=null}return e}function pc(e,t){for(;;){var n=Dl;try{if(_s(),da.current=so,ya){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(fa=0,ga=ma=pa=null,va=!1,wa=0,Tl.current=null,null===n||null===n.return){Ll=1,Ml=t,Dl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=yo(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&go(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){go(a,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=yo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vo(y,o,l,0,t),ps(co(c,l));break e}}a=c=co(c,l),4!==Ll&&(Ll=2),null===Ul?Ul=[a]:Ul.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ms(a,po(0,c,t));break e;case 1:l=c;var v=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Hl||!Hl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,Ms(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(b){t=b,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function mc(){var e=xl.current;return xl.current=so,null===e?so:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Cl||0===(268435455&jl)&&0===(268435455&Fl)||lc(Cl,Pl)}function yc(e,t){var n=Al;Al|=2;var r=mc();for(Cl===e&&Pl===t||(Gl=null,fc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(_s(),Al=n,xl.current=r,null!==Dl)throw Error(s(261));return Cl=null,Pl=0,Ll}function vc(){for(;null!==Dl;)bc(Dl)}function wc(){for(;null!==Dl&&!Ye();)bc(Dl)}function bc(e){var t=Sl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?_c(e):Dl=t,Tl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Rl)))return void(Dl=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return Ll=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Ic(e,t,n){var r=wt,i=Nl.transition;try{Nl.transition=null,wt=1,function(e,t,n,r){do{Ec()}while(null!==Yl);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Cl&&(Dl=Cl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Cc(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nl.transition,Nl.transition=null;var o=wt;wt=1;var l=Al;Al|=4,Tl.current=null,function(e,t){if(ei=Gt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=nl,nl=!1}(e,n),yl(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Je(),Al=l,wt=o,Nl.transition=a}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Jl=i),a=e.pendingLanes,0===a&&(Hl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Kl,Kl=null,e;0!==(1&Jl)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,zi()}(e,t,n,r)}finally{Nl.transition=i,wt=r}return null}function Ec(){if(null!==Yl){var e=bt(Jl),t=Nl.transition,n=wt;try{if(Nl.transition=null,wt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Jl=0,0!==(6&Al))throw Error(s(331));var i=Al;for(Al|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var d=Zo;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zo=h;else for(;null!==Zo;){var f=(d=Zo).sibling,p=d.return;if(al(d),d===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Zo=v;break e}Zo=a.return}}var w=e.current;for(Zo=w;null!==Zo;){var b=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Zo=b;else e:for(o=w;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(I){kc(l,l.return,I)}if(l===o){Zo=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Zo=_;break e}Zo=l.return}}if(Al=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(I){}r=!0}return r}finally{wt=n,Nl.transition=t}}return!1}function Sc(e,t,n){e=Os(e,t=po(0,t=co(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Os(t,e=mo(t,e=co(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Cl===e&&(Pl&n)===n&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Xe()-zl?fc(e,0):Vl|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=As(e,t))&&(yt(e,t,n),ic(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tc(e,n)}function Cc(e,t){return He(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Dc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Mc(n.children,i,a,t);case S:o=8,i|=8;break;case k:return(e=Pc(12,n,t,2|i)).elementType=k,e.lanes=a,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=a,e;case C:return(e=Pc(19,n,t,i)).elementType=C,e.lanes=a,e;case R:return jc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case T:o=9;break e;case N:o=11;break e;case D:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,s,a,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,s,a,o,l){return(e=Bc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Rs(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Os(n,s,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Gc(e,t,n,r){var i=t.current,s=tc(),a=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Rs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Os(i,t,a))&&(rc(e,i,a,s),Ls(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Co(t),fs();break;case 5:sa(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(ys,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(xi(oa,1&oa.current),null!==(e=Wo(e,t,n))?e.sibling:null);xi(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Go(e,t),e=t.pendingProps;var i=Di(t,Ni.current);Ss(t,n),i=Ea(null,t,r,e,i,n);var a=Sa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ds(t),i.updater=Bs,t.stateNode=i,i._reactInternals=t,Ws(t,r,e,n),t=Ao(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),_o(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Go(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===D)return 14}return 2}(r),e=gs(r,e),i){case 0:t=To(null,t,r,e,n);break e;case 1:t=No(null,t,r,e,n);break e;case 11:t=Io(null,t,r,e,n);break e;case 14:t=Eo(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Co(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ps(e,t),js(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Do(e,t,r,n,i=co(Error(s(423)),t));break e}if(r!==i){t=Do(e,t,r,n,i=co(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Wo(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 5:return sa(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),xo(e,t),_o(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Js(t,null,r,n):_o(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,xi(ys,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ai.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Rs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Es(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Es(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}_o(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ss(t,n),r=r(i=ks(i)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Eo(e,t,r,i=gs(r.type,i),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Go(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ss(t,n),qs(t,r,i),Ws(t,r,i,n),Ao(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Wc(a);o.call(e)}}Gc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(a);s.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),dc((function(){Gc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(a)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Gc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Gc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&jt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Xe()),0===(6&Al)&&(ql=Xe()+500,zi()))}break;case 13:dc((function(){var t=As(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},It=function(e){if(13===e.tag){var t=As(e,134217728);if(null!==t)rc(t,e,134217728,tc());Hc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=As(e,t);if(null!==n)rc(n,e,t,tc());Hc(e,t)}},St=function(){return wt},kt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ie=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));H(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uc,Ae=dc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,_i,xe,Te,uc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},180:(e,t,n)=>{"use strict";var r=n(292);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},292:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(144)},844:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(60),i=n(528),s=n.n(i);const a=e=>{let{url:t,allowFullScreen:n,position:i,display:a,height:o,width:l,overflow:c,styles:u,onLoad:d,onMouseOver:h,onMouseOut:f,scrolling:p,id:m,frameBorder:g,ariaHidden:y,sandbox:v,allow:w,className:b,title:_,ariaLabel:I,ariaLabelledby:E,name:S,target:k,loading:x,importance:T,referrerpolicy:N,allowpaymentrequest:A,src:C,key:D}=e;const P=s()({src:C||t,target:k||null,style:{position:i||null,display:a||"initial",overflow:c||null},scrolling:p||null,allowpaymentrequest:A||null,importance:T||null,sandbox:v&&[...v].join(" ")||null,loading:x||null,styles:u||null,name:S||null,className:b||null,allowFullScreen:"allowFullScreen",referrerpolicy:N||null,title:_||null,allow:w||null,id:m||null,"aria-labelledby":E||null,"aria-hidden":y||null,"aria-label":I||null,width:l||null,height:o||null,onLoad:d||null,onMouseOver:h||null,onMouseOut:f||null,key:D||"iframe"});let R=Object.create(null);for(let r of Object.keys(P))null!=P[r]&&(R[r]=P[r]);for(let r of Object.keys(R.style))null==R.style[r]&&delete R.style[r];if(R.styles)for(let r of Object.keys(R.styles))R.styles.hasOwnProperty(r)&&(R.style[r]=R.styles[r]),Object.keys(R.styles).pop()==r&&delete R.styles;if(n)if("allow"in R){const e=R.allow.replace("fullscreen","");R.allow="fullscreen ".concat(e.trim()).trim()}else R.allow="fullscreen";return g>=0&&(R.style.hasOwnProperty("border")||(R.style.border=g)),r.createElement("iframe",Object.assign({},R))}},12:(e,t,n)=>{"use strict";var r,i;n.d(t,{cH:()=>g,kn:()=>f});var s=n(60),a=n(292),o=n(560),l=n(668);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const d=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(w){}new Map;const h=(r||(r=n.t(s,2))).startTransition;(i||(i=n.t(a,2))).flushSync,(r||(r=n.t(s,2))).useId;function f(e){let{basename:t,children:n,future:r,window:i}=e,a=s.useRef();null==a.current&&(a.current=(0,l.iU)({window:i,v5Compat:!0}));let c=a.current,[u,d]=s.useState({action:c.action,location:c.location}),{v7_startTransition:f}=r||{},p=s.useCallback((e=>{f&&h?h((()=>d(e))):d(e)}),[d,f]);return s.useLayoutEffect((()=>c.listen(p)),[c,p]),s.createElement(o.E5,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const p="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,m=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g=s.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:a,replace:h,state:f,target:g,to:y,preventScrollReset:v,unstable_viewTransition:b}=e,_=u(e,d),{basename:I}=s.useContext(o.yo),E=!1;if("string"===typeof y&&m.test(y)&&(n=y,p))try{let e=new URL(window.location.href),t=y.startsWith("//")?new URL(e.protocol+y):new URL(y),n=(0,l.mc)(t.pathname,I);t.origin===e.origin&&null!=n?y=n+t.search+t.hash:E=!0}catch(w){}let S=(0,o.co)(y,{relative:i}),k=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:c,unstable_viewTransition:u}=void 0===t?{}:t,d=(0,o.i6)(),h=(0,o.IT)(),f=(0,o.oT)(e,{relative:c});return s.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:(0,l.Ep)(h)===(0,l.Ep)(f);d(e,{replace:n,state:i,preventScrollReset:a,relative:c,unstable_viewTransition:u})}}),[h,d,f,r,i,n,e,a,c,u])}(y,{replace:h,state:f,target:g,preventScrollReset:v,relative:i,unstable_viewTransition:b});return s.createElement("a",c({},_,{href:n||S,onClick:E||a?r:function(e){r&&r(e),e.defaultPrevented||k(e)},ref:t,target:g}))}));var y,v;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(y||(y={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(v||(v={}))},560:(e,t,n)=>{"use strict";var r;n.d(t,{E5:()=>P,IT:()=>m,c5:()=>R,co:()=>f,i6:()=>y,kX:()=>D,oT:()=>v,yo:()=>c});var i=n(60),s=n(668);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}const o=i.createContext(null);const l=i.createContext(null);const c=i.createContext(null);const u=i.createContext(null);const d=i.createContext({outlet:null,matches:[],isDataRoute:!1});const h=i.createContext(null);function f(e,t){let{relative:n}=void 0===t?{}:t;p()||(0,s.q4)(!1);let{basename:r,navigator:a}=i.useContext(c),{hash:o,pathname:l,search:u}=v(e,{relative:n}),d=l;return"/"!==r&&(d="/"===l?r:(0,s.En)([r,l])),a.createHref({pathname:d,search:u,hash:o})}function p(){return null!=i.useContext(u)}function m(){return p()||(0,s.q4)(!1),i.useContext(u).location}function g(e){i.useContext(c).static||i.useLayoutEffect(e)}function y(){let{isDataRoute:e}=i.useContext(d);return e?function(){let{router:e}=T(k.UseNavigateStable),t=A(x.UseNavigateStable),n=i.useRef(!1);return g((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,a({fromRouteId:t},i)))}),[e,t])}():function(){p()||(0,s.q4)(!1);let e=i.useContext(o),{basename:t,future:n,navigator:r}=i.useContext(c),{matches:a}=i.useContext(d),{pathname:l}=m(),u=JSON.stringify((0,s.M5)(a,n.v7_relativeSplatPath)),h=i.useRef(!1);return g((()=>{h.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!h.current)return;if("number"===typeof n)return void r.go(n);let a=(0,s._)(n,JSON.parse(u),l,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:(0,s.En)([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[t,r,u,l,e])}()}function v(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(c),{matches:a}=i.useContext(d),{pathname:o}=m(),l=JSON.stringify((0,s.M5)(a,r.v7_relativeSplatPath));return i.useMemo((()=>(0,s._)(e,JSON.parse(l),o,"path"===n)),[e,l,o,n])}function w(e,t,n,r){p()||(0,s.q4)(!1);let{navigator:o}=i.useContext(c),{matches:l}=i.useContext(d),h=l[l.length-1],f=h?h.params:{},g=(h&&h.pathname,h?h.pathnameBase:"/");h&&h.route;let y,v=m();if(t){var w;let e="string"===typeof t?(0,s.O8)(t):t;"/"===g||(null==(w=e.pathname)?void 0:w.startsWith(g))||(0,s.q4)(!1),y=e}else y=v;let b=y.pathname||"/",_="/"===g?b:b.slice(g.length)||"/",I=(0,s.Cm)(e,{pathname:_});let E=S(I&&I.map((e=>Object.assign({},e,{params:Object.assign({},f,e.params),pathname:(0,s.En)([g,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:(0,s.En)([g,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,r);return t&&E?i.createElement(u.Provider,{value:{location:a({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:s.So.Pop}},E):E}function b(){let e=function(){var e;let t=i.useContext(h),n=N(x.UseRouteError),r=A(x.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=(0,s.e8)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}const _=i.createElement(b,null);class I extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(d.Provider,{value:this.props.routeContext},i.createElement(h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(o);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(d.Provider,{value:t},r)}function S(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let l=e,c=null==(a=n)?void 0:a.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||(0,s.q4)(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<l.length;i++){let e=l[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight(((e,r,s)=>{let a,o=!1,h=null,f=null;var p;n&&(a=c&&r.route.id?c[r.route.id]:void 0,h=r.route.errorElement||_,u&&(d<0&&0===s?(p="route-fallback",!1||C[p]||(C[p]=!0),o=!0,f=null):d===s&&(o=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,s+1)),g=()=>{let t;return t=a?h:o?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(E,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(I,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var k=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(k||{}),x=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(x||{});function T(e){let t=i.useContext(o);return t||(0,s.q4)(!1),t}function N(e){let t=i.useContext(l);return t||(0,s.q4)(!1),t}function A(e){let t=function(e){let t=i.useContext(d);return t||(0,s.q4)(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||(0,s.q4)(!1),n.route.id}const C={};(r||(r=n.t(i,2))).startTransition;function D(e){(0,s.q4)(!1)}function P(e){let{basename:t="/",children:n=null,location:r,navigationType:o=s.So.Pop,navigator:l,static:d=!1,future:h}=e;p()&&(0,s.q4)(!1);let f=t.replace(/^\/*/,"/"),m=i.useMemo((()=>({basename:f,navigator:l,static:d,future:a({v7_relativeSplatPath:!1},h)})),[f,h,l,d]);"string"===typeof r&&(r=(0,s.O8)(r));let{pathname:g="/",search:y="",hash:v="",state:w=null,key:b="default"}=r,_=i.useMemo((()=>{let e=(0,s.mc)(g,f);return null==e?null:{location:{pathname:e,search:y,hash:v,state:w,key:b},navigationType:o}}),[f,g,y,v,w,b,o]);return null==_?null:i.createElement(c.Provider,{value:m},i.createElement(u.Provider,{children:n,value:_}))}function R(e){let{children:t,location:n}=e;return w(O(t),n)}new Promise((()=>{}));i.Component;function O(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,O(e.props.children,a));e.type!==D&&(0,s.q4)(!1),e.props.index&&e.props.children&&(0,s.q4)(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=O(e.props.children,a)),n.push(o)})),n}},272:(e,t,n)=>{"use strict";var r=n(60),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},564:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,I=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)I.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:E.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+N(l,0):s,_(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+N(o=e[c],c);l+=A(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=A(o=o.value,t,i,u=s+N(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function C(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)I.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},60:(e,t,n)=>{"use strict";e.exports=n(564)},496:(e,t,n)=>{"use strict";e.exports=n(272)},692:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,R(I);else{var t=r(u);null!==t&&O(_,t.startTime-e)}}function I(e,n){m=!1,g&&(g=!1,v(x),x=-1),p=!0;var s=f;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(_,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,k=null,x=-1,T=5,N=-1;function A(){return!(t.unstable_now()-N<T)}function C(){if(null!==k){var e=t.unstable_now();N=e;var n=!0;try{n=k(!0,e)}finally{n?E():(S=!1,k=null)}}else S=!1}if("function"===typeof w)E=function(){w(C)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=C,E=function(){P.postMessage(null)}}else E=function(){y(C,0)};function R(e){k=e,S||(S=!0,E())}function O(e,n){x=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(I))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(x),x=-1):g=!0,O(_,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(I))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},724:(e,t,n)=>{"use strict";e.exports=n(692)},36:()=>{},472:(e,t,n)=>{var r={"./adoption.jpg":820,"./amb.jpg":328,"./home":460,"./home.jsx":460,"./photos/amb.jpg":876,"./recovery.jpg":596,"./recovery78.jpg":436,"./release.jpg":284,"./release2.jpg":228,"./rescue.jpg":464,"./rescue45.jpg":83,"./ri.jpg":676,"./shelter.jpg":388};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=472},820:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/adoption.18936ef61d892e5e955e.jpg"},328:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/amb.91357aaef92d9a076008.jpg"},876:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/amb.91357aaef92d9a076008.jpg"},596:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/recovery.b99377e1cbfa4ef44f73.jpg"},436:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/recovery78.1fd848246bbb0845d0d7.jpg"},284:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/release.5860e2eed5aabe3e10db.jpg"},228:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/release2.1559d216ddeeb9afd88a.jpg"},464:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/rescue.a6779e0929c2aa74548a.jpg"},83:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/rescue45.41e153dc0021f6482454.jpg"},676:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/ri.e5d7fe0575397f6c354f.jpg"},388:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/shelter.ab0168d854a93b26fa8f.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".cc5aa5d8.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="aashiyanabynaman:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={590:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkaashiyanabynaman=self.webpackChunkaashiyanabynaman||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>x,SDK_VERSION:()=>Ae,_DEFAULT_ENTRY_NAME:()=>ye,_addComponent:()=>_e,_addOrOverwriteComponent:()=>Ie,_apps:()=>we,_clearComponents:()=>xe,_components:()=>be,_getProvider:()=>Se,_registerComponent:()=>Ee,_removeServiceInstance:()=>ke,deleteApp:()=>Re,getApp:()=>De,getApps:()=>Pe,initializeApp:()=>Ce,onLog:()=>Le,registerVersion:()=>Oe,setLogLevel:()=>Me});var t=n(60),r=n(180);n.p;n(36);var i=n(460),s=n(560),a=n(416);const o=n.p+"static/media/shelter.ab0168d854a93b26fa8f.jpg",l=n.p+"static/media/close.aeec27d34d04f9b7e97f.png",c=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new d;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class d extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h=function(e){return function(e){const t=c(e);return u.encodeByteArray(t,!0)}(e).replace(/\./g,"")},f=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=p(e[n],t[n]));return e}const m=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,g=()=>{try{return m()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&f(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},y=()=>{var e;return null===(e=g())||void 0===e?void 0:e.config};class v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function w(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function b(){var e;const t=null===(e=g())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function _(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function I(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function E(){const e=w();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function S(){return!b()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){try{return"object"===typeof indexedDB}catch(e){return!1}}class x extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,x.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T.prototype.create)}}class T{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(N,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new x(n,s,t)}}const N=/\{\$([^}]+)}/g;function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function C(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(D(n)&&D(s)){if(!C(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function D(e){return null!==e&&"object"===typeof e}function P(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function R(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function O(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function L(e,t){const n=new M(e,t);return n.subscribe.bind(n)}class M{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=j),void 0===r.error&&(r.error=j),void 0===r.complete&&(r.complete=j);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function j(){}function F(e){return e&&e._delegate?e._delegate:e}class V{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const U="[DEFAULT]";class B{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new v;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:U})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===U?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U;return this.component?this.component.multipleInstances?e:U:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new B(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const q=[];var G;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(G||(G={}));const W={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},K=G.INFO,H={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},Q=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=H[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Y{constructor(e){this.name=e,this._logLevel=K,this._logHandler=Q,this._userLogHandler=null,q.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?W[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...t),this._logHandler(this,G.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...t),this._logHandler(this,G.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.INFO,...t),this._logHandler(this,G.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.WARN,...t),this._logHandler(this,G.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.ERROR,...t),this._logHandler(this,G.ERROR,...t)}}const J=(e,t)=>t.some((t=>e instanceof t));let X,$;const Z=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakMap;let ie={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ee.get(e);if("objectStoreNames"===t)return e.objectStoreNames||te.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oe(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function se(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?($||($=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(le(this),n),oe(Z.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oe(e.apply(le(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(le(this),t,...r);return te.set(s,t.sort?t.sort():[t]),oe(s)}}function ae(e){return"function"===typeof e?se(e):(e instanceof IDBTransaction&&function(e){if(ee.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));ee.set(e,t)}(e),J(e,X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ie):e)}function oe(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(oe(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Z.set(t,e)})).catch((()=>{})),re.set(t,e),t}(e);if(ne.has(e))return ne.get(e);const t=ae(e);return t!==e&&(ne.set(e,t),re.set(t,e)),t}const le=e=>re.get(e);const ce=["get","getKey","getAll","getAllKeys","count"],ue=["put","add","delete","clear"],de=new Map;function he(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(de.get(t))return de.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ue.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ce.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return de.set(t,s),s}ie=(e=>({...e,get:(t,n,r)=>he(t,n)||e.get(t,n,r),has:(t,n)=>!!he(t,n)||e.has(t,n)}))(ie);class fe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const pe="@firebase/app",me="0.9.27",ge=new Y("@firebase/app"),ye="[DEFAULT]",ve={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},we=new Map,be=new Map;function _e(e,t){try{e.container.addComponent(t)}catch(n){ge.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ie(e,t){e.container.addOrOverwriteComponent(t)}function Ee(e){const t=e.name;if(be.has(t))return ge.debug("There were multiple attempts to register component ".concat(t,".")),!1;be.set(t,e);for(const n of we.values())_e(n,e);return!0}function Se(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ke(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ye;Se(e,t).clearInstance(n)}function xe(){be.clear()}const Te=new T("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ne{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new V("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Te.create("app-deleted",{appName:this._name})}}const Ae="10.8.0";function Ce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ye,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Te.create("bad-app-name",{appName:String(i)});if(n||(n=y()),!n)throw Te.create("no-options");const s=we.get(i);if(s){if(C(n,s.options)&&C(r,s.config))return s;throw Te.create("duplicate-app",{appName:i})}const a=new z(i);for(const l of be.values())a.addComponent(l);const o=new Ne(n,r,a);return we.set(i,o),o}function De(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye;const t=we.get(e);if(!t&&e===ye&&y())return Ce();if(!t)throw Te.create("no-app",{appName:e});return t}function Pe(){return Array.from(we.values())}async function Re(e){const t=e.name;we.has(t)&&(we.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Oe(e,t,n){var r;let i=null!==(r=ve[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ge.warn(e.join(" "))}Ee(new V("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Le(e,t){if(null!==e&&"function"!==typeof e)throw Te.create("invalid-log-argument");!function(e,t){for(const n of q){let r=null;t&&t.level&&(r=W[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];const o=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:G[n].toLowerCase(),message:o,args:s,type:t.name})}}}(e,t)}function Me(e){var t;t=e,q.forEach((e=>{e.setLogLevel(t)}))}const je="firebase-heartbeat-database",Fe=1,Ve="firebase-heartbeat-store";let Ue=null;function Be(){return Ue||(Ue=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=oe(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(oe(a.result),e.oldVersion,e.newVersion,oe(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(je,Fe,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Ve)}catch(n){console.warn(n)}}}).catch((e=>{throw Te.create("idb-open",{originalErrorMessage:e.message})}))),Ue}async function ze(e,t){try{const n=(await Be()).transaction(Ve,"readwrite"),r=n.objectStore(Ve);await r.put(t,qe(e)),await n.done}catch(n){if(n instanceof x)ge.warn(n.message);else{const e=Te.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ge.warn(e.message)}}}function qe(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ge{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ke(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=We();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=We(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),He(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),He(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function We(){return(new Date).toISOString().substring(0,10)}class Ke{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!k()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Be()).transaction(Ve),n=await t.objectStore(Ve).get(qe(e));return await t.done,n}catch(t){if(t instanceof x)ge.warn(t.message);else{const e=Te.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ge.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ze(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ze(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function He(e){return h(JSON.stringify({version:2,heartbeats:e})).length}var Qe;Qe="",Ee(new V("platform-logger",(e=>new fe(e)),"PRIVATE")),Ee(new V("heartbeat",(e=>new Ge(e)),"PRIVATE")),Oe(pe,me,Qe),Oe(pe,me,"esm2017"),Oe("fire-js","");class Ye{constructor(e,t){this._delegate=e,this.firebase=t,_e(e,new V("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Re(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){_e(this._delegate,e)}_addOrOverwriteComponent(e){Ie(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Je=new T("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Xe=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Ce(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(A(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:Oe,setLogLevel:Me,onLog:Le,apps:null,SDK_VERSION:Ae,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(Ee(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Je.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&p(a,e.serviceProps),r[s]=a,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!A(n,e=e||ye))throw Je.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Ye);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){p(n,e)},createSubscribe:L,ErrorFactory:T,deepExtend:p}),n}(),$e=new Y("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){$e.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&$e.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=Xe;!function(e){Oe("@firebase/app-compat","0.2.27",e)}();Ze.registerVersion("firebase","10.8.0","app-compat");var et,tt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},nt={},rt=rt||{},it=tt||self;function st(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function at(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ot="closure_uid_"+(1e9*Math.random()>>>0),lt=0;function ct(e,t,n){return e.call.apply(e.bind,arguments)}function ut(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function dt(e,t,n){return(dt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ct:ut).apply(null,arguments)}function ht(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ft(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function pt(){this.s=this.s,this.o=this.o}pt.prototype.s=!1,pt.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ot)&&e[ot]||(e[ot]=++lt))},pt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function gt(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function yt(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(st(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function vt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var wt=function(){if(!it.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};it.addEventListener("test",e,t),it.removeEventListener("test",e,t)}catch(n){}return e}();function bt(e){return/^[\s\xa0]*$/.test(e)}function _t(){var e=it.navigator;return e&&(e=e.userAgent)?e:""}function It(e){return-1!=_t().indexOf(e)}function Et(e){return Et[" "](e),e}Et[" "]=function(){};var St,kt,xt=It("Opera"),Tt=It("Trident")||It("MSIE"),Nt=It("Edge"),At=Nt||Tt,Ct=It("Gecko")&&!(-1!=_t().toLowerCase().indexOf("webkit")&&!It("Edge"))&&!(It("Trident")||It("MSIE"))&&!It("Edge"),Dt=-1!=_t().toLowerCase().indexOf("webkit")&&!It("Edge");function Pt(){var e=it.document;return e?e.documentMode:void 0}e:{var Rt="",Ot=function(){var e=_t();return Ct?/rv:([^\);]+)(\)|;)/.exec(e):Nt?/Edge\/([\d\.]+)/.exec(e):Tt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Dt?/WebKit\/(\S+)/.exec(e):xt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ot&&(Rt=Ot?Ot[1]:""),Tt){var Lt=Pt();if(null!=Lt&&Lt>parseFloat(Rt)){St=String(Lt);break e}}St=Rt}if(it.document&&Tt){var Mt=Pt();kt=Mt||(parseInt(St,10)||void 0)}else kt=void 0;var jt=kt;function Ft(e,t){if(vt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ct){e:{try{Et(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Vt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ft.$.h.call(this)}}ft(Ft,vt);var Vt={2:"touch",3:"pen",4:"mouse"};Ft.prototype.h=function(){Ft.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function zt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Bt,this.fa=this.ia=!1}function qt(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Gt(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Wt(e){const t={};for(const n in e)t[n]=e[n];return t}const Kt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ht(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Kt.length;t++)n=Kt[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Qt(e){this.src=e,this.g={},this.h=0}function Yt(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=mt(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(qt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Jt(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Qt.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Jt(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new zt(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Xt="closure_lm_"+(1e6*Math.random()|0),$t={};function Zt(e,t,n,r,i){if(r&&r.once)return tn(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Zt(e,t[s],n,r,i);return null}return n=cn(n),e&&e[Ut]?e.O(t,n,at(r)?!!r.capture:!!r,i):en(e,t,n,!1,r,i)}function en(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=at(i)?!!i.capture:!!i,o=on(e);if(o||(e[Xt]=o=new Qt(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=an;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)wt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(sn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function tn(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)tn(e,t[s],n,r,i);return null}return n=cn(n),e&&e[Ut]?e.P(t,n,at(r)?!!r.capture:!!r,i):en(e,t,n,!0,r,i)}function nn(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)nn(e,t[s],n,r,i);else r=at(r)?!!r.capture:!!r,n=cn(n),e&&e[Ut]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Jt(s=e.g[t],n,r,i))&&(qt(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=on(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Jt(t,n,r,i)),(n=-1<e?t[e]:null)&&rn(n))}function rn(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ut])Yt(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(sn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=on(t))?(Yt(n,e),0==n.h&&(n.src=null,t[Xt]=null)):qt(e)}}}function sn(e){return e in $t?$t[e]:$t[e]="on"+e}function an(e,t){if(e.fa)e=!0;else{t=new Ft(t,this);var n=e.listener,r=e.la||e.src;e.ia&&rn(e),e=n.call(r,t)}return e}function on(e){return(e=e[Xt])instanceof Qt?e:null}var ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function cn(e){return"function"===typeof e?e:(e[ln]||(e[ln]=function(t){return e.handleEvent(t)}),e[ln])}function un(){pt.call(this),this.i=new Qt(this),this.S=this,this.J=null}function dn(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new vt(t,e);else if(t instanceof vt)t.target=t.target||e;else{var i=t;Ht(t=new vt(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=hn(a,r,!0,t)&&i}if(i=hn(a=t.g=e,r,!0,t)&&i,i=hn(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=hn(a=t.g=n[s],r,!1,t)&&i}function hn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Yt(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}ft(un,pt),un.prototype[Ut]=!0,un.prototype.removeEventListener=function(e,t,n,r){nn(this,e,t,n,r)},un.prototype.N=function(){if(un.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qt(n[r]);delete t.g[e],t.h--}}this.J=null},un.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},un.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var fn=it.JSON.stringify;function pn(){var e=_n;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var mn=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new gn),(e=>e.reset()));class gn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function yn(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function vn(e){it.setTimeout((()=>{throw e}),0)}let wn,bn=!1,_n=new class{constructor(){this.h=this.g=null}add(e,t){const n=mn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},In=()=>{const e=it.Promise.resolve(void 0);wn=()=>{e.then(En)}};var En=()=>{for(var e;e=pn();){try{e.h.call(e.g)}catch(n){vn(n)}var t=mn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}bn=!1};function Sn(e,t){un.call(this),this.h=e||1,this.g=t||it,this.j=dt(this.qb,this),this.l=Date.now()}function kn(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function xn(e,t,n){if("function"===typeof e)n&&(e=dt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=dt(e.handleEvent,e)}return 2147483647<Number(t)?-1:it.setTimeout(e,t||0)}function Tn(e){e.g=xn((()=>{e.g=null,e.i&&(e.i=!1,Tn(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}ft(Sn,un),(et=Sn.prototype).ga=!1,et.T=null,et.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),dn(this,"tick"),this.ga&&(kn(this),this.start()))}},et.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.N=function(){Sn.$.N.call(this),kn(this),delete this.g};class Nn extends pt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Tn(this)}N(){super.N(),this.g&&(it.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(e){pt.call(this),this.h=e,this.g={}}ft(An,pt);var Cn=[];function Dn(e,t,n,r){Array.isArray(n)||(n&&(Cn[0]=n.toString()),n=Cn);for(var i=0;i<n.length;i++){var s=Zt(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Pn(e){Gt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&rn(e)}),e),e.g={}}function Rn(){this.g=!0}function On(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return fn(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}An.prototype.N=function(){An.$.N.call(this),Pn(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rn.prototype.Ea=function(){this.g=!1},Rn.prototype.info=function(){};var Ln={},Mn=null;function jn(){return Mn=Mn||new un}function Fn(e){vt.call(this,Ln.Ta,e)}function Vn(e){const t=jn();dn(t,new Fn(t))}function Un(e,t){vt.call(this,Ln.STAT_EVENT,e),this.stat=t}function Bn(e){const t=jn();dn(t,new Un(t,e))}function zn(e,t){vt.call(this,Ln.Ua,e),this.size=t}function qn(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return it.setTimeout((function(){e()}),t)}Ln.Ta="serverreachability",ft(Fn,vt),Ln.STAT_EVENT="statevent",ft(Un,vt),Ln.Ua="timingevent",ft(zn,vt);var Gn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Wn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Kn(){}function Hn(e){return e.h||(e.h=e.i())}function Qn(){}Kn.prototype.h=null;var Yn,Jn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Xn(){vt.call(this,"d")}function $n(){vt.call(this,"c")}function Zn(){}function er(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new An(this),this.P=nr,e=At?125:void 0,this.V=new Sn(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tr}function tr(){this.i=null,this.g="",this.h=!1}ft(Xn,vt),ft($n,vt),ft(Zn,Kn),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},Yn=new Zn;var nr=45e3,rr={},ir={};function sr(e,t,n){e.L=1,e.A=Sr(wr(t)),e.u=n,e.S=!0,ar(e,null)}function ar(e,t){e.G=Date.now(),ur(e),e.B=wr(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),jr(n.i,"t",r),e.o=0,n=e.l.J,e.h=new tr,e.g=Fi(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Nn(dt(e.Pa,e,e.g),e.O)),Dn(e.U,e.g,"readystatechange",e.nb),t=e.I?Wt(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Vn(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function or(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function lr(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=cr(e,n),r==ir){4==t&&(e.s=4,Bn(14),i=!1),On(e.j,e.m,null,"[Incomplete Response]");break}if(r==rr){e.s=4,Bn(15),On(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}On(e.j,e.m,r,null),mr(e,r)}or(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Bn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ci(t),t.M=!0,Bn(11))):(On(e.j,e.m,n,"[Invalid Chunked Response]"),pr(e),fr(e))}function cr(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?ir:(n=Number(t.substring(n,r)),isNaN(n)?rr:(r+=1)+n>t.length?ir:(t=t.slice(r,r+n),e.o=r+n,t))}function ur(e){e.Y=Date.now()+e.P,dr(e,e.P)}function dr(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=qn(dt(e.lb,e),t)}function hr(e){e.C&&(it.clearTimeout(e.C),e.C=null)}function fr(e){0==e.l.H||e.J||Ri(e.l,e)}function pr(e){hr(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,kn(e.V),Pn(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function mr(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Gr(n.i,e)))if(!e.K&&Gr(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Pi(n),Ii(n)}Ai(n),Bn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=qn(dt(n.ib,n),6e3));if(1>=qr(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Li(n,11)}else if((e.K||n.g==e)&&Pi(n),!bt(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Wr(s,s.h),s.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Er(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=ji(r,r.J?r.pa:null,r.Y),a.K){Kr(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.C&&(hr(o),ur(o)),r.g=a}else Ni(r);0<n.j.length&&Si(n)}else"stop"!=c[0]&&"close"!=c[0]||Li(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Li(n,7):_i(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Vn()}catch(c){}}function gr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(st(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(st(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(st(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(et=er.prototype).setTimeout=function(e){this.P=e},et.nb=function(e){e=e.target;const t=this.M;t&&3==mi(e)?t.l():this.Pa(e)},et.Pa=function(e){try{if(e==this.g)e:{const u=mi(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||At||this.g&&(this.h.h||this.g.ja()||gi(this.g)))){this.J||4!=u||7==t||Vn(),hr(this);var n=this.g.da();this.ca=n;t:if(or(this)){var r=gi(this.g);e="";var i=r.length,s=4==mi(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){pr(this),fr(this);var a="";break t}this.h.i=new it.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bt(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Bn(12),pr(this),fr(this);break e}On(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mr(this,n)}this.S?(lr(this,u,a),At&&this.i&&3==u&&(Dn(this.U,this.V,"tick",this.mb),this.V.start())):(On(this.j,this.m,a,null),mr(this,a)),4==u&&pr(this),this.i&&!this.J&&(4==u?Ri(this.l,this):(this.i=!1,ur(this)))}else(function(e){const t={};e=(e.g&&2<=mi(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(bt(e[r]))continue;var n=yn(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Bn(12)):(this.s=0,Bn(13)),pr(this),fr(this)}}}catch(u){}},et.mb=function(){if(this.g){var e=mi(this.g),t=this.g.ja();this.o<t.length&&(hr(this),lr(this,e,t),this.i&&4!=e&&ur(this))}},et.cancel=function(){this.J=!0,pr(this)},et.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Vn(),Bn(17)),pr(this),this.s=2,fr(this)):dr(this,this.Y-e)};var yr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof vr){this.h=e.h,br(this,e.j),this.s=e.s,this.g=e.g,_r(this,e.m),this.l=e.l;var t=e.i,n=new Rr;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ir(this,n),this.o=e.o}else e&&(t=String(e).match(yr))?(this.h=!1,br(this,t[1]||"",!0),this.s=kr(t[2]||""),this.g=kr(t[3]||"",!0),_r(this,t[4]),this.l=kr(t[5]||"",!0),Ir(this,t[6]||"",!0),this.o=kr(t[7]||"")):(this.h=!1,this.i=new Rr(null,this.h))}function wr(e){return new vr(e)}function br(e,t,n){e.j=n?kr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _r(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ir(e,t,n){t instanceof Rr?(e.i=t,function(e,t){t&&!e.j&&(Or(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Lr(this,t),jr(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=xr(t,Dr)),e.i=new Rr(t,e.h))}function Er(e,t,n){e.i.set(t,n)}function Sr(e){return Er(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function kr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xr(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Tr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Tr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xr(t,Nr,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(xr(t,Nr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(xr(n,"/"==n.charAt(0)?Cr:Ar,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xr(n,Pr)),e.join("")};var Nr=/[#\/\?@]/g,Ar=/[#\?:]/g,Cr=/[#\?]/g,Dr=/[#\?@]/g,Pr=/#/g;function Rr(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Or(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Lr(e,t){Or(e),t=Fr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Mr(e,t){return Or(e),t=Fr(e,t),e.g.has(t)}function jr(e,t,n){Lr(e,t),0<n.length&&(e.i=null,e.g.set(Fr(e,t),gt(n)),e.h+=n.length)}function Fr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(et=Rr.prototype).add=function(e,t){Or(this),this.i=null,e=Fr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},et.forEach=function(e,t){Or(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},et.ta=function(){Or(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},et.Z=function(e){Or(this);let t=[];if("string"===typeof e)Mr(this,e)&&(t=t.concat(this.g.get(Fr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},et.set=function(e,t){return Or(this),this.i=null,Mr(this,e=Fr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},et.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Vr=class{constructor(e,t){this.g=e,this.map=t}};function Ur(e){this.l=e||Br,it.PerformanceNavigationTiming?e=0<(e=it.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(it.g&&it.g.Ka&&it.g.Ka()&&it.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Br=10;function zr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function qr(e){return e.h?1:e.g?e.g.size:0}function Gr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Wr(e,t){e.g?e.g.add(t):e.h=t}function Kr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Hr(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return gt(e.i)}Ur.prototype.cancel=function(){if(this.i=Hr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Qr,Yr=class{stringify(e){return it.JSON.stringify(e,void 0)}parse(e){return it.JSON.parse(e,void 0)}};function Jr(){this.g=new Yr}function Xr(e,t,n){const r=n||"";try{gr(e,(function(e,n){let i=e;at(e)&&(i=fn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function $r(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Zr(e){this.l=e.ec||null,this.j=e.ob||!1}function ei(e,t){un.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ti,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ft(Zr,Kn),Zr.prototype.g=function(){return new ei(this.l,this.j)},Zr.prototype.i=(Qr={},function(){return Qr}),ft(ei,un);var ti=0;function ni(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ri(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ii(e)}function ii(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(et=ei.prototype).open=function(e,t){if(this.readyState!=ti)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ii(this)},et.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||it).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ri(this)),this.readyState=ti},et.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof it.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ni(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},et.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ri(this):ii(this),3==this.readyState&&ni(this)}},et.Za=function(e){this.g&&(this.response=this.responseText=e,ri(this))},et.Ya=function(e){this.g&&(this.response=e,ri(this))},et.ka=function(){this.g&&ri(this)},et.setRequestHeader=function(e,t){this.v.append(e,t)},et.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var si=it.JSON.parse;function ai(e){un.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=oi,this.L=this.M=!1}ft(ai,un);var oi="",li=/^https?$/i,ci=["POST","PUT"];function ui(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,di(e),fi(e)}function di(e){e.F||(e.F=!0,dn(e,"complete"),dn(e,"error"))}function hi(e){if(e.h&&"undefined"!=typeof rt&&(!e.C[1]||4!=mi(e)||2!=e.da()))if(e.v&&4==mi(e))xn(e.La,0,e);else if(dn(e,"readystatechange"),4==mi(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(yr)[1]||null;!i&&it.self&&it.self.location&&(i=it.self.location.protocol.slice(0,-1)),r=!li.test(i?i.toLowerCase():"")}n=r}if(n)dn(e,"complete"),dn(e,"success");else{e.m=6;try{var s=2<mi(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",di(e)}}finally{fi(e)}}}function fi(e,t){if(e.g){pi(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||dn(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function pi(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(it.clearTimeout(e.A),e.A=null)}function mi(e){return e.g?e.g.readyState:0}function gi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case oi:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Es){return null}}function yi(e){let t="";return Gt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function vi(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yi(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Er(e,t,n))}function wi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bi(e){this.Ga=0,this.j=[],this.l=new Rn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wi("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wi("baseRetryDelayMs",5e3,e),this.hb=wi("retryDelaySeedMs",1e4,e),this.eb=wi("forwardChannelMaxRetries",2,e),this.xa=wi("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ur(e&&e.concurrentRequestLimit),this.Ja=new Jr,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function _i(e){if(Ei(e),3==e.H){var t=e.W++,n=wr(e.I);if(Er(n,"SID",e.K),Er(n,"RID",t),Er(n,"TYPE","terminate"),xi(e,n),(t=new er(e,e.l,t)).L=2,t.A=Sr(wr(n)),n=!1,it.navigator&&it.navigator.sendBeacon)try{n=it.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&it.Image&&((new Image).src=t.A,n=!0),n||(t.g=Fi(t.l,null),t.g.ha(t.A)),t.G=Date.now(),ur(t)}Mi(e)}function Ii(e){e.g&&(Ci(e),e.g.cancel(),e.g=null)}function Ei(e){Ii(e),e.u&&(it.clearTimeout(e.u),e.u=null),Pi(e),e.i.cancel(),e.m&&("number"===typeof e.m&&it.clearTimeout(e.m),e.m=null)}function Si(e){if(!zr(e.i)&&!e.m){e.m=!0;var t=e.Na;wn||In(),bn||(wn(),bn=!0),_n.add(t,e),e.C=0}}function ki(e,t){var n;n=t?t.m:e.W++;const r=wr(e.I);Er(r,"SID",e.K),Er(r,"RID",n),Er(r,"AID",e.V),xi(e,r),e.o&&e.s&&vi(r,e.o,e.s),n=new er(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ti(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Wr(e.i,n),sr(n,r,t)}function xi(e,t){e.na&&Gt(e.na,(function(e,n){Er(t,n,e)})),e.h&&gr({},(function(e,n){Er(t,n,e)}))}function Ti(e,t,n){n=Math.min(e.j.length,n);var r=e.h?dt(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Xr(o,e,"req"+n+"_")}catch(Ua){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Ni(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;wn||In(),bn||(wn(),bn=!0),_n.add(t,e),e.A=0}}function Ai(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=qn(dt(e.Ma,e),Oi(e,e.A)),e.A++,!0)}function Ci(e){null!=e.B&&(it.clearTimeout(e.B),e.B=null)}function Di(e){e.g=new er(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=wr(e.wa);Er(t,"RID","rpc"),Er(t,"SID",e.K),Er(t,"AID",e.V),Er(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Er(t,"TO",e.qa),Er(t,"TYPE","xmlhttp"),xi(e,t),e.o&&e.s&&vi(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Sr(wr(t)),n.u=null,n.S=!0,ar(n,e)}function Pi(e){null!=e.v&&(it.clearTimeout(e.v),e.v=null)}function Ri(e,t){var n=null;if(e.g==t){Pi(e),Ci(e),e.g=null;var r=2}else{if(!Gr(e.i,t))return;n=t.F,Kr(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;dn(r=jn(),new zn(r,n)),Si(e)}else Ni(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(qr(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=qn(dt(e.Na,e,t),Oi(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ai(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Li(e,5);break;case 4:Li(e,10);break;case 3:Li(e,6);break;default:Li(e,2)}}function Oi(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Li(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=dt(e.pb,e);n||(n=new vr("//www.google.com/images/cleardot.gif"),it.location&&"http"==it.location.protocol||br(n,"https"),Sr(n)),function(e,t){const n=new Rn;if(it.Image){const r=new Image;r.onload=ht($r,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ht($r,n,r,"TestLoadImage: error",!1,t),r.onabort=ht($r,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ht($r,n,r,"TestLoadImage: timeout",!1,t),it.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Bn(2);e.H=0,e.h&&e.h.za(t),Mi(e),Ei(e)}function Mi(e){if(e.H=0,e.ma=[],e.h){const t=Hr(e.i);0==t.length&&0==e.j.length||(yt(e.ma,t),yt(e.ma,e.j),e.i.i.length=0,gt(e.j),e.j.length=0),e.h.ya()}}function ji(e,t,n){var r=n instanceof vr?wr(n):new vr(n);if(""!=r.g)t&&(r.g=t+"."+r.g),_r(r,r.m);else{var i=it.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new vr(null);r&&br(s,r),t&&(s.g=t),i&&_r(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Er(r,n,t),Er(r,"VER",e.ra),xi(e,r),r}function Fi(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new ai(new Zr({ob:n})):new ai(e.va)).Oa(e.J),t}function Vi(){}function Ui(){if(Tt&&!(10<=Number(jt)))throw Error("Environmental error: no available transport.")}function Bi(e,t){un.call(this),this.g=new bi(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!bt(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!bt(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Gi(this)}function zi(e){Xn.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function qi(){$n.call(this),this.status=1}function Gi(e){this.g=e}function Wi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ki(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Hi(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(et=ai.prototype).Oa=function(e){this.M=e},et.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yn.g(),this.C=this.u?Hn(this.u):Hn(Yn),this.g.onreadystatechange=dt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void ui(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=it.FormData&&e instanceof it.FormData,!(0<=mt(ci,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pi(this),0<this.B&&((this.L=function(e){return Tt&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dt(this.ua,this)):this.A=xn(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ui(this,s)}},et.ua=function(){"undefined"!=typeof rt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dn(this,"timeout"),this.abort(8))},et.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,dn(this,"complete"),dn(this,"abort"),fi(this))},et.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fi(this,!0)),ai.$.N.call(this)},et.La=function(){this.s||(this.G||this.v||this.l?hi(this):this.kb())},et.kb=function(){hi(this)},et.isActive=function(){return!!this.g},et.da=function(){try{return 2<mi(this)?this.g.status:-1}catch(Qr){return-1}},et.ja=function(){try{return this.g?this.g.responseText:""}catch(Qr){return""}},et.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),si(t)}},et.Ia=function(){return this.m},et.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(et=bi.prototype).ra=8,et.H=1,et.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new er(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Wt(s),Ht(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ti(this,i,t),Er(n=wr(this.I),"RID",e),Er(n,"CVER",22),this.F&&Er(n,"X-HTTP-Session-Id",this.F),xi(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(yi(s)))+"&"+t:this.o&&vi(n,this.o,s)),Wr(this.i,i),this.bb&&Er(n,"TYPE","init"),this.P?(Er(n,"$req",t),Er(n,"SID","null"),i.aa=!0,sr(i,n,null)):sr(i,n,t),this.H=2}}else 3==this.H&&(e?ki(this,e):0==this.j.length||zr(this.i)||ki(this))},et.Ma=function(){if(this.u=null,Di(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=qn(dt(this.jb,this),e)}},et.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bn(10),Ii(this),Di(this))},et.ib=function(){null!=this.v&&(this.v=null,Ii(this),Ai(this),Bn(19))},et.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Bn(2)):(this.l.info("Failed to ping google.com"),Bn(1))},et.isActive=function(){return!!this.h&&this.h.isActive(this)},(et=Vi.prototype).Ba=function(){},et.Aa=function(){},et.za=function(){},et.ya=function(){},et.isActive=function(){return!0},et.Va=function(){},Ui.prototype.g=function(e,t){return new Bi(e,t)},ft(Bi,un),Bi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Bn(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ji(e,null,e.Y),Si(e)},Bi.prototype.close=function(){_i(this.g)},Bi.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=fn(e),e=n);t.j.push(new Vr(t.fb++,e)),3==t.H&&Si(t)},Bi.prototype.N=function(){this.g.h=null,delete this.j,_i(this.g),delete this.g,Bi.$.N.call(this)},ft(zi,Xn),ft(qi,$n),ft(Gi,Vi),Gi.prototype.Ba=function(){dn(this.g,"a")},Gi.prototype.Aa=function(e){dn(this.g,new zi(e))},Gi.prototype.za=function(e){dn(this.g,new qi)},Gi.prototype.ya=function(){dn(this.g,"b")},ft(Wi,(function(){this.blockSize=-1})),Wi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Wi.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Ki(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Ki(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Ki(this,r),i=0;break}}this.h=i,this.i+=t},Wi.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Qi={};function Yi(e){return-128<=e&&128>e?function(e,t){var n=Qi;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Hi([0|e],0>e?-1:0)})):new Hi([0|e],0>e?-1:0)}function Ji(e){if(isNaN(e)||!isFinite(e))return $i;if(0>e)return rs(Ji(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Xi;return new Hi(t,0)}var Xi=4294967296,$i=Yi(0),Zi=Yi(1),es=Yi(16777216);function ts(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ns(e){return-1==e.h}function rs(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Hi(n,~e.h).add(Zi)}function is(e,t){return e.add(rs(t))}function ss(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function as(e,t){this.g=e,this.h=t}function os(e,t){if(ts(t))throw Error("division by zero");if(ts(e))return new as($i,$i);if(ns(e))return t=os(rs(e),t),new as(rs(t.g),rs(t.h));if(ns(t))return t=os(e,rs(t)),new as(rs(t.g),t.h);if(30<e.g.length){if(ns(e)||ns(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Zi,r=t;0>=r.X(e);)n=ls(n),r=ls(r);var i=cs(n,1),s=cs(r,1);for(r=cs(r,2),n=cs(n,2);!ts(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=cs(r,1),n=cs(n,1)}return t=is(e,i.R(t)),new as(i,t)}for(i=$i;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Ji(n)).R(t);ns(a)||0<a.X(e);)a=(s=Ji(n-=r)).R(t);ts(s)&&(s=Zi),i=i.add(s),e=is(e,a)}return new as(i,e)}function ls(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Hi(n,e.h)}function cs(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Hi(i,e.h)}(et=Hi.prototype).ea=function(){if(ns(this))return-rs(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Xi+r)*t,t*=Xi}return e},et.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(ts(this))return"0";if(ns(this))return"-"+rs(this).toString(e);for(var t=Ji(Math.pow(e,6)),n=this,r="";;){var i=os(n,t).g,s=((0<(n=is(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(ts(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},et.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},et.X=function(e){return ns(e=is(this,e))?-1:ts(e)?0:1},et.abs=function(){return ns(this)?rs(this):this},et.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new Hi(n,-2147483648&n[n.length-1]?-1:0)},et.R=function(e){if(ts(this)||ts(e))return $i;if(ns(this))return ns(e)?rs(this).R(rs(e)):rs(rs(this).R(e));if(ns(e))return rs(this.R(rs(e)));if(0>this.X(es)&&0>e.X(es))return Ji(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,ss(n,2*r+2*i),n[2*r+2*i+1]+=s*l,ss(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,ss(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,ss(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Hi(n,0)},et.gb=function(e){return os(this,e).h},et.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Hi(n,this.h&e.h)},et.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Hi(n,this.h|e.h)},et.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Hi(n,this.h^e.h)},Ui.prototype.createWebChannel=Ui.prototype.g,Bi.prototype.send=Bi.prototype.u,Bi.prototype.open=Bi.prototype.m,Bi.prototype.close=Bi.prototype.close,Gn.NO_ERROR=0,Gn.TIMEOUT=8,Gn.HTTP_ERROR=6,Wn.COMPLETE="complete",Qn.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",un.prototype.listen=un.prototype.O,ai.prototype.listenOnce=ai.prototype.P,ai.prototype.getLastError=ai.prototype.Sa,ai.prototype.getLastErrorCode=ai.prototype.Ia,ai.prototype.getStatus=ai.prototype.da,ai.prototype.getResponseJson=ai.prototype.Wa,ai.prototype.getResponseText=ai.prototype.ja,ai.prototype.send=ai.prototype.ha,ai.prototype.setWithCredentials=ai.prototype.Oa,Wi.prototype.digest=Wi.prototype.l,Wi.prototype.reset=Wi.prototype.reset,Wi.prototype.update=Wi.prototype.j,Hi.prototype.add=Hi.prototype.add,Hi.prototype.multiply=Hi.prototype.R,Hi.prototype.modulo=Hi.prototype.gb,Hi.prototype.compare=Hi.prototype.X,Hi.prototype.toNumber=Hi.prototype.ea,Hi.prototype.toString=Hi.prototype.toString,Hi.prototype.getBits=Hi.prototype.D,Hi.fromNumber=Ji,Hi.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return rs(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ji(Math.pow(n,8)),i=$i,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=Ji(Math.pow(n,a)),i=i.R(a).add(Ji(o))):i=(i=i.R(r)).add(Ji(o))}return i};var us=nt.createWebChannelTransport=function(){return new Ui},ds=nt.getStatEventTarget=function(){return jn()},hs=nt.ErrorCode=Gn,fs=nt.EventType=Wn,ps=nt.Event=Ln,ms=nt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},gs=(nt.FetchXmlHttpFactory=Zr,nt.WebChannel=Qn),ys=nt.XhrIo=ai,vs=nt.Md5=Wi,ws=nt.Integer=Hi;const bs="@firebase/firestore";class _s{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_s.UNAUTHENTICATED=new _s(null),_s.GOOGLE_CREDENTIALS=new _s("google-credentials-uid"),_s.FIRST_PARTY=new _s("first-party-uid"),_s.MOCK_USER=new _s("mock-user");let Is="10.8.0";const Es=new Y("@firebase/firestore");function Ss(){return Es.logLevel}function ks(e){if(Es.logLevel<=G.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ns);Es.debug("Firestore (".concat(Is,"): ").concat(e),...i)}}function xs(e){if(Es.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ns);Es.error("Firestore (".concat(Is,"): ").concat(e),...i)}}function Ts(e){if(Es.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ns);Es.warn("Firestore (".concat(Is,"): ").concat(e),...i)}}function Ns(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function As(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Is,") INTERNAL ASSERTION FAILED: ")+e;throw xs(t),new Error(t)}function Cs(e,t){e||As()}function Ds(e,t){return e}const Ps={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rs extends x{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Os{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Ls{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Ms{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(_s.UNAUTHENTICATED)))}shutdown(){}}class js{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Fs{constructor(e){this.t=e,this.currentUser=_s.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Os,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{ks("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(ks("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Os)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ks("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Cs("string"==typeof t.accessToken),new Ls(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Cs(null===e||"string"==typeof e),new _s(e)}}class Vs{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=_s.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Us{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Vs(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(_s.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zs{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&ks("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,ks("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ks("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ks("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Cs("string"==typeof e.token),this.R=e.token,new Bs(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qs(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Gs{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=qs(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ws(e,t){return e<t?-1:e>t?1:0}function Ks(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Hs(e){return e+"\0"}class Qs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Rs(Ps.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Rs(Ps.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Rs(Ps.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rs(Ps.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qs.fromMillis(Date.now())}static fromDate(e){return Qs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Qs(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ws(this.nanoseconds,e.nanoseconds):Ws(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ys{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ys(e)}static min(){return new Ys(new Qs(0,0))}static max(){return new Ys(new Qs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Js{constructor(e,t,n){void 0===t?t=0:t>e.length&&As(),void 0===n?n=e.length-t:n>e.length-t&&As(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Js.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Js?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xs extends Js{construct(e,t,n){return new Xs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Rs(Ps.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Xs(e)}static emptyPath(){return new Xs([])}}const $s=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zs extends Js{construct(e,t,n){return new Zs(e,t,n)}static isValidIdentifier(e){return $s.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zs(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Rs(Ps.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Rs(Ps.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Rs(Ps.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Rs(Ps.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zs(t)}static emptyPath(){return new Zs([])}}class ea{constructor(e){this.path=e}static fromPath(e){return new ea(Xs.fromString(e))}static fromName(e){return new ea(Xs.fromString(e).popFirst(5))}static empty(){return new ea(Xs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ea(new Xs(e.slice()))}}class ta{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function na(e){return e.fields.find((e=>2===e.kind))}function ra(e){return e.fields.filter((e=>2!==e.kind))}ta.UNKNOWN_ID=-1;class ia{constructor(e,t){this.fieldPath=e,this.kind=t}}class sa{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new sa(0,la.min())}}function aa(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ys.fromTimestamp(1e9===r?new Qs(n+1,0):new Qs(n,r));return new la(i,ea.empty(),t)}function oa(e){return new la(e.readTime,e.key,-1)}class la{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new la(Ys.min(),ea.empty(),-1)}static max(){return new la(Ys.max(),ea.empty(),-1)}}function ca(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ea.comparator(e.documentKey,t.documentKey),0!==n?n:Ws(e.largestBatchId,t.largestBatchId))}const ua="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class da{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ha(e){if(e.code!==Ps.FAILED_PRECONDITION||e.message!==ua)throw e;ks("LocalStore","Unexpectedly lost primary lease")}class fa{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&As(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fa(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof fa?t:fa.resolve(t)}catch(e){return fa.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):fa.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):fa.reject(t)}static resolve(e){return new fa(((t,n)=>{t(e)}))}static reject(e){return new fa(((t,n)=>{n(e)}))}static waitFor(e){return new fa(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=fa.resolve(!1);for(const n of e)t=t.next((e=>e?fa.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new fa(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new fa(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class pa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Os,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ya(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Ia(t.target.error);this.V.reject(new ya(e,n))}}static open(e,t,n,r){try{return new pa(t,e.transaction(r,n))}catch(e){throw new ya(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ks("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new wa(t)}}class ma{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===ma.S(w())&&xs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ks("SimpleDb","Removing database:",e),ba(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!k())return!1;if(ma.C())return!0;const e=w(),t=ma.S(e),n=0<t&&t<10,r=ma.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(ks("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ya(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Rs(Ps.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Rs(Ps.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ya(e,r))},r.onupgradeneeded=e=>{ks("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{ks("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=pa.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),fa.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(ks("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ga{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ba(this.k.delete())}}class ya extends Rs{constructor(e,t){super(Ps.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function va(e){return"IndexedDbTransactionError"===e.name}class wa{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(ks("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ks("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ba(n)}add(e){return ks("SimpleDb","ADD",this.store.name,e,e),ba(this.store.add(e))}get(e){return ba(this.store.get(e)).next((t=>(void 0===t&&(t=null),ks("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return ks("SimpleDb","DELETE",this.store.name,e),ba(this.store.delete(e))}count(){return ks("SimpleDb","COUNT",this.store.name),ba(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new fa(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new fa(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){ks("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new fa(((n,r)=>{t.onerror=e=>{const t=Ia(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new fa(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new ga(i),a=t(i.primaryKey,i.value,s);if(a instanceof fa){const e=a.catch((e=>(s.done(),fa.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>fa.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ba(e){return new fa(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ia(e.target.error);n(t)}}))}let _a=!1;function Ia(e){const t=ma.S(w());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Rs("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return _a||(_a=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Ea{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){ks("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{ks("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){va(e)?ks("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await ha(e)}await this.ee(6e4)}))}}class Sa{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return fa.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return ks("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(ks("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=oa(t);ca(r,n)>0&&(n=r)})),new la(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ka{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function xa(e){return null==e}function Ta(e){return 0===e&&1/e==-1/0}function Na(e){return"number"==typeof e&&Number.isInteger(e)&&!Ta(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Aa(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Da(t)),t=Ca(e.get(n),t);return Da(t)}function Ca(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Da(e){return e+"\x01\x01"}function Pa(e){const t=e.length;if(Cs(t>=2),2===t)return Cs("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Xs.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&As(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:As()}s=t+2}return new Xs(r)}ka._e=-1;const Ra=["userId","batchId"];function Oa(e,t){return[e,Aa(t)]}function La(e,t,n){return[e,Aa(t),n]}const Ma={},ja=["prefixPath","collectionGroup","readTime","documentId"],Fa=["prefixPath","collectionGroup","documentId"],Va=["collectionGroup","readTime","prefixPath","documentId"],Ua=["canonicalId","targetId"],Ba=["targetId","path"],za=["path","targetId"],qa=["collectionId","parent"],Ga=["indexId","uid"],Wa=["uid","sequenceNumber"],Ka=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ha=["indexId","uid","orderedDocumentKey"],Qa=["userId","collectionPath","documentId"],Ya=["userId","collectionPath","largestBatchId"],Ja=["userId","collectionGroup","largestBatchId"],Xa=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$a=[...Xa,"documentOverlays"],Za=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eo=Za,to=[...eo,"indexConfiguration","indexState","indexEntries"];class no extends da{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function ro(e,t){const n=Ds(e);return ma.M(n.ae,t)}function io(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function so(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ao(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class oo{constructor(e,t){this.comparator=e,this.root=t||co.EMPTY}insert(e,t){return new oo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,co.BLACK,null,null))}remove(e){return new oo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,co.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lo(this.root,e,this.comparator,!1)}getReverseIterator(){return new lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lo(this.root,e,this.comparator,!0)}}class lo{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class co{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:co.RED,this.left=null!=r?r:co.EMPTY,this.right=null!=i?i:co.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new co(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return co.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return co.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,co.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,co.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw As();if(this.right.isRed())throw As();const e=this.left.check();if(e!==this.right.check())throw As();return e+(this.isRed()?0:1)}}co.EMPTY=null,co.RED=!0,co.BLACK=!1,co.EMPTY=new class{constructor(){this.size=0}get key(){throw As()}get value(){throw As()}get color(){throw As()}get left(){throw As()}get right(){throw As()}copy(e,t,n,r,i){return this}insert(e,t,n){return new co(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class uo{constructor(e){this.comparator=e,this.data=new oo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ho(this.data.getIterator())}getIteratorFrom(e){return new ho(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof uo))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new uo(this.comparator);return t.data=e,t}}class ho{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fo(e){return e.hasNext()?e.getNext():void 0}class po{constructor(e){this.fields=e,e.sort(Zs.comparator)}static empty(){return new po([])}unionWith(e){let t=new uo(Zs.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new po(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ks(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class mo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class go{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new mo("Invalid base64 string: "+e):e}}(e);return new go(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new go(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ws(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}go.EMPTY_BYTE_STRING=new go("");const yo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(e){if(Cs(!!e),"string"==typeof e){let t=0;const n=yo.exec(e);if(Cs(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:wo(e.seconds),nanos:wo(e.nanos)}}function wo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function bo(e){return"string"==typeof e?go.fromBase64String(e):go.fromUint8Array(e)}function _o(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Io(e){const t=e.mapValue.fields.__previous_value__;return _o(t)?Io(t):t}function Eo(e){const t=vo(e.mapValue.fields.__local_write_time__.timestampValue);return new Qs(t.seconds,t.nanos)}class So{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class ko{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ko("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ko&&e.projectId===this.projectId&&e.database===this.database}}const xo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},To={nullValue:"NULL_VALUE"};function No(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_o(e)?4:zo(e)?9007199254740991:10:As()}function Ao(e,t){if(e===t)return!0;const n=No(e);if(n!==No(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Eo(e).isEqual(Eo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=vo(e.timestampValue),r=vo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return bo(e.bytesValue).isEqual(bo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return wo(e.geoPointValue.latitude)===wo(t.geoPointValue.latitude)&&wo(e.geoPointValue.longitude)===wo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return wo(e.integerValue)===wo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=wo(e.doubleValue),r=wo(t.doubleValue);return n===r?Ta(n)===Ta(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ks(e.arrayValue.values||[],t.arrayValue.values||[],Ao);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(io(n)!==io(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ao(n[i],r[i])))return!1;return!0}(e,t);default:return As()}}function Co(e,t){return void 0!==(e.values||[]).find((e=>Ao(e,t)))}function Do(e,t){if(e===t)return 0;const n=No(e),r=No(t);if(n!==r)return Ws(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ws(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=wo(e.integerValue||e.doubleValue),r=wo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Po(e.timestampValue,t.timestampValue);case 4:return Po(Eo(e),Eo(t));case 5:return Ws(e.stringValue,t.stringValue);case 6:return function(e,t){const n=bo(e),r=bo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ws(n[i],r[i]);if(0!==e)return e}return Ws(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ws(wo(e.latitude),wo(t.latitude));return 0!==n?n:Ws(wo(e.longitude),wo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Do(n[i],r[i]);if(e)return e}return Ws(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===xo.mapValue&&t===xo.mapValue)return 0;if(e===xo.mapValue)return 1;if(t===xo.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Ws(r[a],s[a]);if(0!==e)return e;const t=Do(n[r[a]],i[s[a]]);if(0!==t)return t}return Ws(r.length,s.length)}(e.mapValue,t.mapValue);default:throw As()}}function Po(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ws(e,t);const n=vo(e),r=vo(t),i=Ws(n.seconds,r.seconds);return 0!==i?i:Ws(n.nanos,r.nanos)}function Ro(e){return Oo(e)}function Oo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=vo(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return bo(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ea.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Oo(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Oo(e.fields[i]));return n+"}"}(e.mapValue):As()}function Lo(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Mo(e){return!!e&&"integerValue"in e}function jo(e){return!!e&&"arrayValue"in e}function Fo(e){return!!e&&"nullValue"in e}function Vo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Uo(e){return!!e&&"mapValue"in e}function Bo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return so(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Bo(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Bo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function zo(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function qo(e){return"nullValue"in e?To:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Lo(ko.empty(),ea.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:As()}function Go(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Lo(ko.empty(),ea.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?xo:As()}function Wo(e,t){const n=Do(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ko(e,t){const n=Do(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Ho{constructor(e){this.value=e}static empty(){return new Ho({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Uo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bo(t)}setAll(e){let t=Zs.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Bo(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Uo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ao(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Uo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){so(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ho(Bo(this.value))}}function Qo(e){const t=[];return so(e.fields,((e,n)=>{const r=new Zs([e]);if(Uo(n)){const e=Qo(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new po(t)}class Yo{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Yo(e,0,Ys.min(),Ys.min(),Ys.min(),Ho.empty(),0)}static newFoundDocument(e,t,n,r){return new Yo(e,1,t,Ys.min(),n,r,0)}static newNoDocument(e,t){return new Yo(e,2,t,Ys.min(),Ys.min(),Ho.empty(),0)}static newUnknownDocument(e,t){return new Yo(e,3,t,Ys.min(),Ys.min(),Ho.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ys.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ho.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ho.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ys.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Jo{constructor(e,t){this.position=e,this.inclusive=t}}function Xo(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?ea.comparator(ea.fromName(a.referenceValue),n.key):Do(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function $o(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ao(e.position[n],t.position[n]))return!1;return!0}class Zo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function el(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class tl{}class nl extends tl{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new hl(e,t,n):"array-contains"===t?new gl(e,n):"in"===t?new yl(e,n):"not-in"===t?new vl(e,n):"array-contains-any"===t?new wl(e,n):new nl(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new fl(e,n):new pl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Do(t,this.value)):null!==t&&No(this.value)===No(t)&&this.matchesComparison(Do(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return As()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rl extends tl{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new rl(e,t)}matches(e){return il(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function il(e){return"and"===e.op}function sl(e){return"or"===e.op}function al(e){return ol(e)&&il(e)}function ol(e){for(const t of e.filters)if(t instanceof rl)return!1;return!0}function ll(e){if(e instanceof nl)return e.field.canonicalString()+e.op.toString()+Ro(e.value);if(al(e))return e.filters.map((e=>ll(e))).join(",");{const t=e.filters.map((e=>ll(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function cl(e,t){return e instanceof nl?function(e,t){return t instanceof nl&&e.op===t.op&&e.field.isEqual(t.field)&&Ao(e.value,t.value)}(e,t):e instanceof rl?function(e,t){return t instanceof rl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&cl(n,t.filters[r])),!0)}(e,t):void As()}function ul(e,t){const n=e.filters.concat(t);return rl.create(n,e.op)}function dl(e){return e instanceof nl?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ro(e.value))}(e):e instanceof rl?function(e){return e.op.toString()+" {"+e.getFilters().map(dl).join(" ,")+"}"}(e):"Filter"}class hl extends nl{constructor(e,t,n){super(e,t,n),this.key=ea.fromName(n.referenceValue)}matches(e){const t=ea.comparator(e.key,this.key);return this.matchesComparison(t)}}class fl extends nl{constructor(e,t){super(e,"in",t),this.keys=ml("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class pl extends nl{constructor(e,t){super(e,"not-in",t),this.keys=ml("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ml(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ea.fromName(e.referenceValue)))}class gl extends nl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jo(t)&&Co(t.arrayValue,this.value)}}class yl extends nl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Co(this.value.arrayValue,t)}}class vl extends nl{constructor(e,t){super(e,"not-in",t)}matches(e){if(Co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Co(this.value.arrayValue,t)}}class wl extends nl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jo(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Co(this.value.arrayValue,e)))}}class bl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ce=null}}function _l(e){return new bl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Il(e){const t=Ds(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ll(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),xa(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ro(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ro(e))).join(",")),t.ce=e}return t.ce}function El(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!el(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!cl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$o(e.startAt,t.startAt)&&$o(e.endAt,t.endAt)}function Sl(e){return ea.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function kl(e,t){return e.filters.filter((e=>e instanceof nl&&e.field.isEqual(t)))}function xl(e,t,n){let r=To,i=!0;for(const s of kl(e,t)){let e=To,t=!0;switch(s.op){case"<":case"<=":e=qo(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=To}Wo({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Wo({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Tl(e,t,n){let r=xo,i=!0;for(const s of kl(e,t)){let e=xo,t=!0;switch(s.op){case">=":case">":e=Go(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=xo}Ko({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Ko({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Nl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Al(e,t,n,r,i,s,a,o){return new Nl(e,t,n,r,i,s,a,o)}function Cl(e){return new Nl(e)}function Dl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Pl(e){return null!==e.collectionGroup}function Rl(e){const t=Ds(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new uo(Zs.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Zo(r,n))})),e.has(Zs.keyField().canonicalString())||t.le.push(new Zo(Zs.keyField(),n))}return t.le}function Ol(e){const t=Ds(e);return t.he||(t.he=Ll(t,Rl(e))),t.he}function Ll(e,t){if("F"===e.limitType)return _l(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Zo(e.field,t)}));const n=e.endAt?new Jo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Jo(e.startAt.position,e.startAt.inclusive):null;return _l(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ml(e,t){const n=e.filters.concat([t]);return new Nl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function jl(e,t,n){return new Nl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fl(e,t){return El(Ol(e),Ol(t))&&e.limitType===t.limitType}function Vl(e){return"".concat(Il(Ol(e)),"|lt:").concat(e.limitType)}function Ul(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>dl(e))).join(", "),"]")),xa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ro(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ro(e))).join(",")),"Target(".concat(t,")")}(Ol(e)),"; limitType=").concat(e.limitType,")")}function Bl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ea.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Rl(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Xo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Rl(e),t))&&!(e.endAt&&!function(e,t,n){const r=Xo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Rl(e),t))}(e,t)}function zl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ql(e){return(t,n)=>{let r=!1;for(const i of Rl(e)){const e=Gl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Gl(e,t,n){const r=e.field.isKeyField()?ea.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Do(r,i):As()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return As()}}class Wl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return ao(this.inner)}size(){return this.innerSize}}const Kl=new oo(ea.comparator);function Hl(){return Kl}const Ql=new oo(ea.comparator);function Yl(){let e=Ql;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Jl(e){let t=Ql;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Xl(){return Zl()}function $l(){return Zl()}function Zl(){return new Wl((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ec=new oo(ea.comparator),tc=new uo(ea.comparator);function nc(){let e=tc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const rc=new uo(Ws);function ic(){return rc}function sc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ta(t)?"-0":t}}function ac(e){return{integerValue:""+e}}function oc(e,t){return Na(t)?ac(t):sc(e,t)}class lc{constructor(){this._=void 0}}function cc(e,t,n){return e instanceof hc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&_o(t)&&(t=Io(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof fc?pc(e,t):e instanceof mc?gc(e,t):function(e,t){const n=dc(e,t),r=vc(n)+vc(e.Ie);return Mo(n)&&Mo(e.Ie)?ac(r):sc(e.serializer,r)}(e,t)}function uc(e,t,n){return e instanceof fc?pc(e,t):e instanceof mc?gc(e,t):n}function dc(e,t){return e instanceof yc?function(e){return Mo(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class hc extends lc{}class fc extends lc{constructor(e){super(),this.elements=e}}function pc(e,t){const n=wc(t);for(const r of e.elements)n.some((e=>Ao(e,r)))||n.push(r);return{arrayValue:{values:n}}}class mc extends lc{constructor(e){super(),this.elements=e}}function gc(e,t){let n=wc(t);for(const r of e.elements)n=n.filter((e=>!Ao(e,r)));return{arrayValue:{values:n}}}class yc extends lc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function vc(e){return wo(e.integerValue||e.doubleValue)}function wc(e){return jo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class bc{constructor(e,t){this.field=e,this.transform=t}}class _c{constructor(e,t){this.version=e,this.transformResults=t}}class Ic{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ic}static exists(e){return new Ic(void 0,e)}static updateTime(e){return new Ic(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Sc{}function kc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Lc(e.key,Ic.none()):new Cc(e.key,e.data,Ic.none());{const n=e.data,r=Ho.empty();let i=new uo(Zs.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Dc(e.key,r,new po(i.toArray()),Ic.none())}}function xc(e,t,n){e instanceof Cc?function(e,t,n){const r=e.value.clone(),i=Rc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Dc?function(e,t,n){if(!Ec(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Rc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Pc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Tc(e,t,n,r){return e instanceof Cc?function(e,t,n,r){if(!Ec(e.precondition,t))return n;const i=e.value.clone(),s=Oc(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Dc?function(e,t,n,r){if(!Ec(e.precondition,t))return n;const i=Oc(e.fieldTransforms,r,t),s=t.data;return s.setAll(Pc(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ec(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Nc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=dc(r.transform,e||null);null!=i&&(null===n&&(n=Ho.empty()),n.set(r.field,i))}return n||null}function Ac(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ks(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof fc&&t instanceof fc||e instanceof mc&&t instanceof mc?Ks(e.elements,t.elements,Ao):e instanceof yc&&t instanceof yc?Ao(e.Ie,t.Ie):e instanceof hc&&t instanceof hc}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Cc extends Sc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Dc extends Sc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Pc(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Rc(e,t,n){const r=new Map;Cs(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,uc(a,o,n[i]))}return r}function Oc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,cc(e,s,t))}return r}class Lc extends Sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mc extends Sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&xc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Tc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Tc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=$l();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=kc(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Ys.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),nc())}isEqual(e){return this.batchId===e.batchId&&Ks(this.mutations,e.mutations,((e,t)=>Ac(e,t)))&&Ks(this.baseMutations,e.baseMutations,((e,t)=>Ac(e,t)))}}class Fc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Cs(e.mutations.length===n.length);let r=ec;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Fc(e,t,n,r)}}class Vc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Uc{constructor(e,t){this.count=e,this.unchangedNames=t}}var Bc,zc;function qc(e){switch(e){default:return As();case Ps.CANCELLED:case Ps.UNKNOWN:case Ps.DEADLINE_EXCEEDED:case Ps.RESOURCE_EXHAUSTED:case Ps.INTERNAL:case Ps.UNAVAILABLE:case Ps.UNAUTHENTICATED:return!1;case Ps.INVALID_ARGUMENT:case Ps.NOT_FOUND:case Ps.ALREADY_EXISTS:case Ps.PERMISSION_DENIED:case Ps.FAILED_PRECONDITION:case Ps.ABORTED:case Ps.OUT_OF_RANGE:case Ps.UNIMPLEMENTED:case Ps.DATA_LOSS:return!0}}function Gc(e){if(void 0===e)return xs("GRPC error has no .code"),Ps.UNKNOWN;switch(e){case Bc.OK:return Ps.OK;case Bc.CANCELLED:return Ps.CANCELLED;case Bc.UNKNOWN:return Ps.UNKNOWN;case Bc.DEADLINE_EXCEEDED:return Ps.DEADLINE_EXCEEDED;case Bc.RESOURCE_EXHAUSTED:return Ps.RESOURCE_EXHAUSTED;case Bc.INTERNAL:return Ps.INTERNAL;case Bc.UNAVAILABLE:return Ps.UNAVAILABLE;case Bc.UNAUTHENTICATED:return Ps.UNAUTHENTICATED;case Bc.INVALID_ARGUMENT:return Ps.INVALID_ARGUMENT;case Bc.NOT_FOUND:return Ps.NOT_FOUND;case Bc.ALREADY_EXISTS:return Ps.ALREADY_EXISTS;case Bc.PERMISSION_DENIED:return Ps.PERMISSION_DENIED;case Bc.FAILED_PRECONDITION:return Ps.FAILED_PRECONDITION;case Bc.ABORTED:return Ps.ABORTED;case Bc.OUT_OF_RANGE:return Ps.OUT_OF_RANGE;case Bc.UNIMPLEMENTED:return Ps.UNIMPLEMENTED;case Bc.DATA_LOSS:return Ps.DATA_LOSS;default:return As()}}(zc=Bc||(Bc={}))[zc.OK=0]="OK",zc[zc.CANCELLED=1]="CANCELLED",zc[zc.UNKNOWN=2]="UNKNOWN",zc[zc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zc[zc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zc[zc.NOT_FOUND=5]="NOT_FOUND",zc[zc.ALREADY_EXISTS=6]="ALREADY_EXISTS",zc[zc.PERMISSION_DENIED=7]="PERMISSION_DENIED",zc[zc.UNAUTHENTICATED=16]="UNAUTHENTICATED",zc[zc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zc[zc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zc[zc.ABORTED=10]="ABORTED",zc[zc.OUT_OF_RANGE=11]="OUT_OF_RANGE",zc[zc.UNIMPLEMENTED=12]="UNIMPLEMENTED",zc[zc.INTERNAL=13]="INTERNAL",zc[zc.UNAVAILABLE=14]="UNAVAILABLE",zc[zc.DATA_LOSS=15]="DATA_LOSS";let Wc=null;function Kc(){return new TextEncoder}const Hc=new ws([4294967295,4294967295],0);function Qc(e){const t=Kc().encode(e),n=new vs;return n.update(t),new Uint8Array(n.digest())}function Yc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ws([n,r],0),new ws([i,s],0)]}class Jc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Xc("Invalid padding: ".concat(t));if(n<0)throw new Xc("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Xc("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Xc("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=ws.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(ws.fromNumber(n)));return 1===r.compare(Hc)&&(r=new ws([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Qc(e),[n,r]=Yc(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Jc(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Qc(e),[n,r]=Yc(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $c{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new $c(Ys.min(),r,new oo(Ws),Hl(),nc())}}class Zc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Zc(n,t,nc(),nc(),nc())}}class eu{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class tu{constructor(e,t){this.targetId=e,this.fe=t}}class nu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:go.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ru{constructor(){this.ge=0,this.pe=au(),this.ye=go.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=nc(),t=nc(),n=nc();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:As()}})),new Zc(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=au()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Cs(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class iu{constructor(e){this.Le=e,this.ke=new Map,this.qe=Hl(),this.Qe=su(),this.Ke=new oo(Ws)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:As()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Sl(i))if(0===n){const e=new ea(i.path);this.We(t,e,Yo.newNoDocument(e,Ys.min()))}else Cs(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Wc||Wc.tt(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=bo(n).toUint8Array()}catch(e){if(e instanceof mo)return Ts("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Jc(s,r,i)}catch(e){return Ts(e instanceof Xc?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Sl(i.target)){const t=new ea(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Yo.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=nc();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new $c(e,t,this.Ke,this.qe,n);return this.qe=Hl(),this.Qe=su(),this.Ke=new oo(Ws),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new ru,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new uo(Ws),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ks("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new ru),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function su(){return new oo(ea.comparator)}function au(){return new oo(ea.comparator)}const ou={asc:"ASCENDING",desc:"DESCENDING"},lu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cu={and:"AND",or:"OR"};class uu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function du(e,t){return e.useProto3Json||xa(t)?t:{value:t}}function hu(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function fu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function pu(e,t){return hu(e,t.toTimestamp())}function mu(e){return Cs(!!e),Ys.fromTimestamp(function(e){const t=vo(e);return new Qs(t.seconds,t.nanos)}(e))}function gu(e,t){return yu(e,t).canonicalString()}function yu(e,t){const n=function(e){return new Xs(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function vu(e){const t=Xs.fromString(e);return Cs(Uu(t)),t}function wu(e,t){return gu(e.databaseId,t.path)}function bu(e,t){const n=vu(t);if(n.get(1)!==e.databaseId.projectId)throw new Rs(Ps.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Rs(Ps.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ea(Su(n))}function _u(e,t){return gu(e.databaseId,t)}function Iu(e){const t=vu(e);return 4===t.length?Xs.emptyPath():Su(t)}function Eu(e){return new Xs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Su(e){return Cs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ku(e,t,n){return{name:wu(e,t),fields:n.value.mapValue.fields}}function xu(e,t,n){const r=bu(e,t.name),i=mu(t.updateTime),s=t.createTime?mu(t.createTime):Ys.min(),a=new Ho({mapValue:{fields:t.fields}}),o=Yo.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Tu(e,t){let n;if(t instanceof Cc)n={update:ku(e,t.key,t.value)};else if(t instanceof Lc)n={delete:wu(e,t.key)};else if(t instanceof Dc)n={update:ku(e,t.key,t.data),updateMask:Vu(t.fieldMask)};else{if(!(t instanceof Mc))return As();n={verify:wu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof hc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof fc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof mc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yc)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw As()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:pu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:As()}(e,t.precondition)),n}function Nu(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Ic.updateTime(mu(e.updateTime)):void 0!==e.exists?Ic.exists(e.exists):Ic.none()}(t.currentDocument):Ic.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Cs("REQUEST_TIME"===t.setToServerValue),n=new hc;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new fc(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new mc(e)}else"increment"in t?n=new yc(e,t.increment):As();const r=Zs.fromServerFormat(t.fieldPath);return new bc(r,n)}(e,t))):[];if(t.update){t.update.name;const i=bu(e,t.update.name),s=new Ho({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new po(t.map((e=>Zs.fromServerFormat(e))))}(t.updateMask);return new Dc(i,s,e,n,r)}return new Cc(i,s,n,r)}if(t.delete){const r=bu(e,t.delete);return new Lc(r,n)}if(t.verify){const r=bu(e,t.verify);return new Mc(r,n)}return As()}function Au(e,t){return{documents:[_u(e,t.path)]}}function Cu(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_u(e,i);const s=function(e){if(0!==e.length)return Fu(rl.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Mu(e.field),direction:Ru(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=du(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function Du(e){let t=Iu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Cs(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Pu(e);return t instanceof rl&&al(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Zo(ju(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,xa(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Jo(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Jo(n,t)}(n.endAt)),Al(t,i,a,s,o,"F",l,c)}function Pu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ju(e.unaryFilter.field);return nl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ju(e.unaryFilter.field);return nl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ju(e.unaryFilter.field);return nl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ju(e.unaryFilter.field);return nl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return As()}}(e):void 0!==e.fieldFilter?function(e){return nl.create(ju(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return As()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return rl.create(e.compositeFilter.filters.map((e=>Pu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return As()}}(e.compositeFilter.op))}(e):As()}function Ru(e){return ou[e]}function Ou(e){return lu[e]}function Lu(e){return cu[e]}function Mu(e){return{fieldPath:e.canonicalString()}}function ju(e){return Zs.fromServerFormat(e.fieldPath)}function Fu(e){return e instanceof nl?function(e){if("=="===e.op){if(Vo(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NAN"}};if(Fo(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vo(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NOT_NAN"}};if(Fo(e.value))return{unaryFilter:{field:Mu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mu(e.field),op:Ou(e.op),value:e.value}}}(e):e instanceof rl?function(e){const t=e.getFilters().map((e=>Fu(e)));return 1===t.length?t[0]:{compositeFilter:{op:Lu(e.op),filters:t}}}(e):As()}function Vu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Uu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Bu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ys.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ys.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:go.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Bu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zu{constructor(e){this.ct=e}}function qu(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Gu(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:wu(e,t.key),fields:t.data.value.mapValue.fields,updateTime:hu(e,t.version.toTimestamp()),createTime:hu(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Wu(t.version)};else{if(!t.isUnknownDocument())return As();r.unknownDocument={path:n.path.toArray(),version:Wu(t.version)}}return r}function Gu(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Wu(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ku(e){const t=new Qs(e.seconds,e.nanoseconds);return Ys.fromTimestamp(t)}function Hu(e,t){const n=(t.baseMutations||[]).map((t=>Nu(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Nu(e.ct,t))),i=Qs.fromMillis(t.localWriteTimeMs);return new jc(t.batchId,i,n,r)}function Qu(e){const t=Ku(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ku(e.lastLimboFreeSnapshotVersion):Ys.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Cs(1===e.documents.length),Ol(Cl(Iu(e.documents[0])))}(e.query):function(e){return Ol(Du(e))}(e.query),new Bu(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,go.fromBase64String(e.resumeToken))}function Yu(e,t){const n=Wu(t.snapshotVersion),r=Wu(t.lastLimboFreeSnapshotVersion);let i;i=Sl(t.target)?Au(e.ct,t.target):Cu(e.ct,t.target).ut;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Il(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ju(e){const t=Du({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jl(t,t.limit,"L"):t}function Xu(e,t){return new Vc(t.largestBatchId,Nu(e.ct,t.overlayMutation))}function $u(e,t){const n=t.path.lastSegment();return[e,Aa(t.path.popLast()),n]}function Zu(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:Wu(r.readTime),documentKey:Aa(r.documentKey.path),largestBatchId:r.largestBatchId}}class ed{getBundleMetadata(e,t){return td(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Ku(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return td(e).put(function(e){return{bundleId:e.id,createTime:Wu(mu(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return nd(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Ju(e.bundledQuery),readTime:Ku(e.readTime)}}(e)}))}saveNamedQuery(e,t){return nd(e).put(function(e){return{name:e.name,readTime:Wu(mu(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function td(e){return ro(e,"bundles")}function nd(e){return ro(e,"namedQueries")}class rd{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new rd(e,n)}getOverlay(e,t){return id(e).get($u(this.userId,t)).next((e=>e?Xu(this.serializer,e):null))}getOverlays(e,t){const n=Xl();return fa.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Vc(t,i);r.push(this.ht(e,s))})),fa.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Aa(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(id(e).H("collectionPathOverlayIndex",r))})),fa.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Xl(),i=Aa(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return id(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Xu(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Xl();let s;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return id(e).Y({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=Xu(this.serializer,t);i.size()<r||a.largestBatchId===s?(i.set(a.getKey(),a),s=a.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return id(e).put(function(e,t,n){const[r,i,s]=$u(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Tu(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function id(e){return ro(e,"documentOverlays")}class sd{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(wo(e.integerValue));else if("doubleValue"in e){const n=wo(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Ta(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(bo(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?zo(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):As()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),ea.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function ad(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function od(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=ad(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}sd.bt=new sd;class ld{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Bt(e){const t=this.Lt(e),n=od(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Lt(e),n=od(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Lt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class cd{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Bt(e)}Tt(){this.Gt.Qt()}}class ud{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class dd{constructor(){this.Gt=new ld,this.zt=new cd(this.Gt),this.jt=new ud(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class hd{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new hd(this.indexId,this.documentKey,this.arrayValue,n)}}function fd(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=pd(e.arrayValue,t.arrayValue),0!==n?n:(n=pd(e.directionalValue,t.directionalValue),0!==n?n:ea.comparator(e.documentKey,t.documentKey)))}function pd(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class md{constructor(e){this.Yt=new uo(((e,t)=>Zs.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(Cs(e.collectionGroup===this.collectionId),this.en)return!1;const t=na(e);if(void 0!==t&&!this.nn(t))return!1;const n=ra(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new uo(Zs.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new ia(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new ia(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new ia(n.field,"asc"===n.dir?0:1)));return new ta(ta.UNKNOWN_ID,this.collectionId,t,sa.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function gd(e){var t,n;if(Cs(e instanceof nl||e instanceof rl),e instanceof nl){if(e instanceof yl){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>nl.create(e.field,"==",t))))||[];return rl.create(r,"or")}return e}const r=e.filters.map((e=>gd(e)));return rl.create(r,e.op)}function yd(e){if(0===e.getFilters().length)return[];const t=_d(gd(e));return Cs(bd(t)),vd(t)||wd(t)?[t]:t.getFilters()}function vd(e){return e instanceof nl}function wd(e){return e instanceof rl&&al(e)}function bd(e){return vd(e)||wd(e)||function(e){if(e instanceof rl&&sl(e)){for(const t of e.getFilters())if(!vd(t)&&!wd(t))return!1;return!0}return!1}(e)}function _d(e){if(Cs(e instanceof nl||e instanceof rl),e instanceof nl)return e;if(1===e.filters.length)return _d(e.filters[0]);const t=e.filters.map((e=>_d(e)));let n=rl.create(t,e.op);return n=Sd(n),bd(n)?n:(Cs(n instanceof rl),Cs(il(n)),Cs(n.filters.length>1),n.filters.reduce(((e,t)=>Id(e,t))))}function Id(e,t){let n;return Cs(e instanceof nl||e instanceof rl),Cs(t instanceof nl||t instanceof rl),n=e instanceof nl?t instanceof nl?function(e,t){return rl.create([e,t],"and")}(e,t):Ed(e,t):t instanceof nl?Ed(t,e):function(e,t){if(Cs(e.filters.length>0&&t.filters.length>0),il(e)&&il(t))return ul(e,t.getFilters());const n=sl(e)?e:t,r=sl(e)?t:e,i=n.filters.map((e=>Id(e,r)));return rl.create(i,"or")}(e,t),Sd(n)}function Ed(e,t){if(il(t))return ul(t,e.getFilters());{const n=t.filters.map((t=>Id(e,t)));return rl.create(n,"or")}}function Sd(e){if(Cs(e instanceof nl||e instanceof rl),e instanceof nl)return e;const t=e.getFilters();if(1===t.length)return Sd(t[0]);if(ol(e))return e;const n=t.map((e=>Sd(e))),r=[];return n.forEach((t=>{t instanceof nl?r.push(t):t instanceof rl&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:rl.create(r,e.op)}class kd{constructor(){this._n=new xd}addToCollectionParentIndex(e,t){return this._n.add(t),fa.resolve()}getCollectionParents(e,t){return fa.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return fa.resolve()}deleteFieldIndex(e,t){return fa.resolve()}deleteAllFieldIndexes(e){return fa.resolve()}createTargetIndexes(e,t){return fa.resolve()}getDocumentsMatchingTarget(e,t){return fa.resolve(null)}getIndexType(e,t){return fa.resolve(0)}getFieldIndexes(e,t){return fa.resolve([])}getNextCollectionGroupToUpdate(e){return fa.resolve(null)}getMinOffset(e,t){return fa.resolve(la.min())}getMinOffsetFromCollectionGroup(e,t){return fa.resolve(la.min())}updateCollectionGroup(e,t,n){return fa.resolve()}updateIndexEntries(e,t){return fa.resolve()}}class xd{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new uo(Xs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new uo(Xs.comparator)).toArray()}}const Td=new Uint8Array(0);class Nd{constructor(e,t){this.databaseId=t,this.an=new xd,this.un=new Wl((e=>Il(e)),((e,t)=>El(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:Aa(r)};return Ad(e).put(i)}return fa.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Hs(t),""],!1,!0);return Ad(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Pa(r.parent))}return n}))}addFieldIndex(e,t){const n=Dd(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Pd(e);return i.next((e=>{n.put(Zu(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Dd(e),r=Pd(e),i=Cd(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Dd(e),n=Cd(e),r=Pd(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return fa.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new md(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Cd(e);let r=!0;const i=new Map;return fa.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=nc();const r=[];return fa.forEach(i,((i,s)=>{ks("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Il(t)));const a=function(e,t){const n=na(t);if(void 0===n)return null;for(const r of kl(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),o=function(e,t){const n=new Map;for(const r of ra(t))for(const t of kl(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of ra(t)){const t=0===i.kind?xl(e,i.fieldPath,e.startAt):Tl(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Jo(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of ra(t)){const t=0===i.kind?Tl(e,i.fieldPath,e.endAt):xl(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Jo(n,r)}(s,i),u=this.hn(i,s,l),d=this.hn(i,s,c),h=this.Pn(i,s,o),f=this.In(i.indexId,a,u,l.inclusive,d,c.inclusive,h);return fa.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=ea.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return fa.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:yd(rl.create(e.filters,"and")).map((t=>_l(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,a){const o=(null!=t?t.length:1)*Math.max(n.length,i.length),l=o/(null!=t?t.length:1),c=[];for(let u=0;u<o;++u){const o=t?this.Tn(t[u/l]):Td,d=this.En(e,o,n[u%l],r),h=this.dn(e,o,i[u%l],s),f=a.map((t=>this.En(e,o,t,!0)));c.push(...this.createRange(d,h,f))}return c}En(e,t,n,r){const i=new hd(e,ea.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new hd(e,ea.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new md(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return fa.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new uo(Zs.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new dd;for(const r of ra(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);sd.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new dd;return sd.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new dd;return sd.bt.Pt(Lo(this.databaseId,t),n.Ht(function(e){const t=ra(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new dd);let i=0;for(const s of ra(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&jo(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);sd.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new dd;n.seed(e.Wt()),sd.bt.Pt(s,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof nl&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Dd(e),r=Pd(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return fa.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new sa(t.sequenceNumber,new la(Ku(t.readTime),new ea(Pa(t.documentKey)),t.largestBatchId)):sa.empty(),r=e.fields.map((e=>{let[t,n]=e;return new ia(Zs.fromServerFormat(t),n)}));return new ta(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ws(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Dd(e),i=Pd(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>fa.forEach(t,(t=>i.put(Zu(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return fa.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?fa.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),fa.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?fa.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return Cd(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return Cd(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=Cd(e);let i=new uo(fd);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new hd(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new uo(fd);const r=this.An(t,e);if(null==r)return n;const i=na(t);if(null!=i){const s=e.data.field(i.fieldPath);if(jo(s))for(const i of s.arrayValue.values||[])n=n.add(new hd(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new hd(t.indexId,e.key,Td,r));return n}wn(e,t,n,r,i){ks("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),a=t.getIterator();let o=fo(s),l=fo(a);for(;o||l;){let e=!1,t=!1;if(o&&l){const r=n(o,l);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(l),l=fo(a)):t?(i(o),o=fo(s)):(o=fo(s),l=fo(a))}}(r,i,fd,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),fa.waitFor(s)}gn(e){let t=1;return Pd(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>fd(e,t))).filter(((e,t,n)=>!t||0!==fd(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=fd(s,e),i=fd(s,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(s),r.push(s.Jt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Td,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Td,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return fd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Rd)}getMinOffset(e,t){return fa.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||As())))).next(Rd)}}function Ad(e){return ro(e,"collectionParents")}function Cd(e){return ro(e,"indexEntries")}function Dd(e){return ro(e,"indexConfiguration")}function Pd(e){return ro(e,"indexState")}function Rd(e){Cs(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;ca(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new la(t.readTime,t.documentKey,n)}const Od={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ld{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ld(e,Ld.DEFAULT_COLLECTION_PERCENTILE,Ld.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Md(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.Y({range:a},((e,t,n)=>(o++,n.delete())));s.push(l.next((()=>{Cs(1===o)})));const c=[];for(const u of n.mutations){const e=La(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return fa.waitFor(s).next((()=>c))}function jd(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw As();t=e.noDocument}return JSON.stringify(t).length}Ld.DEFAULT_COLLECTION_PERCENTILE=10,Ld.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ld.DEFAULT=new Ld(41943040,Ld.DEFAULT_COLLECTION_PERCENTILE,Ld.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ld.DISABLED=new Ld(-1,0,0);class Fd{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){Cs(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Fd(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ud(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Bd(e),s=Ud(e);return s.add({}).next((a=>{Cs("number"==typeof a);const o=new jc(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Tu(e.ct,t))),i=n.mutations.map((t=>Tu(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,o),c=[];let u=new uo(((e,t)=>Ws(e.canonicalString(),t.canonicalString())));for(const e of r){const t=La(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,Ma))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[a]=o.keys()})),fa.waitFor(c).next((()=>o))}))}lookupMutationBatch(e,t){return Ud(e).get(t).next((e=>e?(Cs(e.userId===this.userId),Hu(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?fa.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Ud(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Cs(t.batchId>=n),i=Hu(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Ud(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ud(e).W("userMutationsIndex",t).next((e=>e.map((e=>Hu(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Oa(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Bd(e).Y({range:r},((n,r,s)=>{const[a,o,l]=n,c=Pa(o);if(a===this.userId&&t.path.isEqual(c))return Ud(e).get(l).next((e=>{if(!e)throw As();Cs(e.userId===this.userId),i.push(Hu(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new uo(Ws);const r=[];return t.forEach((t=>{const i=Oa(this.userId,t.path),s=IDBKeyRange.lowerBound(i),a=Bd(e).Y({range:s},((e,r,i)=>{const[s,a,o]=e,l=Pa(a);s===this.userId&&t.path.isEqual(l)?n=n.add(o):i.done()}));r.push(a)})),fa.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Oa(this.userId,n),s=IDBKeyRange.lowerBound(i);let a=new uo(Ws);return Bd(e).Y({range:s},((e,t,i)=>{const[s,o,l]=e,c=Pa(o);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):i.done()})).next((()=>this.Fn(e,a)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Ud(e).get(t).next((e=>{if(null===e)throw As();Cs(e.userId===this.userId),n.push(Hu(this.serializer,e))})))})),fa.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Md(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),fa.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return fa.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Bd(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Pa(e[1]);r.push(t)}else n.done()})).next((()=>{Cs(0===r.length)}))}))}containsKey(e,t){return Vd(e,this.userId,t)}xn(e){return zd(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Vd(e,t,n){const r=Oa(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return Bd(e).Y({range:s,J:!0},((e,n,r)=>{const[s,o,l]=e;s===t&&o===i&&(a=!0),r.done()})).next((()=>a))}function Ud(e){return ro(e,"mutations")}function Bd(e){return ro(e,"documentMutations")}function zd(e){return ro(e,"mutationQueues")}class qd{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new qd(0)}static Bn(){return new qd(-1)}}class Gd{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Ln(e).next((t=>{const n=new qd(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Ln(e).next((e=>Ys.fromTimestamp(new Qs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Ln(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Ln(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Ln(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Wd(e).delete(t.targetId))).next((()=>this.Ln(e))).next((t=>(Cs(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Wd(e).Y(((s,a)=>{const o=Qu(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))})).next((()=>fa.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Wd(e).Y(((e,n)=>{const r=Qu(n);t(r)}))}Ln(e){return Kd(e).get("targetGlobalKey").next((e=>(Cs(null!==e),e)))}kn(e,t){return Kd(e).put("targetGlobalKey",t)}qn(e,t){return Wd(e).put(Yu(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Ln(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Il(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Wd(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=Qu(n);El(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Hd(e);return t.forEach((t=>{const s=Aa(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),fa.waitFor(r)}removeMatchingKeys(e,t,n){const r=Hd(e);return fa.forEach(t,(t=>{const i=Aa(t.path);return fa.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Hd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Hd(e);let i=nc();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Pa(e[1]),s=new ea(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Aa(t.path),r=IDBKeyRange.bound([n],[Hs(n)],!1,!0);let i=0;return Hd(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return Wd(e).get(t).next((e=>e?Qu(e):null))}}function Wd(e){return ro(e,"targets")}function Kd(e){return ro(e,"targetGlobal")}function Hd(e){return ro(e,"targetDocuments")}function Qd(e,t){let[n,r]=e,[i,s]=t;const a=Ws(n,i);return 0===a?Ws(r,s):a}class Yd{constructor(e){this.Kn=e,this.buffer=new uo(Qd),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Qd(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Jd{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){ks("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){va(e)?ks("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ha(e)}await this.zn(3e5)}))}}class Xd{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return fa.resolve(ka._e);const n=new Yd(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ks("LruGarbageCollector","Garbage collection skipped; disabled"),fa.resolve(Od)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ks("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Od):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(ks("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Ss()<=G.DEBUG&&ks("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),fa.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function $d(e,t){return new Xd(e,t)}class Zd{constructor(e,t){this.db=e,this.garbageCollector=$d(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return eh(e,n)}removeReference(e,t,n){return eh(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return eh(e,t)}er(e,t){return function(e,t){let n=!1;return zd(e).Z((r=>Vd(e,r,t).next((e=>(e&&(n=!0),fa.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,a)=>{if(a<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Ys.min()),Hd(e).delete(function(e){return[0,Aa(e.path)]}(s)))))}));r.push(t)}})).next((()=>fa.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return eh(e,t)}Xn(e,t){const n=Hd(e);let r,i=ka._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,a]=e,{path:o,sequenceNumber:l}=n;0===s?(i!==ka._e&&t(new ea(Pa(r)),i),i=l,r=o):i=ka._e})).next((()=>{i!==ka._e&&t(new ea(Pa(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function eh(e,t){return Hd(e).put(function(e,t){return{targetId:0,path:Aa(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class th{constructor(){this.changes=new Wl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?fa.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nh{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return ah(e).put(n)}removeEntry(e,t,n){return ah(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Gu(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=Yo.newInvalidDocument(t);return ah(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(oh(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:Yo.newInvalidDocument(t)};return ah(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(oh(t))},((e,r)=>{n={document:this.nr(t,r),size:jd(r)}})).next((()=>n))}getEntries(e,t){let n=Hl();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=Hl(),r=new oo(ea.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,jd(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return fa.resolve();let r=new uo(ch);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(oh(r.first()),oh(r.last())),s=r.getIterator();let a=s.getNext();return ah(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=ea.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&ch(a,i)<0;)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.U(oh(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),Gu(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ah(e).W(IDBKeyRange.bound(a,o,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Hl();for(const i of e){const e=this.nr(ea.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Bl(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Hl();const s=lh(t,n),a=lh(t,la.max());return ah(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},((e,t,n)=>{const s=this.nr(ea.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new ih(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return sh(e).get("remoteDocumentGlobalKey").next((e=>(Cs(!!e),e)))}tr(e,t){return sh(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=xu(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=ea.fromSegments(t.noDocument.path),r=Ku(t.noDocument.readTime);n=Yo.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return As();{const e=ea.fromSegments(t.unknownDocument.path),r=Ku(t.unknownDocument.version);n=Yo.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Qs(e[0],e[1]);return Ys.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Ys.min()))return e}return Yo.newInvalidDocument(e)}}function rh(e){return new nh(e)}class ih extends th{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new Wl((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new uo(((e,t)=>Ws(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const a=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,a.readTime)),s.isValidDocument()){const o=qu(this.ar.serializer,s);r=r.add(i.path.popLast());const l=jd(o);n+=l-a.size,t.push(this.ar.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){const n=qu(this.ar.serializer,s.convertToNoDocument(Ys.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),fa.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function sh(e){return ro(e,"remoteDocumentGlobal")}function ah(e){return ro(e,"remoteDocumentsV14")}function oh(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function lh(e,t){const n=t.documentKey.path.toArray();return[e,Gu(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ch(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ws(n[s],r[s]),i)return i;return i=Ws(n.length,r.length),i||(i=Ws(n[n.length-2],r[r.length-2]),i||Ws(n[n.length-1],r[r.length-1]))}class uh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Tc(n.mutation,e,po.empty(),Qs.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,nc()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nc();const r=Xl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Yl();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Xl();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,nc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Hl();const s=Zl(),a=Zl();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Dc)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Tc(a.mutation,t,a.mutation.getFieldMask(),Qs.now())):s.set(t.key,po.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new uh(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Zl();let r=new oo(((e,t)=>e-t)),i=nc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||po.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||nc()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=$l();l.forEach((e=>{if(!i.has(e)){const r=kc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return fa.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ea.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Pl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):fa.resolve(Xl());let a=-1,o=i;return s.next((t=>fa.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?fa.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,nc()))).next((e=>({batchId:a,changes:Jl(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ea(t)).next((e=>{let t=Yl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Yl();return this.indexManager.getCollectionParents(e,i).next((a=>fa.forEach(a,(a=>{const o=function(e,t){return new Nl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Yo.newInvalidDocument(r)))}));let n=Yl();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Tc(s.mutation,r,po.empty(),Qs.now()),Bl(t,r)&&(n=n.insert(e,r))})),n}))}}class hh{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return fa.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:mu(e.createTime)}}(t)),fa.resolve()}getNamedQuery(e,t){return fa.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Ju(e.bundledQuery),readTime:mu(e.readTime)}}(t)),fa.resolve()}}class fh{constructor(){this.overlays=new oo(ea.comparator),this.hr=new Map}getOverlay(e,t){return fa.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Xl();return fa.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),fa.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),fa.resolve()}getOverlaysForCollection(e,t,n){const r=Xl(),i=t.length+1,s=new ea(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return fa.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new oo(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Xl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Xl(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return fa.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Vc(t,n));let i=this.hr.get(t);void 0===i&&(i=nc(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class ph{constructor(){this.Pr=new uo(mh.Ir),this.Tr=new uo(mh.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new mh(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new mh(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new ea(new Xs([])),n=new mh(t,e),r=new mh(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new ea(new Xs([])),n=new mh(t,e),r=new mh(t,e+1);let i=nc();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new mh(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class mh{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return ea.comparator(e.key,t.key)||Ws(e.pr,t.pr)}static Er(e,t){return Ws(e.pr,t.pr)||ea.comparator(e.key,t.key)}}class gh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new uo(mh.Ir)}checkEmpty(e){return fa.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new jc(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new mh(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return fa.resolve(s)}lookupMutationBatch(e,t){return fa.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return fa.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return fa.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return fa.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new mh(t,0),r=new mh(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),fa.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new uo(Ws);return t.forEach((e=>{const t=new mh(e,0),r=new mh(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),fa.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ea.isDocumentKey(i)||(i=i.child(""));const s=new mh(new ea(i),0);let a=new uo(Ws);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.pr)),!0)}),s),fa.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Cs(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return fa.forEach(t.mutations,(r=>{const i=new mh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new mh(t,0),r=this.wr.firstAfterOrEqual(n);return fa.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,fa.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class yh{constructor(e){this.vr=e,this.docs=new oo(ea.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return fa.resolve(n?n.document.mutableCopy():Yo.newInvalidDocument(t))}getEntries(e,t){let n=Hl();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Yo.newInvalidDocument(e))})),fa.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Hl();const s=t.path,a=new ea(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ca(oa(a),n)<=0||(r.has(a.key)||Bl(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return fa.resolve(i)}getAllFromCollectionGroup(e,t,n,r){As()}Fr(e,t){return fa.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new vh(this)}getSize(e){return fa.resolve(this.size)}}class vh extends th{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),fa.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class wh{constructor(e){this.persistence=e,this.Mr=new Wl((e=>Il(e)),El),this.lastRemoteSnapshotVersion=Ys.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ph,this.targetCount=0,this.Br=qd.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),fa.resolve()}getLastRemoteSnapshotVersion(e){return fa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fa.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),fa.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),fa.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Br=new qd(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,fa.resolve()}updateTargetData(e,t){return this.qn(t),fa.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,fa.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),fa.waitFor(i).next((()=>r))}getTargetCount(e){return fa.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return fa.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),fa.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),fa.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),fa.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return fa.resolve(n)}containsKey(e,t){return fa.resolve(this.Nr.containsKey(t))}}class bh{constructor(e,t){this.Lr={},this.overlays={},this.kr=new ka(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new wh(this),this.indexManager=new kd,this.remoteDocumentCache=function(e){return new yh(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new zu(t),this.$r=new hh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Lr[e.toKey()];return n||(n=new gh(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){ks("MemoryPersistence","Starting transaction:",e);const r=new _h(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return fa.or(Object.values(this.Lr).map((n=>()=>n.containsKey(e,t))))}}class _h extends da{constructor(e){super(),this.currentSequenceNumber=e}}class Ih{constructor(e){this.persistence=e,this.zr=new ph,this.jr=null}static Hr(e){return new Ih(e)}get Jr(){if(this.jr)return this.jr;throw As()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),fa.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),fa.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),fa.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fa.forEach(this.Jr,(n=>{const r=ea.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Ys.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return fa.or([()=>fa.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Eh{constructor(e){this.serializer=e}N(e,t,n,r){const i=new pa("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ra,{unique:!0}),e.createObjectStore("documentMutations")}(e),Sh(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=fa.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Sh(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ys.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ra,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return fa.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Qa});t.createIndex("collectionPathOverlayIndex",Ya,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ja,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:ja});t.createIndex("documentKeyIndex",Fa),t.createIndex("collectionGroupIndex",Va)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ga}).createIndex("sequenceNumberIndex",Wa,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ka}).createIndex("documentKeyIndex",Ha,{unique:!1})}(e)))),s}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=jd(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>fa.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>fa.forEach(n,(n=>{Cs(n.userId===t.userId);const r=Hu(this.serializer,n);return Md(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new Xs(n),a=function(e){return[0,Aa(e)]}(s);r.push(t.get(a).next((n=>n?fa.resolve():(n=>t.put({targetId:0,path:Aa(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>fa.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:qa});const n=t.store("collectionParents"),r=new xd,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Aa(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Xs(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const a=Pa(r);return i(a.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=Qu(n),i=Yu(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new ea(Xs.fromString(e.document.name).popFirst(5)):e.noDocument?ea.fromSegments(e.noDocument.path):e.unknownDocument?ea.fromSegments(e.unknownDocument.path):As()}(n).path.toArray(),a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>fa.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=rh(this.serializer),i=new bh(Ih.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:nc();Hu(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),fa.forEach(n,((e,n)=>{const s=new _s(n),a=rd.lt(this.serializer,s),o=i.getIndexManager(s),l=Fd.lt(s,this.serializer,o,i.referenceDelegate);return new dh(r,l,a,o).recalculateAndSaveOverlaysForDocumentKeys(new no(t,ka._e),e).next()}))}))}}function Sh(e){e.createObjectStore("targetDocuments",{keyPath:Ba}).createIndex("documentTargetsIndex",za,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ua,{unique:!0}),e.createObjectStore("targetGlobal")}const kh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xh{constructor(e,t,n,r,i,s,a,o,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=a,this._i=l,this.ai=c,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!xh.D())throw new Rs(Ps.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zd(this,r),this.Ti=t+"main",this.serializer=new zu(o),this.Ei=new ma(this.Ti,this.ui,new Eh(this.serializer)),this.Qr=new Gd(this.referenceDelegate,this.serializer),this.remoteDocumentCache=rh(this.serializer),this.$r=new ed,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===c&&xs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Rs(Ps.FAILED_PRECONDITION,kh);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new ka(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Nh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(va(e))return ks("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ks("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Th(e).get("owner").next((e=>fa.resolve(this.Si(e))))}bi(e){return Nh(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=ro(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return fa.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?fa.resolve(!0):Th(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new Rs(Ps.FAILED_PRECONDITION,kh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Nh(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&ks("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new no(e,ka._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Bi()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Li(){return this.runTransaction("getActiveClients","readonly",(e=>Nh(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return Fd.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Nd(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return rd.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){ks("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?to:14===e?eo:13===e?Za:12===e?$a:11===e?Xa:void As()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new no(r,this.kr?this.kr.next():ka._e),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw xs("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new Rs(Ps.FAILED_PRECONDITION,ua);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return Th(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Rs(Ps.FAILED_PRECONDITION,kh)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Th(e).put("owner",t)}static D(){return ma.D()}yi(e){const t=Th(e);return t.get("owner").next((e=>this.Si(e)?(ks("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):fa.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(xs("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;S()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return ks("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return xs("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){xs("Failed to set zombie client id.",e)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Th(e){return ro(e,"owner")}function Nh(e){return ro(e,"clientMetadata")}function Ah(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Ch{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=nc(),r=nc();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ch(e,t.fromCache,n,r)}}class Dh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ph{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=S()?8:ma.v(w())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Dh;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Ss()<=G.DEBUG&&ks("QueryEngine","SDK will not create cache indexes for query:",Ul(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),fa.resolve()):(Ss()<=G.DEBUG&&ks("QueryEngine","Query:",Ul(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Ss()<=G.DEBUG&&ks("QueryEngine","The SDK decides to create cache indexes for query:",Ul(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ol(t))):fa.resolve())}ji(e,t){if(Dl(t))return fa.resolve(null);let n=Ol(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=jl(t,null,"F"),n=Ol(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=nc(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,jl(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return Dl(t)||r.isEqual(Ys.min())?fa.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?fa.resolve(null):(Ss()<=G.DEBUG&&ks("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ul(t)),this.es(e,s,t,aa(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new uo(ql(e));return t.forEach(((t,r)=>{Bl(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Ss()<=G.DEBUG&&ks("QueryEngine","Using full collection scan to execute query:",Ul(t)),this.zi.getDocumentsMatchingQuery(e,t,la.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Rh{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new oo(Ws),this.rs=new Wl((e=>Il(e)),El),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dh(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Oh(e,t,n,r){return new Rh(e,t,n,r)}async function Lh(e,t){const n=Ds(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=nc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Mh(e){const t=Ds(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function jh(e,t,n){let r=nc(),i=nc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Hl();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Ys.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):ks("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function Fh(e,t){const n=Ds(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Vh(e,t){const n=Ds(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,fa.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Bu(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Uh(e,t,n){const r=Ds(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!va(e))throw e;ks("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function Bh(e,t,n){const r=Ds(e);let i=Ys.min(),s=nc();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Ds(e),i=r.rs.get(n);return void 0!==i?fa.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Ol(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Ys.min(),n?s:nc()))).next((e=>(Gh(r,zl(t),e),{documents:e,hs:s})))))}function zh(e,t){const n=Ds(e),r=Ds(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function qh(e,t){const n=Ds(e),r=n.ss.get(t)||Ys.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,aa(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Gh(n,t,e),e)))}function Gh(e,t,n){let r=e.ss.get(t)||Ys.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function Wh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nc();const r=await Vh(e,Ol(Ju(t.bundledQuery))),i=Ds(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=mu(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const a=r.withResumeToken(go.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(e,a).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function Kh(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Hh(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Qh(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Yh{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Rs(r.error.code,r.error.message))),s?new Yh(e,t,r.state,i):(xs("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jh{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Rs(n.error.code,n.error.message))),i?new Jh(e,n.state,r):(xs("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=ic();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Na(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Xh(e,i):(xs("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class $h{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $h(t.clientId,t.onlineState):(xs("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Zh{constructor(){this.activeTargetIds=ic()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ef{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new oo(Ws),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=Kh(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Zh),this.bs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(Kh(this.persistenceKey,n));if(e){const t=Xh.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Bs(e,"pending")}updateMutationState(e,t,n){this.Bs(e,t,n),this.Ls(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Qh(this.persistenceKey,e));if(n){const r=Jh.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Qh(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Ls(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ks("SharedClientState","READ",e,t),t}setItem(e,t){ks("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ks("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(ks("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void xs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=ka._e;if(null!=e)try{const n=JSON.parse(e);Cs("number"==typeof n),t=n}catch(e){xs("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==ka._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(e,t,n){const r=new Yh(this.currentUser,e,t,n),i=Hh(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Ls(e){const t=Hh(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=Qh(this.persistenceKey,e),i=new Jh(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return Xh.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Yh.Es(new _s(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Jh.Es(r,t)}xs(e){return $h.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);ks("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],a=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.eo(s,a).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=ic();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class tf{constructor(){this.no=new Zh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Zh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nf{io(e){}shutdown(){}}class rf{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ks("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ks("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sf=null;function af(){return null===sf?sf=268435456+Math.round(2147483648*Math.random()):sf++,"0x"+sf.toString(16)}const of={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lf{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const cf="WebChannelConnection";class uf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=af(),a=this.bo(e,t.toUriEncodedString());ks("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(o,r,i),this.Co(e,a,o,n).then((t=>(ks("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Ts("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Is,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=of[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=af();return new Promise(((s,a)=>{const o=new ys;o.setWithCredentials(!0),o.listenOnce(fs.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case hs.NO_ERROR:const t=o.getResponseJson();ks(cf,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case hs.TIMEOUT:ks(cf,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Rs(Ps.DEADLINE_EXCEEDED,"Request time out"));break;case hs.HTTP_ERROR:const n=o.getStatus();if(ks(cf,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ps).indexOf(t)>=0?t:Ps.UNKNOWN}(t.status);a(new Rs(e,t.message))}else a(new Rs(Ps.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Rs(Ps.UNAVAILABLE,"Connection failed."));break;default:As()}}finally{ks(cf,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);ks(cf,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=af(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=us(),a=ds(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Do(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");ks(cf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new lf({lo:t=>{h?ks(cf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(ks(cf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),ks(cf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,gs.EventType.OPEN,(()=>{h||ks(cf,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,gs.EventType.CLOSE,(()=>{h||(h=!0,ks(cf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,gs.EventType.ERROR,(t=>{h||(h=!0,Ts(cf,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Rs(Ps.UNAVAILABLE,"The operation could not be completed")))})),p(u,gs.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Cs(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){ks(cf,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Bc[e];if(void 0!==t)return Gc(t)}(t),i=a.message;void 0===n&&(n=Ps.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Vo(new Rs(n,i)),u.close()}else ks(cf,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(a,ps.STAT_EVENT,(t=>{t.stat===ms.PROXY?ks(cf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ms.NOPROXY&&ks(cf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function df(){return"undefined"!=typeof window?window:null}function hf(){return"undefined"!=typeof document?document:null}function ff(e){return new uu(e,!0)}class pf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Lo),r=Math.max(0,t-n);r>0&&ks("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Lo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}class mf{constructor(e,t,n,r,i,s,a,o){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new pf(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Ps.RESOURCE_EXHAUSTED?(xs(t.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Ps.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Rs(Ps.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return ks("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(ks("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gf extends mf{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:As()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Cs(void 0===t||"string"==typeof t),go.fromBase64String(t||"")):(Cs(void 0===t||t instanceof Uint8Array),go.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Ps.UNKNOWN:Gc(e.code);return new Rs(t,e.message||"")}(a);n=new nu(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=bu(e,r.document.name),s=mu(r.document.updateTime),a=r.document.createTime?mu(r.document.createTime):Ys.min(),o=new Ho({mapValue:{fields:r.document.fields}}),l=Yo.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new eu(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=bu(e,r.document),s=r.readTime?mu(r.readTime):Ys.min(),a=Yo.newNoDocument(i,s),o=r.removedTargetIds||[];n=new eu([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=bu(e,r.document),s=r.removedTargetIds||[];n=new eu([],s,i,null)}else{if(!("filter"in t))return As();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Uc(r,i),a=e.targetId;n=new tu(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ys.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ys.min():t.readTime?mu(t.readTime):Ys.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=Eu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Sl(r)?{documents:Au(e,r)}:{query:Cu(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=fu(e,t.resumeToken);const r=du(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ys.min())>0){n.readTime=hu(e,t.snapshotVersion.toTimestamp());const r=du(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return As()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=Eu(this.serializer),t.removeTarget=e,this.t_(t)}}class yf extends mf{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Cs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Cs(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?mu(e.updateTime):mu(t);return n.isEqual(Ys.min())&&(n=mu(t)),new _c(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=mu(e.commitTime);return this.listener.T_(n,t)}return Cs(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Eu(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Tu(this.serializer,e)))};this.t_(t)}}class vf extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Rs(Ps.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.So(e,yu(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ps.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Rs(Ps.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.vo(e,yu(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ps.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Rs(Ps.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class wf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(xs(t),this.g_=!1):ks("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class bf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{Af(this)&&(ks("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ds(e);t.v_.add(4),await If(t),t.x_.set("Unknown"),t.v_.delete(4),await _f(t)}(this))}))})),this.x_=new wf(n,r)}}async function _f(e){if(Af(e))for(const t of e.F_)await t(!0)}async function If(e){for(const t of e.F_)await t(!1)}function Ef(e,t){const n=Ds(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Nf(n)?Tf(n):Hf(n).Jo()&&kf(n,t))}function Sf(e,t){const n=Ds(e),r=Hf(n);n.C_.delete(t),r.Jo()&&xf(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Af(n)&&n.x_.set("Unknown"))}function kf(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ys.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Hf(e).c_(t)}function xf(e,t){e.O_.Oe(t),Hf(e).l_(t)}function Tf(e){e.O_=new iu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Hf(e).start(),e.x_.p_()}function Nf(e){return Af(e)&&!Hf(e).Ho()&&e.C_.size>0}function Af(e){return 0===Ds(e).v_.size}function Cf(e){e.O_=void 0}async function Df(e){e.C_.forEach(((t,n)=>{kf(e,t)}))}async function Pf(e,t){Cf(e),Nf(e)?(e.x_.S_(t),Tf(e)):e.x_.set("Unknown")}async function Rf(e,t,n){if(e.x_.set("Online"),t instanceof nu&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){ks("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Of(e,n)}else if(t instanceof eu?e.O_.$e(t):t instanceof tu?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Ys.min()))try{const t=await Mh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(go.EMPTY_BYTE_STRING,r.snapshotVersion)),xf(e,t);const i=new Bu(r.target,t,n,r.sequenceNumber);kf(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ks("RemoteStore","Failed to raise snapshot:",t),await Of(e,t)}}async function Of(e,t,n){if(!va(t))throw t;e.v_.add(1),await If(e),e.x_.set("Offline"),n||(n=()=>Mh(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ks("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await _f(e)}))}function Lf(e,t){return t().catch((n=>Of(e,n,t)))}async function Mf(e){const t=Ds(e),n=Qf(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;jf(t);)try{const e=await Fh(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,Ff(t,e)}catch(e){await Of(t,e)}Vf(t)&&Uf(t)}function jf(e){return Af(e)&&e.D_.length<10}function Ff(e,t){e.D_.push(t);const n=Qf(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Vf(e){return Af(e)&&!Qf(e).Ho()&&e.D_.length>0}function Uf(e){Qf(e).start()}async function Bf(e){Qf(e).d_()}async function zf(e){const t=Qf(e);for(const n of e.D_)t.I_(n.mutations)}async function qf(e,t,n){const r=e.D_.shift(),i=Fc.from(r,t,n);await Lf(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Mf(e)}async function Gf(e,t){t&&Qf(e).P_&&await async function(e,t){if(function(e){return qc(e)&&e!==Ps.ABORTED}(t.code)){const n=e.D_.shift();Qf(e).Zo(),await Lf(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Mf(e)}}(e,t),Vf(e)&&Uf(e)}async function Wf(e,t){const n=Ds(e);n.asyncQueue.verifyOperationInProgress(),ks("RemoteStore","RemoteStore received new credentials");const r=Af(n);n.v_.add(3),await If(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await _f(n)}async function Kf(e,t){const n=Ds(e);t?(n.v_.delete(2),await _f(n)):t||(n.v_.add(2),await If(n),n.x_.set("Unknown"))}function Hf(e){return e.N_||(e.N_=function(e,t,n){const r=Ds(e);return r.R_(),new gf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Df.bind(null,e),To:Pf.bind(null,e),u_:Rf.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),Nf(e)?Tf(e):e.x_.set("Unknown")):(await e.N_.stop(),Cf(e))}))),e.N_}function Qf(e){return e.B_||(e.B_=function(e,t,n){const r=Ds(e);return r.R_(),new yf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Bf.bind(null,e),To:Gf.bind(null,e),E_:zf.bind(null,e),T_:qf.bind(null,e)}),e.F_.push((async t=>{t?(e.B_.Zo(),await Mf(e)):(await e.B_.stop(),e.D_.length>0&&(ks("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.B_}class Yf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Yf(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rs(Ps.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jf(e,t){if(xs("AsyncQueue","".concat(t,": ").concat(e)),va(e))return new Rs(Ps.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Xf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ea.comparator(t.key,n.key):(e,t)=>ea.comparator(e.key,t.key),this.keyedMap=Yl(),this.sortedSet=new oo(this.comparator)}static emptySet(e){return new Xf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Xf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class $f{constructor(){this.L_=new oo(ea.comparator)}track(e){const t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):As():this.L_=this.L_.insert(t,e)}k_(){const e=[];return this.L_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Zf{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Zf(e,t,Xf.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ep{constructor(){this.q_=void 0,this.Q_=[]}}class tp{constructor(){this.queries=new Wl((e=>Vl(e)),Fl),this.onlineState="Unknown",this.K_=new Set}}async function np(e,t){const n=Ds(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ep),i)try{s.q_=await n.onListen(r)}catch(e){const n=Jf(e,"Initialization of query '".concat(Ul(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.Q_.push(t),t.U_(n.onlineState),s.q_&&t.W_(s.q_)&&ap(n)}async function rp(e,t){const n=Ds(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),i=0===s.Q_.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ip(e,t){const n=Ds(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.W_(i)&&(r=!0);t.q_=i}}r&&ap(n)}function sp(e,t,n){const r=Ds(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function ap(e){e.K_.forEach((e=>{e.next()}))}class op{constructor(e,t,n){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=n||{}}W_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Zf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){if(e.docChanges.length>0)return!0;const t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Y_(e){e=Zf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class lp{constructor(e,t){this.X_=e,this.byteLength=t}ea(){return"metadata"in this.X_}}class cp{constructor(e){this.serializer=e}Ps(e){return bu(this.serializer,e)}Is(e){return e.metadata.exists?xu(this.serializer,e.document,!1):Yo.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return mu(e)}}class up{constructor(e,t,n){this.ta=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dp(e)}na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;const n=Xs.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ra(e){const t=new Map,n=new cp(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||nc()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Ds(e);let s=nc(),a=Hl();for(const c of n){const e=t.Ps(c.metadata.name);c.document&&(s=s.add(e));const n=t.Is(c);n.setReadTime(t.Ts(c.metadata.readTime)),a=a.insert(e,n)}const o=i.os.newChangeBuffer({trackRemovals:!0}),l=await Vh(i,function(e){return Ol(Cl(Xs.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>jh(e,o,a).next((t=>(o.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Qr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new cp(this.serializer),this.documents,this.ta.id),t=this.ra(this.documents);for(const n of this.queries)await Wh(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:e}}}function dp(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class hp{constructor(e){this.key=e}}class fp{constructor(e){this.key=e}}class pp{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=nc(),this.mutatedKeys=nc(),this.ua=ql(e),this.ca=new Xf(this.ua)}get la(){return this.oa}ha(e,t){const n=t?t.Pa:new $f,r=t?t.ca:this.ca;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Bl(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.Ia(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.ua(u,o)>0||l&&this.ua(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ca:s,Pa:n,Xi:a,mutatedKeys:i}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return As()}};return n(e)-n(t)}(e.type,t.type)||this.ua(e.doc,t.doc))),this.Ta(n),r=null!=r&&r;const a=t&&!r?this.Ea():[],o=0===this.aa.size&&this.current&&!r?1:0,l=o!==this._a;return this._a=o,0!==s.length||l?{snapshot:new Zf(this.query,e.ca,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new $f,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach((e=>this.oa=this.oa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.oa=this.oa.delete(e))),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=nc(),this.ca.forEach((e=>{this.Aa(e.key)&&(this.aa=this.aa.add(e.key))}));const t=[];return e.forEach((e=>{this.aa.has(e)||t.push(new fp(e))})),this.aa.forEach((n=>{e.has(n)||t.push(new hp(n))})),t}Ra(e){this.oa=e.hs,this.aa=nc();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return Zf.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class mp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class gp{constructor(e){this.key=e,this.ma=!1}}class yp{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Wl((e=>Vl(e)),Fl),this.pa=new Map,this.ya=new Set,this.wa=new oo(ea.comparator),this.Sa=new Map,this.ba=new ph,this.Da={},this.Ca=new Map,this.va=qd.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}async function vp(e,t){const n=Gp(e);let r,i;const s=n.ga.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const e=await Vh(n.localStore,Ol(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await wp(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Ef(n.remoteStore,e)}return i}async function wp(e,t,n,r,i){e.Ma=(t,n,r)=>async function(e,t,n,r){let i=t.view.ha(n);i.Xi&&(i=await Bh(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ha(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return Cp(e,t.targetId,o.da),o.snapshot}(e,t,n,r);const s=await Bh(e.localStore,t,!0),a=new pp(t,s.hs),o=a.ha(s.documents),l=Zc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);Cp(e,n,c.da);const u=new mp(t,n,a);return e.ga.set(t,u),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),c.snapshot}async function bp(e,t){const n=Ds(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter((e=>!Fl(e,t)))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Uh(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Sf(n.remoteStore,r.targetId),Np(n,r.targetId)})).catch(ha)):(Np(n,r.targetId),await Uh(n.localStore,r.targetId,!0))}async function _p(e,t){const n=Ds(e);try{const e=await function(e,t){const n=Ds(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(go.EMPTY_BYTE_STRING,Ys.min()).withLastLimboFreeSnapshotVersion(Ys.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Qr.updateTargetData(e,c))}));let o=Hl(),l=nc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(jh(e,s,t.documentUpdates).next((e=>{o=e.cs,l=e.ls}))),!r.isEqual(Ys.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return fa.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Sa.get(t);r&&(Cs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.ma=!0:e.modifiedDocuments.size>0?Cs(r.ma):e.removedDocuments.size>0&&(Cs(r.ma),r.ma=!1))})),await Rp(n,e,t)}catch(e){await ha(e)}}function Ip(e,t,n){const r=Ds(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ga.forEach(((n,r)=>{const i=r.view.U_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ds(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.U_(t)&&(r=!0)})),r&&ap(n)}(r.eventManager,t),e.length&&r.fa.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Ep(e,t,n){const r=Ds(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),s=i&&i.key;if(s){let e=new oo(ea.comparator);e=e.insert(s,Yo.newNoDocument(s,Ys.min()));const n=nc().add(s),i=new $c(Ys.min(),new Map,new oo(Ws),e,n);await _p(r,i),r.wa=r.wa.remove(s),r.Sa.delete(t),Pp(r)}else await Uh(r.localStore,t,!1).then((()=>Np(r,t,n))).catch(ha)}async function Sp(e,t){const n=Ds(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ds(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=fa.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Cs(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=nc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Tp(n,r,null),xp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rp(n,e)}catch(e){await ha(e)}}async function kp(e,t,n){const r=Ds(e);try{const e=await function(e,t){const n=Ds(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Cs(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Tp(r,t,n),xp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Rp(r,e)}catch(n){await ha(n)}}function xp(e,t){(e.Ca.get(t)||[]).forEach((e=>{e.resolve()})),e.Ca.delete(t)}function Tp(e,t,n){const r=Ds(e);let i=r.Da[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Np(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((t=>{e.ba.containsKey(t)||Ap(e,t)}))}function Ap(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);null!==n&&(Sf(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),Pp(e))}function Cp(e,t,n){for(const r of n)r instanceof hp?(e.ba.addReference(r.key,t),Dp(e,r)):r instanceof fp?(ks("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||Ap(e,r.key)):As()}function Dp(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(ks("SyncEngine","New document in limbo: "+n),e.ya.add(r),Pp(e))}function Pp(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new ea(Xs.fromString(t)),r=e.va.next();e.Sa.set(r,new gp(n)),e.wa=e.wa.insert(n,r),Ef(e.remoteStore,new Bu(Ol(Cl(n.path)),r,"TargetPurposeLimboResolution",ka._e))}}async function Rp(e,t,n){const r=Ds(e),i=[],s=[],a=[];r.ga.isEmpty()||(r.ga.forEach(((e,o)=>{a.push(r.Ma(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Ch.Ki(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.fa.u_(i),await async function(e,t){const n=Ds(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>fa.forEach(t,(t=>fa.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>fa.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!va(e))throw e;ks("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function Op(e,t){const n=Ds(e);if(!n.currentUser.isEqual(t)){ks("SyncEngine","User change. New user:",t.toKey());const e=await Lh(n.localStore,t);n.currentUser=t,function(e,t){e.Ca.forEach((e=>{e.forEach((e=>{e.reject(new Rs(Ps.CANCELLED,t))}))})),e.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Rp(n,e.us)}}function Lp(e,t){const n=Ds(e),r=n.Sa.get(t);if(r&&r.ma)return nc().add(r.key);{let e=nc();const r=n.pa.get(t);if(!r)return e;for(const t of r){const r=n.ga.get(t);e=e.unionWith(r.view.la)}return e}}async function Mp(e,t){const n=Ds(e),r=await Bh(n.localStore,t.query,!0),i=t.view.Ra(r);return n.isPrimaryClient&&Cp(n,t.targetId,i.da),i}async function jp(e,t){const n=Ds(e);return qh(n.localStore,t).then((e=>Rp(n,e)))}async function Fp(e,t,n,r){const i=Ds(e),s=await function(e,t){const n=Ds(e),r=Ds(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):fa.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Mf(i.remoteStore):"acknowledged"===n||"rejected"===n?(Tp(i,t,r||null),xp(i,t),function(e,t){Ds(Ds(e).mutationQueue).Mn(t)}(i.localStore,t)):As(),await Rp(i,s)):ks("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Vp(e,t,n){const r=Ds(e),i=[],s=[];for(const a of t){let e;const t=r.pa.get(a);if(t&&0!==t.length){e=await Vh(r.localStore,Ol(t[0]));for(const e of t){const t=r.ga.get(e),n=await Mp(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await zh(r.localStore,a);e=await Vh(r.localStore,t),await wp(r,Up(t),a,!1,e.resumeToken)}i.push(e)}return r.fa.u_(s),i}function Up(e){return Al(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Bp(e){return function(e){return Ds(Ds(e).persistence).Li()}(Ds(e).localStore)}async function zp(e,t,n,r){const i=Ds(e);if(i.Fa)return void ks("SyncEngine","Ignoring unexpected query state notification.");const s=i.pa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await qh(i.localStore,zl(s[0])),r=$c.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,go.EMPTY_BYTE_STRING);await Rp(i,e,r);break}case"rejected":await Uh(i.localStore,t,!0),Np(i,t,r);break;default:As()}}async function qp(e,t,n){const r=Gp(e);if(r.Fa){for(const e of t){if(r.pa.has(e)){ks("SyncEngine","Adding an already active target "+e);continue}const t=await zh(r.localStore,e),n=await Vh(r.localStore,t);await wp(r,Up(t),n.targetId,!1,n.resumeToken),Ef(r.remoteStore,n)}for(const e of n)r.pa.has(e)&&await Uh(r.localStore,e,!1).then((()=>{Sf(r.remoteStore,e),Np(r,e)})).catch(ha)}}function Gp(e){const t=Ds(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_p.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ep.bind(null,t),t.fa.u_=ip.bind(null,t.eventManager),t.fa.xa=sp.bind(null,t.eventManager),t}function Wp(e){const t=Ds(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kp.bind(null,t),t}class Kp{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Oh(this.persistence,new Ph,e.initialUser,this.serializer)}createPersistence(e){return new bh(Ih.Hr,this.serializer)}createSharedClientState(e){return new tf}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Hp extends Kp{constructor(e,t,n){super(),this.Na=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Na.initialize(this,e),await Wp(this.Na.syncEngine),await Mf(this.Na.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Oh(this.persistence,new Ph,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Jd(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Sa(t,this.persistence);return new Ea(e.asyncQueue,n)}createPersistence(e){const t=Ah(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ld.withCacheSize(this.cacheSizeBytes):Ld.DEFAULT;return new xh(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,df(),hf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new tf}}class Qp extends Hp{constructor(e,t){super(e,t,!1),this.Na=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Na.syncEngine;this.sharedClientState instanceof ef&&(this.sharedClientState.syncEngine={Zs:Fp.bind(null,t),Xs:zp.bind(null,t),eo:qp.bind(null,t),Li:Bp.bind(null,t),Ys:jp.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=Ds(e);if(Gp(n),Wp(n),!0===t&&!0!==n.Fa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Vp(n,e.toArray());n.Fa=!0,await Kf(n.remoteStore,!0);for(const r of t)Ef(n.remoteStore,r)}else if(!1===t&&!1!==n.Fa){const e=[];let t=Promise.resolve();n.pa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Np(n,i),Uh(n.localStore,i,!0)))),Sf(n.remoteStore,i)})),await t,await Vp(n,e),function(e){const t=Ds(e);t.Sa.forEach(((e,n)=>{Sf(t.remoteStore,n)})),t.ba.mr(),t.Sa=new Map,t.wa=new oo(ea.comparator)}(n),n.Fa=!1,await Kf(n.remoteStore,!1)}}(this.Na.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=df();if(!ef.D(t))throw new Rs(Ps.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Ah(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ef(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Yp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ip(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Op.bind(null,this.syncEngine),await Kf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new tp}createDatastore(e){const t=ff(e.databaseInfo.databaseId),n=function(e){return new uf(e)}(e.databaseInfo);return function(e,t,n,r){return new vf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new bf(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Ip(this.syncEngine,e,0)),rf.D()?new rf:new nf)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new yp(e,t,n,r,i,s);return a&&(o.Fa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Ds(e);ks("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await If(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function Jp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Xp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class $p{constructor(e,t){this.ka=e,this.serializer=t,this.metadata=new Os,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((e=>{e&&e.ea()?this.metadata.resolve(e.X_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(e=>this.metadata.reject(e)))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const e=await this.Ka();if(null===e)return null;const t=this.qa.decode(e),n=Number(t);isNaN(n)&&this.$a("length string (".concat(t,") is not valid number"));const r=await this.Ua(n);return new lp(JSON.parse(r),e.length+n)}Wa(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(0===this.buffer.length)return null;const e=this.Wa();e<0&&this.$a("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ua(e){for(;this.buffer.length<e;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const t=this.qa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}$a(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ga(){const e=await this.ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Zp{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Rs(Ps.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Ds(e),r={documents:t.map((e=>wu(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,Xs.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Cs(!!t.found),t.found.name,t.found.updateTime;const n=bu(e,t.found.name),r=mu(t.found.updateTime),i=t.found.createTime?mu(t.found.createTime):Ys.min(),s=new Ho({mapValue:{fields:t.found.fields}});return Yo.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Cs(!!t.missing),Cs(!!t.readTime);const n=bu(e,t.missing),r=mu(t.readTime);return Yo.newNoDocument(n,r)}(e,t):As()}(n.serializer,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());Cs(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Lc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=ea.fromPath(t);this.mutations.push(new Mc(n,this.precondition(n)))})),await async function(e,t){const n=Ds(e),r={writes:t.map((e=>Tu(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,Xs.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw As();t=Ys.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Rs(Ps.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ys.min())?Ic.exists(!1):Ic.updateTime(t):Ic.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ys.min()))throw new Rs(Ps.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ic.updateTime(t)}return Ic.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class em{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.za=n.maxAttempts,this.jo=new pf(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo((async()=>{const e=new Zp(this.datastore),t=this.Ja(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Ya(e)}))))})).catch((e=>{this.Ya(e)}))}))}Ja(e){try{const t=this.updateFunction(e);return!xa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ya(e){this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ha(),Promise.resolve())))):this.deferred.reject(e)}Za(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!qc(t)}return!1}}class tm{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=_s.UNAUTHENTICATED,this.clientId=Gs.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{ks("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ks("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Rs(Ps.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Jf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function nm(e,t){e.asyncQueue.verifyOperationInProgress(),ks("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Lh(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function rm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await sm(e);ks("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Wf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Wf(t.remoteStore,n))),e._onlineComponents=t}function im(e){return"FirebaseError"===e.name?e.code===Ps.FAILED_PRECONDITION||e.code===Ps.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function sm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ks("FirestoreClient","Using user provided OfflineComponentProvider");try{await nm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!im(n))throw n;Ts("Error using user provided cache. Falling back to memory cache: "+n),await nm(e,new Kp)}}else ks("FirestoreClient","Using default OfflineComponentProvider"),await nm(e,new Kp);return e._offlineComponents}async function am(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ks("FirestoreClient","Using user provided OnlineComponentProvider"),await rm(e,e._uninitializedComponentsProvider._online)):(ks("FirestoreClient","Using default OnlineComponentProvider"),await rm(e,new Yp))),e._onlineComponents}function om(e){return sm(e).then((e=>e.persistence))}function lm(e){return sm(e).then((e=>e.localStore))}function cm(e){return am(e).then((e=>e.remoteStore))}function um(e){return am(e).then((e=>e.syncEngine))}function dm(e){return am(e).then((e=>e.datastore))}async function hm(e){const t=await am(e),n=t.eventManager;return n.onListen=vp.bind(null,t.syncEngine),n.onUnlisten=bp.bind(null,t.syncEngine),n}function fm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Os;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Xp({next:s=>{t.enqueueAndForget((()=>rp(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new Rs(Ps.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new Rs(Ps.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new op(Cl(n.path),s,{includeMetadataChanges:!0,Z_:!0});return np(e,a)}(await hm(e),e.asyncQueue,t,n,r))),r.promise}function pm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Os;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Xp({next:n=>{t.enqueueAndForget((()=>rp(e,a))),n.fromCache&&"server"===r.source?i.reject(new Rs(Ps.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new op(n,s,{includeMetadataChanges:!0,Z_:!0});return np(e,a)}(await hm(e),e.asyncQueue,t,n,r))),r.promise}function mm(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Kc().encode(e):e,function(e,t){return new $p(e,t)}(function(e,t){if(e instanceof Uint8Array)return Jp(e,t);if(e instanceof ArrayBuffer)return Jp(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,ff(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Ds(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Ds(e),r=mu(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(dp(r));const i=new up(r,e.localStore,t.serializer);let s=await t.Oa();for(;s;){const e=await i.na(s);e&&n._updateProgress(e),s=await t.Oa()}const a=await i.complete();return await Rp(e,a.sa,void 0),await function(e,t){const n=Ds(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.ia)}catch(e){return Ts("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await um(e),i,r)}))}function gm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ym=new Map;function vm(e,t,n){if(!n)throw new Rs(Ps.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function wm(e,t,n,r){if(!0===t&&!0===r)throw new Rs(Ps.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function bm(e){if(!ea.isDocumentKey(e))throw new Rs(Ps.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function _m(e){if(ea.isDocumentKey(e))throw new Rs(Ps.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Im(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":As()}function Em(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Rs(Ps.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Im(e);throw new Rs(Ps.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Sm(e,t){if(t<=0)throw new Rs(Ps.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class km{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Rs(Ps.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Rs(Ps.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Rs(Ps.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Rs(Ps.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Rs(Ps.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new km({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Rs(Ps.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Rs(Ps.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new km(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ms;switch(e.type){case"firstParty":return new Us(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Rs(Ps.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ym.get(e);t&&(ks("ComponentProvider","Removing Datastore"),ym.delete(e),t.terminate())}(this),Promise.resolve()}}function Tm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Em(e,xm))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=_s.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[h(JSON.stringify({alg:"none",type:"JWT"})),h(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Rs(Ps.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new _s(s)}e._authCredentials=new js(new Ls(t,n))}}class Nm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Nm(this.firestore,e,this._query)}}class Am{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Am(this.firestore,e,this._key)}}class Cm extends Nm{constructor(e,t,n){super(e,t,Cl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Am(this.firestore,null,new ea(e))}withConverter(e){return new Cm(this.firestore,e,this._path)}}function Dm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=F(e),vm("collection","path",t),e instanceof xm){const n=Xs.fromString(t,...r);return _m(n),new Cm(e,null,n)}{if(!(e instanceof Am||e instanceof Cm))throw new Rs(Ps.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xs.fromString(t,...r));return _m(n),new Cm(e.firestore,null,n)}}function Pm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=F(e),1===arguments.length&&(t=Gs.newId()),vm("doc","path",t),e instanceof xm){const n=Xs.fromString(t,...r);return bm(n),new Am(e,null,new ea(n))}{if(!(e instanceof Am||e instanceof Cm))throw new Rs(Ps.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xs.fromString(t,...r));return bm(n),new Am(e.firestore,e instanceof Cm?e.converter:null,new ea(n))}}function Rm(e,t){return e=F(e),t=F(t),(e instanceof Am||e instanceof Cm)&&(t instanceof Am||t instanceof Cm)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Om(e,t){return e=F(e),t=F(t),e instanceof Nm&&t instanceof Nm&&e.firestore===t.firestore&&Fl(e._query,t._query)&&e.converter===t.converter}class Lm{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new pf(this,"async_queue_retry"),this._u=()=>{const e=hf();e&&ks("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=hf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const t=hf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise((()=>{}));const t=new Os;return this.uu((()=>this.tu&&this.su?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.eu.push(e),this.cu())))}async cu(){if(0!==this.eu.length){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!va(e))throw e;ks("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo((()=>this.cu()))}}uu(e){const t=this.Xa.then((()=>(this.iu=!0,e().catch((e=>{this.ru=e,this.iu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw xs("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.iu=!1,e))))));return this.Xa=t,t}enqueueAfterDelay(e,t,n){this.au(),this.ou.indexOf(e)>-1&&(t=0);const r=Yf.createAndSchedule(this,e,t,n,(e=>this.lu(e)));return this.nu.push(r),r}au(){this.ru&&As()}verifyOperationInProgress(){}async hu(){let e;do{e=this.Xa,await e}while(e!==this.Xa)}Pu(e){for(const t of this.nu)if(t.timerId===e)return!0;return!1}Iu(e){return this.hu().then((()=>{this.nu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.hu()}))}Tu(e){this.ou.push(e)}lu(e){const t=this.nu.indexOf(e);this.nu.splice(t,1)}}function Mm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class jm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Os,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Fm extends xm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Lm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Um(this),this._firestoreClient.terminate()}}function Vm(e){return e._firestoreClient||Um(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Um(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new So(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,gm(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new tm(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Bm(e,t,n){const r=new Os;return e.asyncQueue.enqueue((async()=>{try{await nm(e,n),await rm(e,t),r.resolve()}catch(e){const n=e;if(!im(n))throw n;Ts("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function zm(e){return function(e){const t=new Os;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Ds(e);Af(n.remoteStore)||ks("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Ds(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ca.get(e)||[];r.push(t),n.Ca.set(e,r)}catch(e){const n=Jf(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await um(e),t))),t.promise}(Vm(e=Em(e,Fm)))}function qm(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await om(e),n=await cm(e);return t.setNetworkEnabled(!0),function(e){const t=Ds(e);return t.v_.delete(0),_f(t)}(n)}))}(Vm(e=Em(e,Fm)))}function Gm(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await om(e),n=await cm(e);return t.setNetworkEnabled(!1),async function(e){const t=Ds(e);t.v_.add(0),await If(t),t.x_.set("Offline")}(n)}))}(Vm(e=Em(e,Fm)))}function Wm(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Ds(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await lm(e),t)))}(Vm(e=Em(e,Fm)),t).then((t=>t?new Nm(e,null,t.query):null))}function Km(e){if(e._initialized||e._terminated)throw new Rs(Ps.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Hm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hm(go.fromBase64String(e))}catch(e){throw new Rs(Ps.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Hm(go.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Rs(Ps.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zs(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ym{constructor(e){this._methodName=e}}class Jm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Rs(Ps.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Rs(Ps.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ws(this._lat,e._lat)||Ws(this._long,e._long)}}const Xm=/^__.*__$/;class $m{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Dc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cc(e,this.data,t,this.fieldTransforms)}}class Zm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Dc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function eg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw As()}}class tg{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Eu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new tg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return _g(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(eg(this.du)&&Xm.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class ng{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ff(e)}Su(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new tg({du:e,methodName:t,wu:n,path:Zs.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(e){const t=e._freezeSettings(),n=ff(e._databaseId);return new ng(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ig(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Su(s.merge||s.mergeFields?2:0,t,n,i);yg("Data must be an object, but it was:",a,r);const o=mg(r,a);let l,c;if(s.merge)l=new po(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=vg(t,r,n);if(!a.contains(i))throw new Rs(Ps.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ig(e,i)||e.push(i)}l=new po(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new $m(new Ho(o),l,c)}class sg extends Ym{_toFieldTransform(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sg}}function ag(e,t,n){return new tg({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class og extends Ym{_toFieldTransform(e){return new bc(e.path,new hc)}isEqual(e){return e instanceof og}}class lg extends Ym{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=ag(this,e,!0),n=this.bu.map((e=>pg(e,t))),r=new fc(n);return new bc(e.path,r)}isEqual(e){return e instanceof lg&&C(this.bu,e.bu)}}class cg extends Ym{constructor(e,t){super(e),this.bu=t}_toFieldTransform(e){const t=ag(this,e,!0),n=this.bu.map((e=>pg(e,t))),r=new mc(n);return new bc(e.path,r)}isEqual(e){return e instanceof cg&&C(this.bu,e.bu)}}class ug extends Ym{constructor(e,t){super(e),this.Du=t}_toFieldTransform(e){const t=new yc(e.serializer,oc(e.serializer,this.Du));return new bc(e.path,t)}isEqual(e){return e instanceof ug&&this.Du===e.Du}}function dg(e,t,n,r){const i=e.Su(1,t,n);yg("Data must be an object, but it was:",i,r);const s=[],a=Ho.empty();so(r,((e,r)=>{const o=bg(t,e,n);r=F(r);const l=i.fu(o);if(r instanceof sg)s.push(o);else{const e=pg(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new po(s);return new Zm(a,o,i.fieldTransforms)}function hg(e,t,n,r,i,s){const a=e.Su(1,t,n),o=[vg(t,r,n)],l=[i];if(s.length%2!=0)throw new Rs(Ps.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(vg(t,s[h])),l.push(s[h+1]);const c=[],u=Ho.empty();for(let h=o.length-1;h>=0;--h)if(!Ig(c,o[h])){const e=o[h];let t=l[h];t=F(t);const n=a.fu(e);if(t instanceof sg)c.push(e);else{const r=pg(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new po(c);return new Zm(u,d,a.fieldTransforms)}function fg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return pg(n,e.Su(r?4:3,t))}function pg(e,t){if(gg(e=F(e)))return yg("Unsupported field value:",t,e),mg(e,t);if(e instanceof Ym)return function(e,t){if(!eg(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=pg(i,t.gu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=F(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return oc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Qs.fromDate(e);return{timestampValue:hu(t.serializer,n)}}if(e instanceof Qs){const n=new Qs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hu(t.serializer,n)}}if(e instanceof Jm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hm)return{bytesValue:fu(t.serializer,e._byteString)};if(e instanceof Am){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.pu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:gu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(Im(e)))}(e,t)}function mg(e,t){const n={};return ao(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):so(e,((e,r)=>{const i=pg(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function gg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Qs||e instanceof Jm||e instanceof Hm||e instanceof Am||e instanceof Ym)}function yg(e,t,n){if(!gg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Im(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function vg(e,t,n){if((t=F(t))instanceof Qm)return t._internalPath;if("string"==typeof t)return bg(e,t);throw _g("Field path arguments must be of type string or ",e,!1,void 0,n)}const wg=new RegExp("[~\\*/\\[\\]]");function bg(e,t,n){if(t.search(wg)>=0)throw _g("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Qm(...t.split("."))._internalPath}catch(ft){throw _g("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function _g(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Rs(Ps.INVALID_ARGUMENT,o+e+l)}function Ig(e,t){return e.some((e=>e.isEqual(t)))}class Eg{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Am(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sg extends Eg{data(){return super.data()}}function kg(e,t){return"string"==typeof t?bg(e,t):t instanceof Qm?t._internalPath:t._delegate._internalPath}function xg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Rs(Ps.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class Ng extends Tg{}function Ag(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Tg&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Dg)).length,n=e.filter((e=>e instanceof Cg)).length;if(t>1||t>0&&n>0)throw new Rs(Ps.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Cg extends Ng{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Cg(e,t,n)}_apply(e){const t=this._parse(e);return Vg(e._query,t),new Nm(e.firestore,e.converter,Ml(e._query,t))}_parse(e){const t=rg(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Rs(Ps.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Fg(a,s);const t=[];for(const n of a)t.push(jg(r,e,n));o={arrayValue:{values:t}}}else o=jg(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Fg(a,s),o=fg(n,t,a,"in"===s||"not-in"===s);return nl.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Dg extends Tg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dg(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:rl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Vg(n,i),n=Ml(n,i)}(e._query,t),new Nm(e.firestore,e.converter,Ml(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Pg extends Ng{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Pg(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Rs(Ps.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Rs(Ps.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zo(t,n)}(e._query,this._field,this._direction);return new Nm(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Nl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Rg extends Ng{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Rg(e,t,n)}_apply(e){return new Nm(e.firestore,e.converter,jl(e._query,this._limit,this._limitType))}}class Og extends Ng{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Og(e,t,n)}_apply(e){const t=Mg(e,this.type,this._docOrFields,this._inclusive);return new Nm(e.firestore,e.converter,function(e,t){return new Nl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Lg extends Ng{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Lg(e,t,n)}_apply(e){const t=Mg(e,this.type,this._docOrFields,this._inclusive);return new Nm(e.firestore,e.converter,function(e,t){return new Nl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Mg(e,t,n,r){if(n[0]=F(n[0]),n[0]instanceof Eg)return function(e,t,n,r,i){if(!r)throw new Rs(Ps.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const a of Rl(e))if(a.field.isKeyField())s.push(Lo(t,r.key));else{const e=r.data.field(a.field);if(_o(e))throw new Rs(Ps.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new Rs(Ps.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new Jo(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=rg(e.firestore);return function(e,t,n,r,i,s){const a=e.explicitOrderBy;if(i.length>a.length)throw new Rs(Ps.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const o=[];for(let l=0;l<i.length;l++){const s=i[l];if(a[l].field.isKeyField()){if("string"!=typeof s)throw new Rs(Ps.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Pl(e)&&-1!==s.indexOf("/"))throw new Rs(Ps.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Xs.fromString(s));if(!ea.isDocumentKey(n))throw new Rs(Ps.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new ea(n);o.push(Lo(t,i))}else{const e=fg(n,r,s);o.push(e)}}return new Jo(o,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function jg(e,t,n){if("string"==typeof(n=F(n))){if(""===n)throw new Rs(Ps.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pl(t)&&-1!==n.indexOf("/"))throw new Rs(Ps.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Xs.fromString(n));if(!ea.isDocumentKey(r))throw new Rs(Ps.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Lo(e,new ea(r))}if(n instanceof Am)return Lo(e,n._key);throw new Rs(Ps.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Im(n),"."))}function Fg(e,t){if(!Array.isArray(e)||0===e.length)throw new Rs(Ps.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Vg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Rs(Ps.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Rs(Ps.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Ug{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw As()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return so(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Jm(wo(e.latitude),wo(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Io(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Eo(e));default:return null}}convertTimestamp(e){const t=vo(e);return new Qs(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Xs.fromString(e);Cs(Uu(n));const r=new ko(n.get(1),n.get(3)),i=new ea(n.popFirst(5));return r.isEqual(t)||xs("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Bg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class zg extends Ug{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Am(this.firestore,null,t)}}class qg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gg extends Eg{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Wg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(kg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Wg extends Gg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Kg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Wg(this._firestore,this._userDataWriter,n.key,n,new qg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Rs(Ps.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Wg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new qg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Wg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Hg(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Hg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return As()}}function Qg(e,t){return e instanceof Gg&&t instanceof Gg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Kg&&t instanceof Kg&&e._firestore===t._firestore&&Om(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class Yg extends Ug{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Am(this.firestore,null,t)}}function Jg(e){e=Em(e,Am);const t=Em(e.firestore,Fm),n=Vm(t),r=new Yg(t);return function(e,t){const n=new Os;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Ds(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Rs(Ps.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Jf(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await lm(e),t,n))),n.promise}(n,e._key).then((n=>new Gg(t,r,e._key,n,new qg(null!==n&&n.hasLocalMutations,!0),e.converter)))}function Xg(e){e=Em(e,Nm);const t=Em(e.firestore,Fm),n=Vm(t),r=new Yg(t);return function(e,t){const n=new Os;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Bh(e,t,!0),i=new pp(t,r.hs),s=i.ha(r.documents),a=i.applyChanges(s,!1);n.resolve(a.snapshot)}catch(e){const r=Jf(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await lm(e),t,n))),n.promise}(n,e._query).then((n=>new Kg(t,r,e,n)))}function $g(e,t,n){e=Em(e,Am);const r=Em(e.firestore,Fm),i=Bg(e.converter,t,n);return ny(r,[ig(rg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ic.none())])}function Zg(e,t,n){e=Em(e,Am);const r=Em(e.firestore,Fm),i=rg(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=F(t))||t instanceof Qm?hg(i,"updateDoc",e._key,t,n,o):dg(i,"updateDoc",e._key,t),ny(r,[s.toMutation(e._key,Ic.exists(!0))])}function ey(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=F(e);let o={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Mm(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(Mm(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof Am)d=Em(e.firestore,Fm),h=Cl(e._key.path),u={next:t=>{n[l]&&n[l](ry(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Em(e,Nm);d=Em(t.firestore,Fm),h=t._query;const r=new Yg(d);u={next:e=>{n[l]&&n[l](new Kg(d,r,t,e))},error:n[l+1],complete:n[l+2]},xg(e._query)}return function(e,t,n,r){const i=new Xp(r),s=new op(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>np(await hm(e),s))),()=>{i.La(),e.asyncQueue.enqueueAndForget((async()=>rp(await hm(e),s)))}}(Vm(d),h,c,u)}function ty(e,t){return function(e,t){const n=new Xp(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ds(e).K_.add(t),t.next()}(await hm(e),n))),()=>{n.La(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ds(e).K_.delete(t)}(await hm(e),n)))}}(Vm(e=Em(e,Fm)),Mm(t)?t:{next:t})}function ny(e,t){return function(e,t){const n=new Os;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Wp(e);try{const e=await function(e,t){const n=Ds(e),r=Qs.now(),i=t.reduce(((e,t)=>e.add(t.key)),nc());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Hl(),l=nc();return n.os.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=Nc(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Dc(e.key,t,Qo(t.value.mapValue),Ic.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Jl(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Da[e.currentUser.toKey()];r||(r=new oo(Ws)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(r,e.batchId,n),await Rp(r,e.changes),await Mf(r.remoteStore)}catch(e){const t=Jf(e,"Failed to persist write");n.reject(t)}}(await um(e),t,n))),n.promise}(Vm(e),t)}function ry(e,t,n){const r=n.docs.get(t._key),i=new Yg(e);return new Gg(e,i,t._key,r,new qg(n.hasPendingWrites,n.fromCache),t.converter)}const iy={maxAttempts:5};class sy{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=rg(e)}set(e,t,n){this._verifyNotCommitted();const r=ay(e,this._firestore),i=Bg(r.converter,t,n),s=ig(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Ic.none())),this}update(e,t,n){this._verifyNotCommitted();const r=ay(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=F(t))||t instanceof Qm?hg(this._dataReader,"WriteBatch.update",r._key,t,n,a):dg(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Ic.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ay(e,this._firestore);return this._mutations=this._mutations.concat(new Lc(t._key,Ic.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rs(Ps.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ay(e,t){if((e=F(e)).firestore!==t)throw new Rs(Ps.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class oy extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=rg(e)}get(e){const t=ay(e,this._firestore),n=new zg(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return As();const r=e[0];if(r.isFoundDocument())return new Eg(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Eg(this._firestore,n,t._key,null,t.converter);throw As()}))}set(e,t,n){const r=ay(e,this._firestore),i=Bg(r.converter,t,n),s=ig(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=ay(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=F(t))||t instanceof Qm?hg(this._dataReader,"Transaction.update",r._key,t,n,a):dg(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=ay(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ay(e,this._firestore),n=new Yg(this._firestore);return super.get(e).then((e=>new Gg(this._firestore,n,t._key,e._document,new qg(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Is=e}(Ae),Ee(new V("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Fm(new Fs(e.getProvider("auth-internal")),new zs(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Rs(Ps.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ko(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Oe(bs,"4.4.2",e),Oe(bs,"4.4.2","esm2017")}();function ly(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Rs("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function cy(){if("undefined"===typeof Uint8Array)throw new Rs("unimplemented","Uint8Arrays are not available in this environment.")}function uy(){if("undefined"==typeof atob)throw new Rs("unimplemented","Blobs are unavailable in Firestore in this environment.")}class dy{constructor(e){this._delegate=e}static fromBase64String(e){return uy(),new dy(Hm.fromBase64String(e))}static fromUint8Array(e){return cy(),new dy(Hm.fromUint8Array(e))}toBase64(){return uy(),this._delegate.toBase64()}toUint8Array(){return cy(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hy(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class fy{enableIndexedDbPersistence(e,t){return function(e,t){Km(e=Em(e,Fm));const n=Vm(e);if(n._uninitializedComponentsProvider)throw new Rs(Ps.FAILED_PRECONDITION,"SDK cache is already specified.");Ts("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Yp;return Bm(n,i,new Hp(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Km(e=Em(e,Fm));const t=Vm(e);if(t._uninitializedComponentsProvider)throw new Rs(Ps.FAILED_PRECONDITION,"SDK cache is already specified.");Ts("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new Yp;return Bm(t,r,new Qp(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Rs(Ps.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Os;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!ma.D())return Promise.resolve();const t=e+"main";await ma.delete(t)}(Ah(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class py{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof ko||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Ts("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Tm(this._delegate,e,t,n)}enableNetwork(){return qm(this._delegate)}disableNetwork(){return Gm(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,wm("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return zm(this._delegate)}onSnapshotsInSync(e){return ty(this._delegate,e)}get app(){if(!this._appCompat)throw new Rs("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ny(this,Dm(this._delegate,e))}catch(t){throw by(t,"collection()","Firestore.collection()")}}doc(e){try{return new wy(this,Pm(this._delegate,e))}catch(t){throw by(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ky(this,function(e,t){if(e=Em(e,xm),vm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Rs(Ps.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Nm(e,null,function(e){return new Nl(Xs.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw by(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Em(e,Fm);const r=Object.assign(Object.assign({},iy),n);return function(e){if(e.maxAttempts<1)throw new Rs(Ps.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Os;return e.asyncQueue.enqueueAndForget((async()=>{const i=await dm(e);new em(e.asyncQueue,i,n,t,r).ja()})),r.promise}(Vm(e),(n=>t(new oy(e,n))),r)}(this._delegate,(t=>e(new gy(this,t))))}batch(){return Vm(this._delegate),new yy(new sy(this._delegate,(e=>ny(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Vm(e=Em(e,Fm)),r=new jm;return mm(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return Wm(this._delegate,e).then((e=>e?new ky(this,e):null))}}class my extends Ug{constructor(e){super(),this.firestore=e}convertBytes(e){return new dy(new Hm(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return wy.forKey(t,this.firestore,null)}}class gy{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new my(e)}get(e){const t=Ay(e);return this._delegate.get(t).then((e=>new Ey(this._firestore,new Gg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Ay(e);return n?(ly("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=Ay(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=Ay(e);return this._delegate.delete(t),this}}class yy{constructor(e){this._delegate=e}set(e,t,n){const r=Ay(e);return n?(ly("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=Ay(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=Ay(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class vy{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Wg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sy(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=vy.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new vy(e,new my(e),t),r.set(t,i)),i}}vy.INSTANCES=new WeakMap;class wy{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new my(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Rs("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new wy(t,new Am(t._delegate,n,new ea(e)))}static forKey(e,t,n){return new wy(t,new Am(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Ny(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ny(this.firestore,Dm(this._delegate,e))}catch(t){throw by(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=F(e))instanceof Am&&Rm(this._delegate,e)}set(e,t){t=ly("DocumentReference.set",t);try{return t?$g(this._delegate,e,t):$g(this._delegate,e)}catch(n){throw by(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Zg(this._delegate,e):Zg(this._delegate,e,t,...r)}catch(s){throw by(s,"updateDoc()","DocumentReference.update()")}}delete(){return ny(Em((e=this._delegate).firestore,Fm),[new Lc(e._key,Ic.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=_y(t),i=Iy(t,(e=>new Ey(this.firestore,new Gg(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return ey(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Jg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Em(e,Am);const t=Em(e.firestore,Fm);return fm(Vm(t),e._key,{source:"server"}).then((n=>ry(t,e,n)))}(this._delegate):function(e){e=Em(e,Am);const t=Em(e.firestore,Fm);return fm(Vm(t),e._key).then((n=>ry(t,e,n)))}(this._delegate),t.then((e=>new Ey(this.firestore,new Gg(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new wy(this.firestore,e?this._delegate.withConverter(vy.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function by(e,t,n){return e.message=e.message.replace(t,n),e}function _y(e){for(const t of e)if("object"===typeof t&&!hy(t))return t;return{}}function Iy(e,t){var n,r;let i;return i=hy(e[0])?e[0]:hy(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Ey{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new wy(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Qg(this._delegate,e._delegate)}}class Sy extends Ey{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||As(),t}}class ky{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new my(e)}where(e,t,n){try{return new ky(this.firestore,Ag(this._delegate,function(e,t,n){const r=t,i=kg("where",e);return Cg._create(i,r,n)}(e,t,n)))}catch(r){throw by(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ky(this.firestore,Ag(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=kg("orderBy",e);return Pg._create(n,t)}(e,t)))}catch(n){throw by(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ky(this.firestore,Ag(this._delegate,(Sm("limit",t=e),Rg._create("limit",t,"F"))))}catch(t){throw by(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new ky(this.firestore,Ag(this._delegate,(Sm("limitToLast",t=e),Rg._create("limitToLast",t,"L"))))}catch(t){throw by(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new ky(this.firestore,Ag(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Og._create("startAt",t,!0)}(...arguments)))}catch(e){throw by(e,"startAt()","Query.startAt()")}}startAfter(){try{return new ky(this.firestore,Ag(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Og._create("startAfter",t,!1)}(...arguments)))}catch(e){throw by(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new ky(this.firestore,Ag(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Lg._create("endBefore",t,!1)}(...arguments)))}catch(e){throw by(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new ky(this.firestore,Ag(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Lg._create("endAt",t,!0)}(...arguments)))}catch(e){throw by(e,"endAt()","Query.endAt()")}}isEqual(e){return Om(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Xg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Em(e,Nm);const t=Em(e.firestore,Fm),n=Vm(t),r=new Yg(t);return pm(n,e._query,{source:"server"}).then((n=>new Kg(t,r,e,n)))}(this._delegate):function(e){e=Em(e,Nm);const t=Em(e.firestore,Fm),n=Vm(t),r=new Yg(t);return xg(e._query),pm(n,e._query).then((n=>new Kg(t,r,e,n)))}(this._delegate),t.then((e=>new Ty(this.firestore,new Kg(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=_y(t),i=Iy(t,(e=>new Ty(this.firestore,new Kg(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return ey(this._delegate,r,i)}withConverter(e){return new ky(this.firestore,e?this._delegate.withConverter(vy.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class xy{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Sy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ty{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ky(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Sy(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new xy(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Sy(this._firestore,n))}))}isEqual(e){return Qg(this._delegate,e._delegate)}}class Ny extends ky{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wy(this.firestore,e):null}doc(e){try{return new wy(this.firestore,void 0===e?Pm(this._delegate):Pm(this._delegate,e))}catch(t){throw by(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Em(e.firestore,Fm),r=Pm(e),i=Bg(e.converter,t);return ny(n,[ig(rg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ic.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new wy(this.firestore,e)))}isEqual(e){return Rm(this._delegate,e._delegate)}withConverter(e){return new Ny(this.firestore,e?this._delegate.withConverter(vy.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ay(e){return Em(e,Am)}class Cy{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new Qm(...t)}static documentId(){return new Cy(Zs.keyField().canonicalString())}isEqual(e){return(e=F(e))instanceof Qm&&this._delegate._internalPath.isEqual(e._internalPath)}}class Dy{constructor(e){this._delegate=e}static serverTimestamp(){const e=new og("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Dy(e)}static delete(){const e=new sg("deleteField");return e._methodName="FieldValue.delete",new Dy(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lg("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new Dy(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cg("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new Dy(e)}static increment(e){const t=new ug("increment",e);return t._methodName="FieldValue.increment",new Dy(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Py={Firestore:py,GeoPoint:Jm,Timestamp:Qs,Blob:dy,Transaction:gy,WriteBatch:yy,DocumentReference:wy,DocumentSnapshot:Ey,Query:ky,QueryDocumentSnapshot:Sy,QuerySnapshot:Ty,CollectionReference:Ny,FieldPath:Cy,FieldValue:Dy,setLogLevel:function(e){var t;t=e,Es.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var Ry;(function(e,t){e.INTERNAL.registerComponent(new V("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Py)))})(Ry=Ze,((e,t)=>new py(e,t,new fy))),Ry.registerVersion("@firebase/firestore-compat","0.3.25");function Oy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Ly={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},My="EMAIL_SIGNIN",jy="PASSWORD_RESET",Fy="RECOVER_EMAIL",Vy="REVERT_SECOND_FACTOR_ADDITION",Uy="VERIFY_AND_CHANGE_EMAIL",By="VERIFY_EMAIL";function zy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qy=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Gy=zy,Wy=new T("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ky=new Y("@firebase/auth");function Hy(e){if(Ky.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ky.error("Auth (".concat(Ae,"): ").concat(e),...n)}}function Qy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $y(e,...n)}function Yy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $y(e,...n)}function Jy(e,t,n){const r=Object.assign(Object.assign({},Gy()),{[t]:n});return new T("auth","Firebase",r).create(t,{appName:e.name})}function Xy(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Qy(e,"argument-error"),Jy(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function $y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Wy.create(e,...n)}function Zy(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $y(t,...r)}}function ev(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Hy(t),new Error(t)}function tv(e,t){e||ev(t)}function nv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function rv(){return"http:"===iv()||"https:"===iv()}function iv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class sv{constructor(e,t){this.shortDelay=e,this.longDelay=t,tv(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w())||I()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(rv()||_()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function av(e,t){tv(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ov{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ev("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ev("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ev("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},cv=new sv(3e4,6e4);function uv(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function dv(e,t,n,r){return hv(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=P(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),ov.fetch()(pv(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function hv(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},lv),t);try{const t=new gv(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw yv(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw yv(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw yv(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw yv(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Jy(e,o,a);Qy(e,o)}}catch(i){if(i instanceof x)throw i;Qy(e,"network-request-failed",{message:String(i)})}}async function fv(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await dv(e,t,n,r,i);return"mfaPendingCredential"in s&&Qy(e,"multi-factor-auth-required",{_serverResponse:s}),s}function pv(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?av(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function mv(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gv{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Yy(this.auth,"network-request-failed"))),cv.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function yv(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yy(e,t,r);return i.customData._tokenResponse=n,i}function vv(e){return void 0!==e&&void 0!==e.getResponse}function wv(e){return void 0!==e&&void 0!==e.enterprise}class bv{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return mv(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function _v(e,t){return dv(e,"GET","/v2/recaptchaConfig",uv(e,t))}function Iv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Ev(e){return 1e3*Number(e)}function Sv(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Hy("JWT malformed, contained fewer than 3 sections"),null;try{const e=f(n);return e?JSON.parse(e):(Hy("Failed to decode base64 JWT payload"),null)}catch(i){return Hy("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function kv(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof x&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class xv{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Tv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iv(this.lastLoginAt),this.creationTime=Iv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nv(e){var t;const n=e.auth,r=await e.getIdToken(),i=await kv(e,async function(e,t){return dv(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Zy(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Oy(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Tv(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class Av{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Zy(e.idToken,"internal-error"),Zy("undefined"!==typeof e.idToken,"internal-error"),Zy("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Sv(e);return Zy(t,"internal-error"),Zy("undefined"!==typeof t.exp,"internal-error"),Zy("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Zy(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await hv(e,{},(async()=>{const n=P({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=pv(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ov.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Av;return n&&(Zy("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Zy("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Zy("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Av,this.toJSON())}_performRefresh(){return ev("not implemented")}}function Cv(e,t){Zy("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Dv{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Oy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Tv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await kv(this,this.stsTokenManager.getToken(this.auth,e));return Zy(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=F(e),r=await n.getIdToken(t),i=Sv(r);Zy(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Iv(Ev(i.auth_time)),issuedAtTime:Iv(Ev(i.iat)),expirationTime:Iv(Ev(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=F(e);await Nv(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Zy(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dv(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Zy(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Nv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await kv(this,async function(e,t){return dv(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:I}=t;Zy(v&&I,e,"internal-error");const E=Av.fromJSON(this.name,I);Zy("string"===typeof v,e,"internal-error"),Cv(u,e.name),Cv(d,e.name),Zy("boolean"===typeof w,e,"internal-error"),Zy("boolean"===typeof b,e,"internal-error"),Cv(h,e.name),Cv(f,e.name),Cv(p,e.name),Cv(m,e.name),Cv(g,e.name),Cv(y,e.name);const S=new Dv({uid:v,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Av;r.updateFromServerResponse(t);const i=new Dv({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Nv(i),i}}const Pv=new Map;function Rv(e){tv(e instanceof Function,"Expected a class definition");let t=Pv.get(e);return t?(tv(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Pv.set(e,t),t)}class Ov{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ov.type="NONE";const Lv=Ov;function Mv(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class jv{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Mv(this.userKey,r.apiKey,i),this.fullPersistenceKey=Mv("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dv._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new jv(Rv(Lv),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Rv(Lv);const s=Mv(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Dv._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new jv(i,e,n)):new jv(i,e,n)}}function Fv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Vv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Gv(t))return"Blackberry";if(Wv(t))return"Webos";if(Uv(t))return"Safari";if((t.includes("chrome/")||Bv(t))&&!t.includes("edge/"))return"Chrome";if(qv(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Vv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/firefox\//i.test(e)}function Uv(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:w()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/crios\//i.test(e)}function zv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/iemobile/i.test(e)}function qv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/android/i.test(e)}function Gv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/blackberry/i.test(e)}function Wv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/webos/i.test(e)}function Kv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Hv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return Kv(e)||qv(e)||Wv(e)||Gv(e)||/windows phone/i.test(e)||zv(e)}function Qv(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Fv(w());break;case"Worker":t="".concat(Fv(w()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ae,"/").concat(r)}class Yv{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Jv{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Xv{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zv(this),this.idTokenSubscription=new Zv(this),this.beforeStateQueue=new Yv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rv(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await jv.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Zy(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nv(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?F(e):null;return t&&Zy(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Zy(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Rv(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return dv(e,"GET","/v2/passwordPolicy",uv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Jv(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new T("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return dv(e,"POST","/v2/accounts:revokeToken",uv(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rv(e)||this._popupRedirectResolver;Zy(t,this,"argument-error"),this.redirectPersistenceManager=await jv.create(this,[Rv(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Zy(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Zy(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ky.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ky.warn("Auth (".concat(Ae,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function $v(e){return F(e)}class Zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=L((e=>this.observer=e))}get next(){return Zy(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ew={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tw(e){return ew.loadJS(e)}function nw(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class rw{constructor(e){this.type="recaptcha-enterprise",this.auth=$v(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;wv(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{_v(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new bv(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&wv(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ew.recaptchaEnterpriseScript;0!==t.length&&(t+=i),tw(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function iw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new rw(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function sw(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await iw(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await iw(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function aw(e,t,n){const r=$v(e);Zy(r._canInitEmulator,r,"emulator-config-failed"),Zy(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ow(t),{host:a,port:o}=function(e){const t=ow(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:lw(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:lw(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ow(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function lw(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class cw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ev("not implemented")}_getIdTokenResponse(e){return ev("not implemented")}_linkToIdToken(e,t){return ev("not implemented")}_getReauthenticationResolver(e){return ev("not implemented")}}async function uw(e,t){return dv(e,"POST","/v1/accounts:resetPassword",uv(e,t))}async function dw(e,t){return dv(e,"POST","/v1/accounts:signUp",t)}async function hw(e,t){return fv(e,"POST","/v1/accounts:signInWithPassword",uv(e,t))}async function fw(e,t){return dv(e,"POST","/v1/accounts:sendOobCode",uv(e,t))}async function pw(e,t){return fw(e,t)}async function mw(e,t){return fw(e,t)}class gw extends cw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new gw(e,t,"password")}static _fromEmailAndCode(e,t){return new gw(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return sw(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",hw);case"emailLink":return async function(e,t){return fv(e,"POST","/v1/accounts:signInWithEmailLink",uv(e,t))}(e,{email:this._email,oobCode:this._password});default:Qy(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return sw(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dw);case"emailLink":return async function(e,t){return fv(e,"POST","/v1/accounts:signInWithEmailLink",uv(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Qy(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yw(e,t){return fv(e,"POST","/v1/accounts:signInWithIdp",uv(e,t))}class vw extends cw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new vw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qy("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Oy(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new vw(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return yw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,yw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yw(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=P(t)}return e}}const ww={USER_NOT_FOUND:"user-not-found"};class bw extends cw{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new bw({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new bw({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return fv(e,"POST","/v1/accounts:signInWithPhoneNumber",uv(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await fv(e,"POST","/v1/accounts:signInWithPhoneNumber",uv(e,t));if(n.temporaryProof)throw yv(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return fv(e,"POST","/v1/accounts:signInWithPhoneNumber",uv(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ww)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new bw({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class _w{constructor(e){var t,n,r,i,s,a;const o=R(O(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Zy(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=R(O(e)).link,n=t?R(O(t)).deep_link_id:null,r=R(O(e)).deep_link_id;return(r?R(O(r)).link:null)||r||n||t||e}(e);try{return new _w(t)}catch(n){return null}}}class Iw{constructor(){this.providerId=Iw.PROVIDER_ID}static credential(e,t){return gw._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=_w.parseLink(t);return Zy(n,"argument-error"),gw._fromEmailAndCode(e,n.code,n.tenantId)}}Iw.PROVIDER_ID="password",Iw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Iw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ew{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Sw extends Ew{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class kw extends Sw{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Zy("providerId"in t&&"signInMethod"in t,"argument-error"),vw._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Zy(e.idToken||e.accessToken,"argument-error"),vw._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return kw.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return kw.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=t;if(!r&&!i&&!n&&!s)return null;if(!o)return null;try{return new kw(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch(l){return null}}}class xw extends Sw{constructor(){super("facebook.com")}static credential(e){return vw._fromParams({providerId:xw.PROVIDER_ID,signInMethod:xw.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xw.credentialFromTaggedObject(e)}static credentialFromError(e){return xw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xw.credential(t.oauthAccessToken)}catch(n){return null}}}xw.FACEBOOK_SIGN_IN_METHOD="facebook.com",xw.PROVIDER_ID="facebook.com";class Tw extends Sw{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return vw._fromParams({providerId:Tw.PROVIDER_ID,signInMethod:Tw.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Tw.credentialFromTaggedObject(e)}static credentialFromError(e){return Tw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Tw.credential(n,r)}catch(i){return null}}}Tw.GOOGLE_SIGN_IN_METHOD="google.com",Tw.PROVIDER_ID="google.com";class Nw extends Sw{constructor(){super("github.com")}static credential(e){return vw._fromParams({providerId:Nw.PROVIDER_ID,signInMethod:Nw.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nw.credentialFromTaggedObject(e)}static credentialFromError(e){return Nw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Nw.credential(t.oauthAccessToken)}catch(n){return null}}}Nw.GITHUB_SIGN_IN_METHOD="github.com",Nw.PROVIDER_ID="github.com";class Aw extends cw{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return yw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,yw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yw(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Aw(n,i):null}static _create(e,t){return new Aw(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Cw extends Ew{constructor(e){Zy(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Cw.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Cw.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Aw.fromJSON(e);return Zy(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Aw._create(r,n)}catch(i){return null}}}class Dw extends Sw{constructor(){super("twitter.com")}static credential(e,t){return vw._fromParams({providerId:Dw.PROVIDER_ID,signInMethod:Dw.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Dw.credentialFromTaggedObject(e)}static credentialFromError(e){return Dw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Dw.credential(n,r)}catch(i){return null}}}async function Pw(e,t){return fv(e,"POST","/v1/accounts:signUp",uv(e,t))}Dw.TWITTER_SIGN_IN_METHOD="twitter.com",Dw.PROVIDER_ID="twitter.com";class Rw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Dv._fromIdTokenResponse(e,n,r),s=Ow(n);return new Rw({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ow(n);return new Rw({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ow(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Lw extends x{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Lw.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Lw(e,t,n,r)}}function Mw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Lw._fromErrorAndOperation(e,n,t,r);throw n}))}function jw(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Fw(e,t){const n=F(e);await Uw(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return dv(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=jw(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Vw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await kv(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Rw._forOperation(e,"link",r)}async function Uw(e,t,n){await Nv(t);const r=!1===e?"provider-already-linked":"no-such-provider";Zy(jw(t.providerData).has(n)===e,t.auth,r)}async function Bw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await kv(e,Mw(r,i,t,e),n);Zy(s.idToken,r,"internal-error");const a=Sv(s.idToken);Zy(a,r,"internal-error");const{sub:o}=a;return Zy(e.uid===o,r,"user-mismatch"),Rw._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Qy(r,"user-mismatch"),s}}async function zw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Mw(e,r,t),s=await Rw._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function qw(e,t){return zw($v(e),t)}async function Gw(e,t){const n=F(e);return await Uw(!1,n,t.providerId),Vw(n,t)}async function Ww(e,t){return Bw(F(e),t)}async function Kw(e,t){const n=$v(e),r=await async function(e,t){return fv(e,"POST","/v1/accounts:signInWithCustomToken",uv(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Rw._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Hw{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Qw._fromServerResponse(e,t):"totpInfo"in t?Yw._fromServerResponse(e,t):Qy(e,"internal-error")}}class Qw extends Hw{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Qw(t)}}class Yw extends Hw{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Yw(t)}}function Jw(e,t,n){var r;Zy((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Zy("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Zy(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Zy(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Xw(e){const t=$v(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function $w(e,t){await async function(e,t){return dv(e,"POST","/v1/accounts:update",uv(e,t))}(F(e),{oobCode:t})}async function Zw(e,t){const n=F(e),r=await uw(n,{oobCode:t}),i=r.requestType;switch(Zy(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Zy(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Zy(r.mfaInfo,n,"internal-error");default:Zy(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Hw._fromServerResponse($v(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function eb(e,t){const n={identifier:t,continueUri:rv()?nv():"http://localhost"},{signinMethods:r}=await async function(e,t){return dv(e,"POST","/v1/accounts:createAuthUri",uv(e,t))}(F(e),n);return r||[]}async function tb(e,t){const n=F(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Jw(n.auth,r,t);const{email:i}=await async function(e,t){return fw(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function nb(e,t,n){const r=F(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Jw(r.auth,i,n);const{email:s}=await async function(e,t){return fw(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function rb(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=F(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await kv(i,async function(e,t){return dv(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function ib(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await kv(e,async function(e,t){return dv(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class sb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class ab extends sb{constructor(e,t,n,r){super(e,t,n),this.username=r}}class ob extends sb{constructor(e,t){super(e,"facebook.com",t)}}class lb extends ab{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class cb extends sb{constructor(e,t){super(e,"google.com",t)}}class ub extends ab{constructor(e,t,n){super(e,"twitter.com",t,n)}}function db(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Sv(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new sb(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new ob(s,i);case"github.com":return new lb(s,i);case"google.com":return new cb(s,i);case"twitter.com":return new ub(s,i,e.screenName||null);case"custom":case"anonymous":return new sb(s,null);default:return new sb(s,r,i)}}(n)}class hb{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new hb("enroll",e,t)}static _fromMfaPendingCredential(e){return new hb("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return hb._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return hb._fromIdtoken(e.multiFactorSession.idToken)}return null}}class fb{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=$v(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Hw._fromServerResponse(n,e)));Zy(r.mfaPendingCredential,n,"internal-error");const s=hb._fromMfaPendingCredential(r.mfaPendingCredential);return new fb(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Rw._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Zy(t.user,n,"internal-error"),Rw._forOperation(t.user,t.operationType,a);default:Qy(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class pb{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Hw._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new pb(e)}async getSession(){return hb._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await kv(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await kv(this.user,function(e,t){return dv(e,"POST","/v2/accounts/mfaEnrollment:withdraw",uv(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const mb=new WeakMap;const gb="__sak";class yb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gb,"1"),this.storage.removeItem(gb),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class vb extends yb{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=w();return Uv(e)||Kv(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Hv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);E()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vb.type="LOCAL";const wb=vb;class bb extends yb{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bb.type="SESSION";const _b=bb;class Ib{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ib(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Eb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ib.receivers=[];class Sb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=Eb("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function kb(){return window}function xb(){return"undefined"!==typeof kb().WorkerGlobalScope&&"function"===typeof kb().importScripts}const Tb="firebaseLocalStorageDb",Nb="firebaseLocalStorage",Ab="fbase_key";class Cb{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Db(e,t){return e.transaction([Nb],t?"readwrite":"readonly").objectStore(Nb)}function Pb(){const e=indexedDB.open(Tb,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Nb,{keyPath:Ab})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Nb)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Tb);return new Cb(e).toPromise()}(),t(await Pb()))}))}))}async function Rb(e,t,n){const r=Db(e,!0).put({[Ab]:t,value:n});return new Cb(r).toPromise()}function Ob(e,t){const n=Db(e,!0).delete(t);return new Cb(n).toPromise()}class Lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Pb()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ib._getInstance(xb()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Sb(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pb();return await Rb(e,gb,"1"),await Ob(e,gb),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Rb(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Db(e,!1).get(t),r=await new Cb(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ob(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Db(e,!1).getAll();return new Cb(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Lb.type="LOCAL";const Mb=Lb;const jb=1e12;class Fb{constructor(e){this.auth=e,this.counter=jb,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Vb(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||jb;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||jb;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||jb;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Vb{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Zy(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ub=nw("rcb"),Bb=new sv(3e4,6e4);class zb{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=kb().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Zy(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&vv(kb().grecaptcha)?Promise.resolve(kb().grecaptcha):new Promise(((n,r)=>{const i=kb().setTimeout((()=>{r(Yy(e,"network-request-failed"))}),Bb.get());kb()[Ub]=()=>{kb().clearTimeout(i),delete kb()[Ub];const s=kb().grecaptcha;if(!s||!vv(s))return void r(Yy(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};tw("".concat(ew.recaptchaV2Script,"?").concat(P({onload:Ub,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Yy(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=kb().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qb{async load(e){return new Fb(e)}clearedOneInstance(){}}const Gb="recaptcha",Wb={theme:"light",type:"image"};class Kb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Wb);this.parameters=n,this.type=Gb,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$v(e),this.isInvisible="invisible"===this.parameters.size,Zy("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Zy(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qb:new zb,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Zy(!this.parameters.sitekey,this.auth,"argument-error"),Zy(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Zy("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=kb()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Zy(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Zy(rv()&&!xb(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await dv(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Zy(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Zy(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=bw._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Qb(e,t,n){var r;const i=await n.verify();try{let s;if(Zy("string"===typeof i,e,"argument-error"),Zy(n.type===Gb,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Zy("enroll"===t.type,e,"internal-error");const n=await function(e,t){return dv(e,"POST","/v2/accounts/mfaEnrollment:start",uv(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Zy("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Zy(n,e,"missing-multi-factor-info");const a=await function(e,t){return dv(e,"POST","/v2/accounts/mfaSignIn:start",uv(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return dv(e,"POST","/v1/accounts:sendVerificationCode",uv(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Yb{constructor(e){this.providerId=Yb.PROVIDER_ID,this.auth=$v(e)}verifyPhoneNumber(e,t){return Qb(this.auth,e,F(t))}static credential(e,t){return bw._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Yb.credentialFromTaggedObject(t)}static credentialFromError(e){return Yb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?bw._fromTokenResponse(n,r):null}}function Jb(e,t){return t?Rv(t):(Zy(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Yb.PROVIDER_ID="phone",Yb.PHONE_SIGN_IN_METHOD="phone";class Xb extends cw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yw(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $b(e){return zw(e.auth,new Xb(e),e.bypassAuthState)}function Zb(e){const{auth:t,user:n}=e;return Zy(n,t,"internal-error"),Bw(n,new Xb(e),e.bypassAuthState)}async function e_(e){const{auth:t,user:n}=e;return Zy(n,t,"internal-error"),Vw(n,new Xb(e),e.bypassAuthState)}class t_{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $b;case"linkViaPopup":case"linkViaRedirect":return e_;case"reauthViaPopup":case"reauthViaRedirect":return Zb;default:Qy(this.auth,"internal-error")}}resolve(e){tv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const n_=new sv(2e3,1e4);class r_ extends t_{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,r_.currentPopupAction&&r_.currentPopupAction.cancel(),r_.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Zy(e,this.auth,"internal-error"),e}async onExecution(){tv(1===this.filter.length,"Popup operations only handle one event");const e=Eb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Yy(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Yy(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,r_.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Yy(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,n_.get())};e()}}r_.currentPopupAction=null;const i_="pendingRedirect",s_=new Map;class a_ extends t_{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=s_.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=u_(t),r=c_(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}s_.set(this.auth._key(),e)}return this.bypassAuthState||s_.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function o_(e,t){return c_(e)._set(u_(t),"true")}function l_(e,t){s_.set(e._key(),t)}function c_(e){return Rv(e._redirectPersistence)}function u_(e){return Mv(i_,e.config.apiKey,e.name)}function d_(e,t,n){return async function(e,t,n){const r=$v(e);Xy(e,t,Ew),await r._initializationPromise;const i=Jb(r,n);return await o_(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function h_(e,t,n){return async function(e,t,n){const r=F(e);Xy(r.auth,t,Ew),await r.auth._initializationPromise;const i=Jb(r.auth,n);await o_(i,r.auth);const s=await m_(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function f_(e,t,n){return async function(e,t,n){const r=F(e);Xy(r.auth,t,Ew),await r.auth._initializationPromise;const i=Jb(r.auth,n);await Uw(!1,r,t.providerId),await o_(i,r.auth);const s=await m_(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function p_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=$v(e),i=Jb(r,t),s=new a_(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function m_(e){const t=Eb("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class g_{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v_(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!v_(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Yy(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(y_(e))}saveEventToCache(e){this.cachedEventUids.add(y_(e)),this.lastProcessedEventTime=Date.now()}}function y_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function v_(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function w_(e){return dv(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const b_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,__=/^https?/;function I_(e){const t=nv(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!__.test(n))return!1;if(b_.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const E_=new sv(3e4,6e4);function S_(){const e=kb().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function k_(e){return new Promise(((t,n)=>{var r,i,s;function a(){S_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{S_(),n(Yy(e,"network-request-failed"))},timeout:E_.get()})}if(null===(i=null===(r=kb().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=kb().gapi)||void 0===s?void 0:s.load)){const t=nw("iframefcb");return kb()[t]=()=>{gapi.load?a():n(Yy(e,"network-request-failed"))},tw("".concat(ew.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw x_=null,e}))}let x_=null;const T_=new sv(5e3,15e3),N_="__/auth/iframe",A_="emulator/auth/iframe",C_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P_(e){const t=e.config;Zy(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?av(t,A_):"https://".concat(e.config.authDomain,"/").concat(N_),r={apiKey:t.apiKey,appName:e.name,v:Ae},i=D_.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(P(r).slice(1))}async function R_(e){const t=await function(e){return x_=x_||k_(e),x_}(e),n=kb().gapi;return Zy(n,e,"internal-error"),t.open({where:document.body,url:P_(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C_,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Yy(e,"network-request-failed"),s=kb().setTimeout((()=>{r(i)}),T_.get());function a(){kb().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const O_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class L_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function M_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},O_),{width:r.toString(),height:i.toString(),top:s,left:a}),c=w().toLowerCase();n&&(o=Bv(c)?"_blank":n),Vv(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Kv(arguments.length>0&&void 0!==arguments[0]?arguments[0]:w())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new L_(null);const d=window.open(t||"",o,u);Zy(d,e,"popup-blocked");try{d.focus()}catch(h){}return new L_(d)}const j_="__/auth/handler",F_="emulator/auth/handler",V_=encodeURIComponent("fac");async function U_(e,t,n,r,i,s){Zy(e.config.authDomain,e,"auth-domain-config-required"),Zy(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ae,eventId:i};if(t instanceof Ew){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Sw){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(V_,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(j_);return av(t,F_)}(e),"?").concat(P(o).slice(1)).concat(c)}const B_="webStorageSupport";const z_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_b,this._completeRedirectFn=p_,this._overrideRedirectResult=l_}async _openPopup(e,t,n,r){var i;tv(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return M_(e,await U_(e,t,n,nv(),r),Eb())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){kb().location.href=e}(await U_(e,t,n,nv(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(tv(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await R_(e),n=new g_(e);return t.register("authEvent",(t=>{Zy(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(B_,{type:B_},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[B_];void 0!==i&&t(!!i),Qy(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await w_(e);for(const r of t)try{if(I_(r))return}catch(n){}Qy(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Hv()||Uv()||Kv()}};class q_{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ev("unexpected MultiFactorSessionType")}}}class G_ extends q_{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new G_(e)}_finalizeEnroll(e,t,n){return function(e,t){return dv(e,"POST","/v2/accounts/mfaEnrollment:finalize",uv(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return dv(e,"POST","/v2/accounts/mfaSignIn:finalize",uv(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class W_{constructor(){}static assertion(e){return G_._fromCredential(e)}}W_.FACTOR_ID="phone";var K_="@firebase/auth",H_="1.6.0";class Q_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Zy(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=g())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Y_;function J_(){return window}!function(e){ew=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Yy("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Y_="Browser",Ee(new V("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Zy(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Y_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qv(Y_)},c=new Xv(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rv);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ee(new V("auth-internal",(e=>(e=>new Q_(e))($v(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Oe(K_,H_,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Y_)),Oe(K_,H_,"esm2017");async function X_(e,t,n){var r;const{BuildInfo:i}=J_();tv(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(tv(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return Kv()?a.ibi=i.packageName:qv()?a.apn=i.packageName:Qy(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,U_(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function $_(e){const{cordova:t}=J_();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Z_=20;class eI extends g_{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function tI(e){const t=await iI()._get(sI(e));return t&&await iI()._remove(sI(e)),t}function nI(e,t){var n,r;const i=function(e){const t=aI(e),n=t.link?decodeURIComponent(t.link):void 0,r=aI(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return aI(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=aI(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],o=a?Yy(a):null;return o?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function rI(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Z_;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function iI(){return Rv(wb)}function sI(e){return Mv("authEvent",e.config.apiKey,e.name)}function aI(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return R(n.join("?"))}const oI=class{constructor(){this._redirectPersistence=_b,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=p_,this._overrideRedirectResult=l_}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new eI(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Qy(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,a,o,l,c,u;const d=J_();Zy("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Zy("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Zy("function"===typeof(null===(s=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zy("function"===typeof(null===(l=null===(o=null===(a=null===d||void 0===d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Zy("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),s_.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:rI(),postBody:null,tenantId:e.tenantId,error:Yy(e,"no-auth-event")}}(e,n,r);await function(e,t){return iI()._set(sI(e),t)}(e,s);const a=await X_(e,s,t);return async function(e,t,n){const{cordova:r}=J_();let i=()=>{};try{await new Promise(((s,a)=>{let o=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){o||(o=window.setTimeout((()=>{a(Yy(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),qv()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}}))}finally{i()}}(e,i,await $_(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=J_(),n={};Kv()?n.iosBundleId=t.packageName:qv()?n.androidPackageName=t.packageName:Qy(e,"operation-not-supported-in-this-environment"),await w_(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=J_(),s=setTimeout((async()=>{await tI(e),t.onEvent(lI())}),500),a=async n=>{clearTimeout(s);const r=await tI(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=nI(r,n.url)),t.onEvent(i||lI())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const o=r,l="".concat(i.packageName.toLowerCase(),"://");J_().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"===typeof o)try{o(e)}catch(t){console.error(t)}}}};function lI(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Yy("no-auth-event")}}function cI(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function uI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return!("file:"!==cI()&&"ionic:"!==cI()&&"capacitor:"!==cI()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function dI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return E()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w();return/Edge\/\d+/.test(e)}(e)}function hI(){try{const e=self.localStorage,t=Eb();if(e)return e.setItem(t,"1"),e.removeItem(t),!dI()||k()}catch(e){return fI()&&k()}return!1}function fI(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function pI(){return("http:"===cI()||"https:"===cI()||_()||uI())&&!(I()||b())&&hI()&&!fI()}function mI(){return uI()&&"undefined"!==typeof document}const gI={LOCAL:"local",NONE:"none",SESSION:"session"},yI=Zy,vI="persistence";async function wI(e){await e._initializationPromise;const t=bI(),n=Mv(vI,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function bI(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const _I=Zy;class II{constructor(){this.browserResolver=Rv(z_),this.cordovaResolver=Rv(oI),this.underlyingResolver=null,this._redirectPersistence=_b,this._completeRedirectFn=p_,this._overrideRedirectResult=l_}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return mI()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _I(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!mI()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function EI(e){return e.unwrap()}function SI(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new NI(e,function(e,t){var n;const r=F(e),i=t;return Zy(t.customData.operationType,r,"argument-error"),Zy(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),fb._fromError(r,i)}(e,t))}else if(r){const e=kI(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function kI(e){const{_tokenResponse:t}=e instanceof x?e.customData:e;if(!t)return null;if(!(e instanceof x)&&"temporaryProof"in t&&"phoneNumber"in t)return Yb.credentialFromResult(e);const n=t.providerId;if(!n||n===Ly.PASSWORD)return null;let r;switch(n){case Ly.GOOGLE:r=Tw;break;case Ly.FACEBOOK:r=xw;break;case Ly.GITHUB:r=Nw;break;case Ly.TWITTER:r=Dw;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:a,nonce:o}=t;return i||s||e||a?a?n.startsWith("saml.")?Aw._create(n,a):vw._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new kw(n).credential({idToken:e,accessToken:i,rawNonce:o}):null}return e instanceof x?r.credentialFromError(e):r.credentialFromResult(e)}function xI(e,t){return t.catch((t=>{throw t instanceof x&&SI(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,kI(r)),additionalUserInfo:db(e),user:AI.getOrCreate(n)};var r}))}async function TI(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>xI(e,n.confirm(t))}}class NI{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return xI(EI(this.auth),this.resolver.resolveSignIn(e))}}class AI{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=F(e);return mb.has(t)||mb.set(t,pb._fromUser(t)),mb.get(t)}(e)}static getOrCreate(e){return AI.USER_MAP.has(e)||AI.USER_MAP.set(e,new AI(e)),AI.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return xI(this.auth,Gw(this._delegate,e))}async linkWithPhoneNumber(e,t){return TI(this.auth,async function(e,t,n){const r=F(e);await Uw(!1,r,"phone");const i=await Qb(r.auth,t,F(n));return new Hb(i,(e=>Gw(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return xI(this.auth,async function(e,t,n){const r=F(e);Xy(r.auth,t,Ew);const i=Jb(r.auth,n);return new r_(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,II))}async linkWithRedirect(e){return await wI($v(this.auth)),f_(this._delegate,e,II)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return xI(this.auth,Ww(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return TI(this.auth,async function(e,t,n){const r=F(e),i=await Qb(r.auth,t,F(n));return new Hb(i,(e=>Ww(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return xI(this.auth,async function(e,t,n){const r=F(e);Xy(r.auth,t,Ew);const i=Jb(r.auth,n);return new r_(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,II))}async reauthenticateWithRedirect(e){return await wI($v(this.auth)),h_(this._delegate,e,II)}sendEmailVerification(e){return tb(this._delegate,e)}async unlink(e){return await Fw(this._delegate,e),this}updateEmail(e){return function(e,t){return ib(F(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return ib(F(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Vw(F(e),t)}(this._delegate,e)}updateProfile(e){return rb(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return nb(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}AI.USER_MAP=new WeakMap;const CI=Zy;class DI{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;CI(n,"invalid-api-key",{appName:e.name}),CI(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?II:void 0;this._delegate=t.initialize({options:{persistence:RI(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(qy),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?AI.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){aw(this._delegate,e,t)}applyActionCode(e){return $w(this._delegate,e)}checkActionCode(e){return Zw(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await uw(F(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Xw(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return xI(this._delegate,async function(e,t,n){const r=$v(e),i=sw(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pw),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Xw(e),t})),a=await Rw._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return eb(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=_w.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){CI(pI(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await $v(e)._initializationPromise,p_(e,t,!1)}(this._delegate,II);return e?xI(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){$v(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=PI(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=PI(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=$v(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Zy(t.handleCodeInApp,r,"argument-error"),t&&Jw(r,e,t)}(i,n),await sw(r,i,"getOobCode",mw)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=$v(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Jw(r,i,n),await sw(r,i,"getOobCode",pw)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){yI(Object.values(gI).includes(t),e,"invalid-persistence-type"),I()?yI(t!==gI.SESSION,e,"unsupported-persistence-type"):b()?yI(t===gI.NONE,e,"unsupported-persistence-type"):fI()?yI(t===gI.NONE||t===gI.LOCAL&&k(),e,"unsupported-persistence-type"):yI(t===gI.NONE||hI(),e,"unsupported-persistence-type")}(this._delegate,e),e){case gI.SESSION:t=_b;break;case gI.LOCAL:t=await Rv(Mb)._isAvailable()?Mb:wb;break;case gI.NONE:t=Lv;break;default:return Qy("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return xI(this._delegate,async function(e){var t;const n=$v(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Rw({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Pw(n,{returnSecureToken:!0}),i=await Rw._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return xI(this._delegate,qw(this._delegate,e))}signInWithCustomToken(e){return xI(this._delegate,Kw(this._delegate,e))}signInWithEmailAndPassword(e,t){return xI(this._delegate,function(e,t,n){return qw(F(e),Iw.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Xw(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return xI(this._delegate,async function(e,t,n){const r=F(e),i=Iw.credentialWithLink(t,n||nv());return Zy(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),qw(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return TI(this._delegate,async function(e,t,n){const r=$v(e),i=await Qb(r,t,F(n));return new Hb(i,(e=>qw(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return CI(pI(),this._delegate,"operation-not-supported-in-this-environment"),xI(this._delegate,async function(e,t,n){const r=$v(e);Xy(e,t,Ew);const i=Jb(r,n);return new r_(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,II))}async signInWithRedirect(e){return CI(pI(),this._delegate,"operation-not-supported-in-this-environment"),await wI(this._delegate),d_(this._delegate,e,II)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Zw(F(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function PI(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&AI.getOrCreate(e)),error:t,complete:n}}function RI(e,t){const n=function(e,t){const n=bI();if(!n)return[];const r=Mv(vI,e,t);switch(n.getItem(r)){case gI.NONE:return[Lv];case gI.LOCAL:return[Mb,_b];case gI.SESSION:return[_b];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Mb)||n.push(Mb),"undefined"!==typeof window)for(const r of[wb,_b])n.includes(r)||n.push(r);return n.includes(Lv)||n.push(Lv),n}DI.Persistence=gI;class OI{constructor(){this.providerId="phone",this._delegate=new Yb(EI(Ze.auth()))}static credential(e,t){return Yb.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}OI.PHONE_SIGN_IN_METHOD=Yb.PHONE_SIGN_IN_METHOD,OI.PROVIDER_ID=Yb.PROVIDER_ID;const LI=Zy;class MI{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ze.app();var r;LI(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Kb(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new V("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new DI(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:My,PASSWORD_RESET:jy,RECOVER_EMAIL:Fy,REVERT_SECOND_FACTOR_ADDITION:Vy,VERIFY_AND_CHANGE_EMAIL:Uy,VERIFY_EMAIL:By}},EmailAuthProvider:Iw,FacebookAuthProvider:xw,GithubAuthProvider:Nw,GoogleAuthProvider:Tw,OAuthProvider:kw,SAMLAuthProvider:Cw,PhoneAuthProvider:OI,PhoneMultiFactorGenerator:W_,RecaptchaVerifier:MI,TwitterAuthProvider:Dw,Auth:DI,AuthCredential:cw,Error:x}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.5.2")}(Ze),Ze.initializeApp({apiKey:"AIzaSyD78qgxIvDt0gcdstDMLVXYVq29WGj8TMI",authDomain:"aashiyanabynaman-6821e.firebaseapp.com",projectId:"aashiyanabynaman-6821e",storageBucket:"aashiyanabynaman-6821e.appspot.com",messagingSenderId:"523682057083",appId:"1:523682057083:web:4c250fc452603ebcabcbde",measurementId:"G-C2JYFB3E5J"});Ze.auth();const jI=Ze.firestore();var FI=n(496);const VI=function(){const[e,n]=(0,t.useState)({name:"",email:"",phone:"",address:""}),r=t=>{n({...e,[t.target.name]:t.target.value})};return(0,FI.jsxs)(FI.Fragment,{children:[(0,FI.jsx)("div",{id:"overlayAdoptDiv",className:"overlayDiv",children:(0,FI.jsxs)("div",{className:"paymentSec overlayAdopt",children:[(0,FI.jsxs)("div",{className:"head-div",children:[(0,FI.jsx)("p",{children:"Fill the form to adopt Safari :-"}),(0,FI.jsx)("img",{className:"cross",onClick:()=>{document.getElementById("overlayAdoptDiv").style.display="none",n({name:"",email:"",phone:"",address:""})},src:l})]}),(0,FI.jsxs)("form",{className:"payment-sec",onSubmit:t=>{t.preventDefault();const n=jI.collection("adoptions").doc().id;jI.collection("adoptions").doc(n).set({id:n,name:e.name,email:e.email,phone:e.phone,address:e.address,animalName:"Safari"})},children:[(0,FI.jsx)("input",{className:"pay-inp af",type:"text",name:"name",placeholder:"Name",value:e.name,onChange:r,required:!0}),(0,FI.jsx)("input",{className:"pay-inp af",type:"email",name:"email",placeholder:"Email",value:e.email,onChange:r,required:!0}),(0,FI.jsx)("input",{className:"pay-inp af",type:"tel",name:"phone",placeholder:"Phone",value:e.phone,onChange:r,required:!0}),(0,FI.jsx)("input",{className:"pay-inp af",type:"text",name:"address",placeholder:"Full address",value:e.address,onChange:r,required:!0}),(0,FI.jsx)("input",{type:"submit",className:"pay-button",value:"Submit"})]})]})}),(0,FI.jsxs)("div",{className:"Adopt",children:[(0,FI.jsxs)("div",{className:" adopt-head",children:[(0,FI.jsx)(a.c,{}),(0,FI.jsx)("div",{className:"adopt-head-sub",children:(0,FI.jsxs)("div",{className:"adopt-head-box",children:[(0,FI.jsx)("p",{className:"heading wt",children:"Sponsor or Adopt"}),(0,FI.jsx)("p",{className:"tagline",children:"Give them a happy home"}),(0,FI.jsx)("p",{className:"sub-tag",children:"Sponsor a precious soul, a furry friend in need, and be the light in their journey towards a brighter tomorrow. Or open your heart and home to adoption, where unconditional love awaits, ready to fill your days with joy, laughter, and endless tail wags."})]})})]}),(0,FI.jsx)("div",{className:"adopt-lower",children:(0,FI.jsxs)("div",{className:"adoptions",children:[(0,FI.jsxs)("div",{className:"adopt-new",children:[(0,FI.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,FI.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,FI.jsx)("img",{className:"adopt-new-img",src:o}),(0,FI.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,FI.jsxs)("div",{className:"adopt-new-buttons",children:[(0,FI.jsx)("button",{onClick:()=>{document.getElementById("overlayAdoptDiv").style.display="flex"},className:"adopt-new-button adn",children:"Adopt"}),(0,FI.jsx)("button",{className:"adopt-new-button spn",children:"Sponsor"})]})]})]}),(0,FI.jsxs)("div",{className:"adopt-new",children:[(0,FI.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,FI.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,FI.jsx)("img",{className:"adopt-new-img",src:o}),(0,FI.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,FI.jsxs)("div",{className:"adopt-new-buttons",children:[(0,FI.jsx)("button",{className:"adopt-new-button adn",children:"Adopt"}),(0,FI.jsx)("button",{className:"adopt-new-button spn",children:"Sponsor"})]})]})]}),(0,FI.jsxs)("div",{className:"adopt-new",children:[(0,FI.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,FI.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,FI.jsx)("img",{className:"adopt-new-img",src:o}),(0,FI.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,FI.jsxs)("div",{className:"adopt-new-buttons",children:[(0,FI.jsx)("button",{className:"adopt-new-button adn",children:"Adopt"}),(0,FI.jsx)("button",{className:"adopt-new-button spn",children:"Sponsor"})]})]})]}),(0,FI.jsxs)("div",{className:"adopt-new",children:[(0,FI.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,FI.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,FI.jsx)("img",{className:"adopt-new-img",src:o}),(0,FI.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,FI.jsxs)("div",{className:"adopt-new-buttons",children:[(0,FI.jsx)("button",{className:"adopt-new-button adn",children:"Adopt"}),(0,FI.jsx)("button",{className:"adopt-new-button spn",children:"Sponsor"})]})]})]}),(0,FI.jsxs)("div",{className:"adopt-new",children:[(0,FI.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,FI.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,FI.jsx)("img",{className:"adopt-new-img",src:o}),(0,FI.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,FI.jsxs)("div",{className:"adopt-new-buttons",children:[(0,FI.jsx)("button",{className:"adopt-new-button adn",children:"Adopt"}),(0,FI.jsx)("button",{className:"adopt-new-button spn",children:"Sponsor"})]})]})]}),(0,FI.jsxs)("div",{className:"adopt-new",children:[(0,FI.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,FI.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,FI.jsx)("img",{className:"adopt-new-img",src:o}),(0,FI.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,FI.jsxs)("div",{className:"adopt-new-buttons",children:[(0,FI.jsx)("button",{className:"adopt-new-button adn",children:"Adopt"}),(0,FI.jsx)("button",{className:"adopt-new-button spn",children:"Sponsor"})]})]})]}),(0,FI.jsxs)("div",{className:"adopt-new",children:[(0,FI.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,FI.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,FI.jsx)("img",{className:"adopt-new-img",src:o}),(0,FI.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,FI.jsxs)("div",{className:"adopt-new-buttons",children:[(0,FI.jsx)("button",{className:"adopt-new-button adn",children:"Adopt"}),(0,FI.jsx)("button",{className:"adopt-new-button spn",children:"Sponsor"})]})]})]}),(0,FI.jsxs)("div",{className:"adopt-new",children:[(0,FI.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,FI.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,FI.jsx)("img",{className:"adopt-new-img",src:o}),(0,FI.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,FI.jsxs)("div",{className:"adopt-new-buttons",children:[(0,FI.jsx)("button",{className:"adopt-new-button adn",children:"Adopt"}),(0,FI.jsx)("button",{className:"adopt-new-button spn",children:"Sponsor"})]})]})]}),(0,FI.jsxs)("div",{className:"adopt-new",children:[(0,FI.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,FI.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,FI.jsx)("img",{className:"adopt-new-img",src:o}),(0,FI.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,FI.jsxs)("div",{className:"adopt-new-buttons",children:[(0,FI.jsx)("button",{className:"adopt-new-button adn",children:"Adopt"}),(0,FI.jsx)("button",{className:"adopt-new-button spn",children:"Sponsor"})]})]})]})]})})]})]})};n(844);const UI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAdJSURBVHic7Z1brF1VFYa/AYRWqCVR7rVcgjUptiGQkEBiuCiExuiDD+ADt0AoAeWBS0IgSAjwiEAgWonVqM8m+qYloEURAiSEBItUuRU41Fog3EMPePrzMNeBw2k5Z4512XvtNceX9KUda86x9v+veVurc0IQBEEQBEEQBEEQBEEQBMPHRl2hpKXAKuAw4EBg/xFWvxN4yszebVqQpGOB1aR7GCfvk+5px5jz2DuSlkj6gaT7JG2VNKPxMi1pg6QDat7PWkmPjPcW9mBG0h8lHem9n85aAEkrgWuBi4CvdFVPAx4Czjaz/+deIOl44FHgoK6SasirwClmtj33gn3azkDSQZLuAZ4Hrqaf4gOcAax3XrOB/ooPsBL4meeCVlsASecAvwGOaLPcDnnczE7JCZR0NLCt23RaYTewIndM0EoLIMkk3Qb8ickRH2CNI/abnWXRLvsAJ+QG79e0Nkn7AhuBS5qWNQY07gQ6YnluYKMWQJIxueID/NMRu6WzLMZI0y7gViZXfIDf5Qaa2SvA5g5zGQu1DVAN+G5qMZdR81fgV85rfgy83UEuY6OWASQtJ432W59GjoBp0lTpe2Y247nQzJ4FvgU83EVi46DuIPA26o/23wH+DDwDTAEf1CynDv8jLZu+V7cAM3sGOE3SUaSZwbKWclsF3E7fHypJK5WWU728KOl8SaNc+58IJK2S9FqTteB5nJtbd50W4Dr8L3A2ANeY2Uc16hs0klaRBpfudfyRo/Ri502nG68bd959pXryp1p88mfJbgG8/c138a3tbzCzO511FIE+e/JXjDMPrwHWOWK3kd4GBvPoi/jgN8DpjtifmNm0s/zB0yfxwWEASV8iTVVyeAf4fa2MBkxD8Xe3nA7gawG+7ojfFCP+z9NQ/O3Aze1mlPAY4FBH7NPeRIZMQ/F3AGcBz7WaVIXHAJ4Vr/96ExkqLYj/7WoJuhM8BvAs/rzvTWSI9F186Pu68wQzCeJDGKATJkV8CAO0ziSJD2GAVpk08SEM0BqTKD6EAVphUsWHMEBjJll8CAM0YtLFhzBAbYYgPoQBajEU8SEM4GZI4kMYwMXQxIcwQDZDFB/CAFkMVXwIAyzKkMWHMMCC9Ex8zzcW2bugNd4gYqg0FP814Ewza/Mzrq1dxEYLsBd6KD5m9hLwj4zQv5vZy7nlhgHm0Ufx53AlC+9P8FYVk00YYA49Fx8z2wKcStrcYj4PAqea2b88ZcYYoKLv4s9iZluB7yhtxLm2+uunzWyqTnlhAFoZ7Z89CvHnYmavknYGbUTxXUDPpnojp2gDlC4+FGyAED9RpAFC/M8ozgAh/ucpahYg6XDgL/R8qjdKSmsBfknaU9/LIMWHggygdMbP92tcOljxoSADACfWuGbQ4kNZBvjYGd9L8SXtJ+kqSU9I+qD685ikH0nqbkwn6dwuNiocFZIOlfRxZv5T1WyhV0g6UNLfFsh7s5ynoRXTApjZTvLOB+jlk19xJ3DaAv9+BnBHJzVPegsAaZt7SU8tkPcrfXzy4dPT2HI26d6ltJ1/FsW0AADViaGnkw6KmDsmEPAH4OSePvkAJ5G3T9MSHAPeohaC4FMTrJd0I3Ay6Qd7snq92mc8ezQfnBtYnAFmMbM3SAdXTAqe1jo7tqguINiTMEDhhAEKJwxQOGGAwgkDFE4YoHDCAIUTBiicMEDhhAEKJwxQOGGAwgkDFE4YoHDCAIUTBiicMEDhhAEKJwxQOGGAwgkDFE4YoHDCAIUTBigcjwE+csR+2ZtIsCjZ/+ETmM4N9BjAc2DBEY7YIA/PxlbZB0Z4DLDTEbt28ZDAyRpH7Ou5gZYbKGkpqRXYNyP8XeAQM/N0G8EXIGkJSdScrnUGWGZmu3LKzm4BqgKfzwxfDpyXW3awKD8kf1z171zx3Uj6hWOXkJcq5wYNkLRU0suO3/3nnvK908D7HbHHAPc4yw/25F7gKEf8pq4SQdL+kt50uFGSru8soYEj6Qbnb/26pJxtZBoldbczKUm6T9EdZKPU7G+s8Tv/dBTJfU1pJyov2yRdGEb4YiQtkXSRfH3+LB9KOtJbZ/Y0cF6idwHX1LmWNEXcBGwBpvAtMA2RZaQNrNcA66i/inqHmbm727oGWA48C7gdF3TCFLDazNwPU62XQdVWaxeQFh2C8bIbuLSO+NDgbaCZbQZur3t90Bq3mNkDdS+u1QXMIslIhzBc1qScoDYbzezyJgU0+h7AzARcAfy6STlBLTbiPCd4bzT+IMTMZoD1wC2k/ijolhngZjO7vPrtG9GoC5iPpLOA31LvUKZgcaaAi81sb4dH16LVT8LM7EFgNWlf++yvUoJF2UU6B2B1m+JDyy3AXCStAK4FLga+2lU9A+cN0iEXd5nZ9i4q6MwAsyi9nFgHnAOcCXyDvI9KSmQG+A/pYMtNwP1df1TTuQHmU70LOA44nLQMWvq7gWnScvgO4AUzi64zCIIgCIIgCIIgCIIgCIKW+QQ3MB+FjySf+QAAAABJRU5ErkJggg==",BI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAIAAAAErfB6AAAABmJLR0QA/wD/AP+gvaeTAAADCklEQVR4nO3dy2rsMBAA0Tjk/395sshOGhjR6W7J5Tq7C3ceTCHoCNm+Xq/Xl7i+d38B1TIwnIHhDAz3M/z7uq4t3+PPPPHN32fl/5z2zp2G7+MKhjMwnIHhDAxnYLhxip7V7WXGps2V6TdL1oS88Td0BcMZGM7AcAaGMzDc5yl6drtJ8u2nr3yful3ltt/QFQxnYDgDwxkYzsBwkSn6jk6b/Nu4guEMDGdgOAPDGRju9Ck66zxzbOc5tst9FFcwnIHhDAxnYDgDw0Wm6M65cWWOzZqZZ50nrou4guEMDGdgOAPDGRju8xS9944Ts9gVf1l35Kib2Iu4guEMDGdgOAPDGRhunKJPO5/Q+X2yToYc9Ru6guEMDGdgOAPDGRgucr/out3XrPnztP3zrJ3wFd4v+lkMDGdgOAPDGRjuGoauolnu7TtnPeVk1jlFxyb/uifFDFzBcAaGMzCcgeEMDFd1dWHnnTRi6naDsybklOfLuILhDAxnYDgDwxkYLmcv+rQnqnQ+Ezzrb4qVV83ci346A8MZGM7AcAaGq3oCeOf5jSx1ZzPq3ufj7+wKhjMwnIHhDAxnYLiqc9Er6k6GZH3Wirq/MlJe5QqGMzCcgeEMDGdguJ13uuuc2FPOGC++auWz2nbmXcFwBoYzMJyB4QwMF7m6MOv8cNvd3hLfOSZrhncvWiMDwxkYzsBwBoaLnOjoPD+89455s73TuHvRGhkYzsBwBoYzMNw4RZ/m/N3pzqsvnaI1MjCcgeEMDGdguJ1XF872Xm+YNdkedX8SVzCcgeEMDGdgOAPDVd3pbsXKJBnbj927wb73Oebe6e5ZDAxnYDgDwxkYLufqwhWds2XW1Y5Z32dF0X61KxjOwHAGhjMwnIHhIlN0pzueu6h71cynrjydgeEMDGdgOAPDnT5Fz86/i12MT11RhIHhDAxnYDgDw0Wm6NOezHLHZyC2Tf6uYDgDwxkYzsBwBob7PEXv3emd1T3LO0vnCXBPdDydgeEMDGdgOAPDnX6/aP2TKxjOwHAGhjMw3C9rvIRN9bnh5wAAAABJRU5ErkJggg==";const zI=function(){const[e,n]=(0,t.useState)({email:"",phone:"",amount:""}),r=t=>{n({...e,[t.target.name]:t.target.value})};return(0,FI.jsxs)("div",{className:"Donate",children:[(0,FI.jsxs)("div",{className:"adopt-head dh",children:[(0,FI.jsx)(a.c,{}),(0,FI.jsx)("div",{className:"adopt-head-sub",children:(0,FI.jsxs)("div",{className:"adopt-head-box",children:[(0,FI.jsx)("p",{className:"heading wt",children:"Make a donation"}),(0,FI.jsx)("p",{className:"tagline",children:"Together, Let's Be Their Voice"}),(0,FI.jsx)("p",{className:"sub-tag",children:"Welcome to our donation page, where every contribution goes a long way in saving and improving the lives of animals in need. Your generosity helps us provide food, shelter, medical care, and love to animals who have been neglected, abused, or abandoned."})]})})]}),(0,FI.jsxs)("div",{className:"adopt-lower",children:[(0,FI.jsxs)("div",{className:"importance-donation",children:[(0,FI.jsx)("p",{className:"imp-head",children:"Your money will go towards:"}),(0,FI.jsxs)("ul",{className:"key-donate",children:[(0,FI.jsx)("li",{className:"keyd",children:"Medicines and medical supplies for animals"}),(0,FI.jsx)("li",{className:"keyd",children:"Food for animals"}),(0,FI.jsx)("li",{className:"keyd",children:"Transportation expenses for animal rescues"}),(0,FI.jsx)("li",{className:"keyd",children:"Vet and animal welfare staff salaries"})]})]}),(0,FI.jsxs)("div",{className:"donation-methods",children:[(0,FI.jsxs)("div",{className:"donation-method",children:[(0,FI.jsx)("p",{className:"donation-method-head",children:"1) Amazon Wishlist"}),(0,FI.jsxs)("div",{className:"donation-method-lower",children:[(0,FI.jsx)("p",{className:"dm-det",children:"We believe in the power of community and generosity, and we're immensely grateful for your willingness to support our mission. By purchasing items from our Amazon Wishlist, you're not only helping us meet practical needs but also contributing to the betterment of our cause. Every item, no matter how big or small, makes a significant difference in the lives we touch."}),(0,FI.jsxs)("div",{className:"wishlist-link-box",children:[(0,FI.jsx)("p",{className:"wishlist-text",children:"Amazon Wishlist"}),(0,FI.jsx)("img",{className:"redirect",src:UI})]})]})]}),(0,FI.jsxs)("div",{className:"donation-method",children:[(0,FI.jsx)("p",{className:"donation-method-head",children:"2) Bank Transfer"}),(0,FI.jsxs)("div",{className:"donation-method-lower",children:[(0,FI.jsx)("p",{className:"bank-dets",children:"Bank Name: ABC Bank"}),(0,FI.jsx)("p",{className:"bank-dets",children:"Account Name: Aashiyana Recovery Home"}),(0,FI.jsx)("p",{className:"bank-dets",children:"Account Number: 01234567890123456"}),(0,FI.jsx)("p",{className:"bank-dets",children:"Accoount type: Current"}),(0,FI.jsx)("p",{className:"bank-dets",children:"IFSC Code: ABC000065"})]})]}),(0,FI.jsxs)("div",{className:"donation-method",children:[(0,FI.jsx)("p",{className:"donation-method-head",children:"3) Debit card or Credit card"}),(0,FI.jsxs)("div",{className:"donation-method-lower",children:[(0,FI.jsxs)("p",{className:"dm-det",children:["There are many options other than debit/credit cards like UPI, Wallets, Pay Later, PayPal, etc. to make a donation.",(0,FI.jsx)("br",{}),"If you are making a donation outside India then you can donate us through PayPal after filling the form.",(0,FI.jsx)("br",{}),"Reciept will be sent via email filled by you in the donation form."]}),(0,FI.jsxs)("form",{className:"payment-sec",onSubmit:t=>{(async t=>{t.preventDefault();const n=document.createElement("script");n.src="https://checkout.razorpay.com/v1/checkout.js",n.async=!0,document.body.appendChild(n),n.onload=()=>{const t={key:"rzp_live_oGKXj8EVJEdpCQ",amount:100*e.amount,currency:"INR",name:"Aashiyana Recovery Form",description:"Test Payment",prefill:{email:e.email,contact:e.phone},handler:function(e){alert("Payment successful!")}};new window.Razorpay(t).open()}})(t)},children:[(0,FI.jsx)("input",{className:"pay-inp",type:"email",name:"email",placeholder:"Email",value:e.email,onChange:r,required:!0}),(0,FI.jsx)("input",{className:"pay-inp",type:"tel",name:"phone",placeholder:"Phone",value:e.phone,onChange:r,required:!0}),(0,FI.jsx)("input",{className:"pay-inp",type:"number",name:"amount",placeholder:"Amount",value:e.amount,onChange:r,required:!0}),(0,FI.jsx)("input",{type:"submit",className:0==e.email.length&&0==e.phone.length&&0==e.amount.length?"pay-button disabled":"pay-button",value:"Donate"})]})]})]}),(0,FI.jsxs)("div",{className:"donation-method",children:[(0,FI.jsx)("p",{className:"donation-method-head",children:"4) UPI ids and QR codes"}),(0,FI.jsxs)("div",{className:"donation-method-lower",children:[(0,FI.jsx)("p",{className:"dm-det",children:"You can donate us via UPI ids or Phone number provided below by any payment app or just scan the qr code to donate us."}),(0,FI.jsxs)("div",{className:"bank-dets-box",children:[(0,FI.jsxs)("p",{className:"bank-dets ",children:["GPay/PhonePe/Paytm: ",(0,FI.jsx)("span",{className:"bold-det",children:"+91 0123456789"})]}),(0,FI.jsxs)("p",{className:"bank-dets ",children:["UPI id: ",(0,FI.jsx)("span",{className:"bold-det",children:"upiid1@xyz"})]}),(0,FI.jsxs)("p",{className:"bank-dets ",children:["UPI id: ",(0,FI.jsx)("span",{className:"bold-det",children:"upiid2@xyz"})]}),(0,FI.jsxs)("p",{className:"bank-dets ",children:["UPI id: ",(0,FI.jsx)("span",{className:"bold-det",children:"upiid3@xyz"})]})]}),(0,FI.jsxs)("div",{className:"qr-codes",children:[(0,FI.jsx)("img",{className:"qr-code",src:BI}),(0,FI.jsx)("img",{className:"qr-code",src:BI}),(0,FI.jsx)("img",{className:"qr-code",src:BI}),(0,FI.jsx)("img",{className:"qr-code",src:BI})]})]})]}),(0,FI.jsxs)("div",{className:"donation-method",children:[(0,FI.jsx)("p",{className:"donation-method-head",children:"5) Milaap Fundraiser"}),(0,FI.jsxs)("div",{className:"donation-method-lower",children:[(0,FI.jsx)("p",{className:"dm-det",children:"We're on a mission to make a difference, and your support means the world to us! Click the link below to join our Milaap fundraiser and become a part of something truly impactful. Together, we can create positive change and spread hope to those in need. Thank you for your generosity and for being a beacon of light in our journey."}),(0,FI.jsxs)("div",{className:"wishlist-link-box",children:[(0,FI.jsx)("p",{className:"wishlist-text",children:"Milaap Fundraiser"}),(0,FI.jsx)("img",{className:"redirect",src:UI})]})]})]}),(0,FI.jsx)("div",{className:"donation-method",children:(0,FI.jsx)("p",{className:"dm-det",children:"Together, we can make a difference and give hope to animals who deserve a second chance at happiness. Thank you for your kindness and compassion."})})]})]})]})},qI=n.p+"static/media/shelter.ab0168d854a93b26fa8f.jpg";const GI=function(){return(0,FI.jsxs)("div",{className:"Adopt",children:[(0,FI.jsxs)("div",{className:"adopt-head resident-head",children:[(0,FI.jsx)(a.c,{}),(0,FI.jsx)("div",{className:"adopt-head-sub",children:(0,FI.jsxs)("div",{className:"adopt-head-box",children:[(0,FI.jsx)("p",{className:"heading wt",children:"Our Resident Animals"}),(0,FI.jsx)("p",{className:"tagline",children:"Our lovely homies"}),(0,FI.jsx)("p",{className:"sub-tag",children:"Welcome to our shelter! Here, you'll find a delightful array of furry friends who call our shelter home. While you may not be able to take them home physically, you can make a significant difference in their lives through virtual adoption."})]})})]}),(0,FI.jsxs)("div",{className:"adopt-lower",children:[(0,FI.jsxs)("div",{className:"adopt-lower-head",children:[(0,FI.jsx)("div",{className:"importance-donation",children:(0,FI.jsx)("p",{className:"keyd",children:"By virtually adopting one of our shelter residents, you provide crucial support that directly contributes to their well-being. Your generous donation will go towards covering the cost of their food, medical care, shelter, and other essential needs during the period of your adoption."})}),(0,FI.jsxs)("div",{className:"importance-donation",children:[(0,FI.jsx)("p",{className:"imp-head",children:"How it works:"}),(0,FI.jsxs)("ol",{className:"key-donate",children:[(0,FI.jsx)("li",{className:"keyd",children:"Browse through our adorable shelter residents below."}),(0,FI.jsx)("li",{className:"keyd",children:"Choose the animal you'd like to virtually adopt."}),(0,FI.jsx)("li",{className:"keyd",children:"Select the duration of your virtual adoption period."}),(0,FI.jsx)("li",{className:"keyd",children:"Make a donation equivalent to the cost of their care for the chosen duration. You can donate money or essential supplies such as medicines, food, and toys."})]})]}),(0,FI.jsx)("div",{className:"importance-donation",children:(0,FI.jsx)("p",{className:"donText",children:"Your virtual adoption not only helps provide for the animal you choose but also supports our ongoing efforts to care for all our shelter residents. Thank you for considering virtual adoption and making a positive impact on the lives of these precious animals."})}),(0,FI.jsx)("div",{className:"importance-donation",children:(0,FI.jsxs)("p",{className:"donText",children:[(0,FI.jsx)("span",{className:"note",children:"Note:"})," Virtual adoption does not grant ownership or physical possession of the animal. It is a symbolic gesture of support for their care during the adoption period."]})})]}),(0,FI.jsxs)("div",{className:"adoptions",children:[(0,FI.jsxs)("div",{className:"adopt-new",children:[(0,FI.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,FI.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,FI.jsx)("img",{className:"adopt-new-img",src:qI}),(0,FI.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,FI.jsxs)("div",{className:"adopt-new-buttons",children:[(0,FI.jsx)("button",{className:"adopt-new-button adn",children:"Read story"}),(0,FI.jsx)("button",{className:"adopt-new-button spn",children:"Adopt"})]})]})]}),(0,FI.jsxs)("div",{className:"adopt-new",children:[(0,FI.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,FI.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,FI.jsx)("img",{className:"adopt-new-img",src:qI}),(0,FI.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,FI.jsxs)("div",{className:"adopt-new-buttons",children:[(0,FI.jsx)("button",{className:"adopt-new-button adn",children:"Read story"}),(0,FI.jsx)("button",{className:"adopt-new-button spn",children:"Adopt"})]})]})]}),(0,FI.jsxs)("div",{className:"adopt-new",children:[(0,FI.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,FI.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,FI.jsx)("img",{className:"adopt-new-img",src:qI}),(0,FI.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,FI.jsxs)("div",{className:"adopt-new-buttons",children:[(0,FI.jsx)("button",{className:"adopt-new-button adn",children:"Read story"}),(0,FI.jsx)("button",{className:"adopt-new-button spn",children:"Adopt"})]})]})]}),(0,FI.jsxs)("div",{className:"adopt-new",children:[(0,FI.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,FI.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,FI.jsx)("img",{className:"adopt-new-img",src:qI}),(0,FI.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,FI.jsxs)("div",{className:"adopt-new-buttons",children:[(0,FI.jsx)("button",{className:"adopt-new-button adn",children:"Read story"}),(0,FI.jsx)("button",{className:"adopt-new-button spn",children:"Adopt"})]})]})]}),(0,FI.jsxs)("div",{className:"adopt-new",children:[(0,FI.jsx)("p",{className:"adopt-new-name",children:"Name"}),(0,FI.jsxs)("div",{className:"adopt-new-lower-box",children:[(0,FI.jsx)("img",{className:"adopt-new-img",src:qI}),(0,FI.jsx)("p",{className:"adopt-new-dets",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"}),(0,FI.jsxs)("div",{className:"adopt-new-buttons",children:[(0,FI.jsx)("button",{className:"adopt-new-button adn",children:"Read story"}),(0,FI.jsx)("button",{className:"adopt-new-button spn",children:"Adopt"})]})]})]})]})]})]})};n.p;var WI=e=>"checkbox"===e.type,KI=e=>e instanceof Date,HI=e=>null==e;const QI=e=>"object"===typeof e;var YI=e=>!HI(e)&&!Array.isArray(e)&&QI(e)&&!KI(e),JI=e=>YI(e)&&e.target?WI(e.target)?e.target.checked:e.target.value:e,XI=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),$I=e=>{const t=e.constructor&&e.constructor.prototype;return YI(t)&&t.hasOwnProperty("isPrototypeOf")},ZI="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function eE(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(ZI&&(e instanceof Blob||e instanceof FileList)||!n&&!YI(e))return e;if(t=n?[]:{},n||$I(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=eE(e[n]));else t=e}return t}var tE=e=>Array.isArray(e)?e.filter(Boolean):[],nE=e=>void 0===e,rE=(e,t,n)=>{if(!t||!YI(e))return n;const r=tE(t.split(/[,[\].]+?/)).reduce(((e,t)=>HI(e)?e:e[t]),e);return nE(r)||r===e?nE(e[t])?n:e[t]:r},iE=e=>"boolean"===typeof e;const sE={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},aE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},oE="max",lE="min",cE="maxLength",uE="minLength",dE="pattern",hE="required",fE="validate";t.createContext(null);var pE=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const i=s;return t._proxyFormState[i]!==aE.all&&(t._proxyFormState[i]=!r||aE.all),n&&(n[i]=!0),e[i]}});return i},mE=e=>YI(e)&&!Object.keys(e).length,gE=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return mE(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find((e=>t[e]===(!r||aE.all)))},yE=e=>Array.isArray(e)?e:[e];function vE(e){const n=t.useRef(e);n.current=e,t.useEffect((()=>{const t=!e.disabled&&n.current.subject&&n.current.subject.subscribe({next:n.current.next});return()=>{t&&t.unsubscribe()}}),[e.disabled])}var wE=e=>"string"===typeof e,bE=(e,t,n,r,i)=>wE(e)?(r&&t.watch.add(e),rE(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),rE(n,e)))):(r&&(t.watchAll=!0),n);var _E=e=>/^\w*$/.test(e),IE=e=>tE(e.replace(/["|']|\]/g,"").split(/\.|\[/)),EE=(e,t,n)=>{let r=-1;const i=_E(t)?[t]:IE(t),s=i.length,a=s-1;for(;++r<s;){const t=i[r];let s=n;if(r!==a){const n=e[t];s=YI(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}e[t]=s,e=e[t]}return e};var SE=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},kE=e=>({isOnSubmit:!e||e===aE.onSubmit,isOnBlur:e===aE.onBlur,isOnChange:e===aE.onChange,isOnAll:e===aE.all,isOnTouch:e===aE.onTouched}),xE=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const TE=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=rE(e,i);if(n){const{_f:e,...s}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)break;if(e.ref&&t(e.ref,e.name)&&!r)break;TE(s,t)}else YI(s)&&TE(s,t)}}};var NE=(e,t,n)=>{const r=tE(rE(e,n));return EE(r,"root",t[n]),EE(e,n,r),e},AE=e=>"file"===e.type,CE=e=>"function"===typeof e,DE=e=>{if(!ZI)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},PE=e=>wE(e),RE=e=>"radio"===e.type,OE=e=>e instanceof RegExp;const LE={value:!1,isValid:!1},ME={value:!0,isValid:!0};var jE=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!nE(e[0].attributes.value)?nE(e[0].value)||""===e[0].value?ME:{value:e[0].value,isValid:!0}:ME:LE}return LE};const FE={isValid:!1,value:null};var VE=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),FE):FE;function UE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(PE(e)||Array.isArray(e)&&e.every(PE)||iE(e)&&!e)return{type:n,message:PE(e)?e:"",ref:t}}var BE=e=>YI(e)&&!OE(e)?e:{value:e,message:""},zE=async(e,t,n,r,i)=>{const{ref:s,refs:a,required:o,maxLength:l,minLength:c,min:u,max:d,pattern:h,validate:f,name:p,valueAsNumber:m,mount:g,disabled:y}=e._f,v=rE(t,p);if(!g||y)return{};const w=a?a[0]:s,b=e=>{r&&w.reportValidity&&(w.setCustomValidity(iE(e)?"":e||""),w.reportValidity())},_={},I=RE(s),E=WI(s),S=I||E,k=(m||AE(s))&&nE(s.value)&&nE(v)||DE(s)&&""===s.value||""===v||Array.isArray(v)&&!v.length,x=SE.bind(null,p,n,_),T=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:cE,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:uE;const a=e?t:n;_[p]={type:e?r:i,message:a,ref:s,...x(e?r:i,a)}};if(i?!Array.isArray(v)||!v.length:o&&(!S&&(k||HI(v))||iE(v)&&!v||E&&!jE(a).isValid||I&&!VE(a).isValid)){const{value:e,message:t}=PE(o)?{value:!!o,message:o}:BE(o);if(e&&(_[p]={type:hE,message:t,ref:w,...x(hE,t)},!n))return b(t),_}if(!k&&(!HI(u)||!HI(d))){let e,t;const r=BE(d),i=BE(u);if(HI(v)||isNaN(v)){const n=s.valueAsDate||new Date(v),a=e=>new Date((new Date).toDateString()+" "+e),o="time"==s.type,l="week"==s.type;wE(r.value)&&v&&(e=o?a(v)>a(r.value):l?v>r.value:n>new Date(r.value)),wE(i.value)&&v&&(t=o?a(v)<a(i.value):l?v<i.value:n<new Date(i.value))}else{const n=s.valueAsNumber||(v?+v:v);HI(r.value)||(e=n>r.value),HI(i.value)||(t=n<i.value)}if((e||t)&&(T(!!e,r.message,i.message,oE,lE),!n))return b(_[p].message),_}if((l||c)&&!k&&(wE(v)||i&&Array.isArray(v))){const e=BE(l),t=BE(c),r=!HI(e.value)&&v.length>+e.value,i=!HI(t.value)&&v.length<+t.value;if((r||i)&&(T(r,e.message,t.message),!n))return b(_[p].message),_}if(h&&!k&&wE(v)){const{value:e,message:t}=BE(h);if(OE(e)&&!v.match(e)&&(_[p]={type:dE,message:t,ref:s,...x(dE,t)},!n))return b(t),_}if(f)if(CE(f)){const e=UE(await f(v,t),w);if(e&&(_[p]={...e,...x(fE,e.message)},!n))return b(e.message),_}else if(YI(f)){let e={};for(const r in f){if(!mE(e)&&!n)break;const i=UE(await f[r](v,t),w,r);i&&(e={...i,...x(r,i.message)},b(i.message),n&&(_[p]=e))}if(!mE(e)&&(_[p]={ref:w,...e},!n))return _}return b(!0),_};function qE(e,t){const n=Array.isArray(t)?t:_E(t)?[t]:IE(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=nE(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,s=n[i];return r&&delete r[s],0!==i&&(YI(r)&&mE(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!nE(e[t]))return!1;return!0}(r))&&qE(e,n.slice(0,-1)),e}var GE=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},WE=e=>HI(e)||!QI(e);function KE(e,t){if(WE(e)||WE(t))return e===t;if(KI(e)&&KI(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(KI(n)&&KI(e)||YI(n)&&YI(e)||Array.isArray(n)&&Array.isArray(e)?!KE(n,e):n!==e)return!1}}return!0}var HE=e=>"select-multiple"===e.type,QE=e=>RE(e)||WI(e),YE=e=>DE(e)&&e.isConnected,JE=e=>{for(const t in e)if(CE(e[t]))return!0;return!1};function XE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(YI(e)||n)for(const r in e)Array.isArray(e[r])||YI(e[r])&&!JE(e[r])?(t[r]=Array.isArray(e[r])?[]:{},XE(e[r],t[r])):HI(e[r])||(t[r]=!0);return t}function $E(e,t,n){const r=Array.isArray(e);if(YI(e)||r)for(const i in e)Array.isArray(e[i])||YI(e[i])&&!JE(e[i])?nE(t)||WE(n[i])?n[i]=Array.isArray(e[i])?XE(e[i],[]):{...XE(e[i])}:$E(e[i],HI(t)?{}:t[i],n[i]):n[i]=!KE(e[i],t[i]);return n}var ZE=(e,t)=>$E(e,t,XE(t)),eS=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return nE(e)?e:n?""===e?NaN:e?+e:e:r&&wE(e)?new Date(e):i?i(e):e};function tS(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return AE(t)?t.files:RE(t)?VE(e.refs).value:HE(t)?[...t.selectedOptions].map((e=>{let{value:t}=e;return t})):WI(t)?jE(e.refs).value:eS(nE(t.value)?e.ref.value:t.value,e)}var nS=(e,t,n,r)=>{const i={};for(const s of e){const e=rE(t,s);e&&EE(i,s,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},rS=e=>nE(e)?e:OE(e)?e.source:YI(e)?OE(e.value)?e.value.source:e.value:e,iS=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function sS(e,t,n){const r=rE(e,n);if(r||_E(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),s=rE(t,r),a=rE(e,r);if(s&&!Array.isArray(s)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};i.pop()}return{name:n}}var aS=(e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e),oS=(e,t)=>!tE(rE(e,t)).length&&qE(e,t);const lS={mode:aE.onSubmit,reValidateMode:aE.onChange,shouldFocusError:!0};function cS(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r={...lS,...t},i={submitCount:0,isDirty:!1,isLoading:CE(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},a=(YI(r.values)||YI(r.defaultValues))&&eE(r.values||r.defaultValues)||{},o=r.shouldUnregister?{}:eE(a),l={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:GE(),array:GE(),state:GE()},f=kE(r.mode),p=kE(r.reValidateMode),m=r.criteriaMode===aE.all,g=async e=>{if(d.isValid||e){const e=r.resolver?mE((await _()).errors):await I(s,!0);e!==i.isValid&&h.state.next({isValid:e})}},y=e=>d.isValidating&&h.state.next({isValidating:e}),v=(e,t,n,r)=>{const i=rE(s,e);if(i){const s=rE(o,e,nE(n)?rE(a,e):n);nE(s)||r&&r.defaultChecked||t?EE(o,e,t?s:tS(i._f)):k(e,s),l.mount&&g()}},w=(e,t,n,r,o)=>{let l=!1,c=!1;const u={name:e},f=!(!rE(s,e)||!rE(s,e)._f.disabled);if(!n||r){d.isDirty&&(c=i.isDirty,i.isDirty=u.isDirty=E(),l=c!==u.isDirty);const n=f||KE(rE(a,e),t);c=!(f||!rE(i.dirtyFields,e)),n||f?qE(i.dirtyFields,e):EE(i.dirtyFields,e,!0),u.dirtyFields=i.dirtyFields,l=l||d.dirtyFields&&c!==!n}if(n){const t=rE(i.touchedFields,e);t||(EE(i.touchedFields,e,n),u.touchedFields=i.touchedFields,l=l||d.touchedFields&&t!==n)}return l&&o&&h.state.next(u),l?u:{}},b=(n,r,s,a)=>{const o=rE(i.errors,n),l=d.isValid&&iE(r)&&i.isValid!==r;if(t.delayError&&s?(e=(e=>t=>{clearTimeout(u),u=setTimeout(e,t)})((()=>((e,t)=>{EE(i.errors,e,t),h.state.next({errors:i.errors})})(n,s))),e(t.delayError)):(clearTimeout(u),e=null,s?EE(i.errors,n,s):qE(i.errors,n)),(s?!KE(o,s):o)||!mE(a)||l){const e={...a,...l&&iE(r)?{isValid:r}:{},errors:i.errors,name:n};i={...i,...e},h.state.next(e)}y(!1)},_=async e=>r.resolver(o,r.context,nS(e||c.mount,s,r.criteriaMode,r.shouldUseNativeValidation)),I=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const s in e){const a=e[s];if(a){const{_f:e,...s}=a;if(e){const s=c.array.has(e.name),l=await zE(a,o,m,r.shouldUseNativeValidation&&!t,s);if(l[e.name]&&(n.valid=!1,t))break;!t&&(rE(l,e.name)?s?NE(i.errors,l,e.name):EE(i.errors,e.name,l[e.name]):qE(i.errors,e.name))}s&&await I(s,t,n)}}return n.valid},E=(e,t)=>(e&&t&&EE(o,e,t),!KE(D(),a)),S=(e,t,n)=>bE(e,c,{...l.mount?o:nE(t)?a:wE(e)?{[e]:t}:t},n,t),k=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=rE(s,e);let i=t;if(r){const n=r._f;n&&(!n.disabled&&EE(o,e,eS(t,n)),i=DE(n.ref)&&HI(t)?"":t,HE(n.ref)?[...n.ref.options].forEach((e=>e.selected=i.includes(e.value))):n.refs?WI(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((t=>t===e.value)):i===e.value))):n.refs[0]&&(n.refs[0].checked=!!i):n.refs.forEach((e=>e.checked=e.value===i)):AE(n.ref)?n.ref.value="":(n.ref.value=i,n.ref.type||h.values.next({name:e,values:{...o}})))}(n.shouldDirty||n.shouldTouch)&&w(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&C(e)},x=(e,t,n)=>{for(const r in t){const i=t[r],a="".concat(e,".").concat(r),o=rE(s,a);!c.array.has(e)&&WE(i)&&(!o||o._f)||KI(i)?k(a,i,n):x(a,i,n)}},T=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const u=rE(s,e),f=c.array.has(e),p=eE(t);EE(o,e,p),f?(h.array.next({name:e,values:{...o}}),(d.isDirty||d.dirtyFields)&&r.shouldDirty&&h.state.next({name:e,dirtyFields:ZE(a,o),isDirty:E(e,p)})):!u||u._f||HI(p)?k(e,p,r):x(e,p,r),xE(e,c)&&h.state.next({...i}),h.values.next({name:e,values:{...o}}),!l.mount&&n()},N=async t=>{const n=t.target;let a=n.name,l=!0;const u=rE(s,a),v=e=>{l=Number.isNaN(e)||e===rE(o,a,e)};if(u){let E,S;const k=n.type?tS(u._f):JI(t),x=t.type===sE.BLUR||t.type===sE.FOCUS_OUT,T=!iS(u._f)&&!r.resolver&&!rE(i.errors,a)&&!u._f.deps||aS(x,rE(i.touchedFields,a),i.isSubmitted,p,f),N=xE(a,c,x);EE(o,a,k),x?(u._f.onBlur&&u._f.onBlur(t),e&&e(0)):u._f.onChange&&u._f.onChange(t);const A=w(a,k,x,!1),D=!mE(A)||N;if(!x&&h.values.next({name:a,type:t.type,values:{...o}}),T)return d.isValid&&g(),D&&h.state.next({name:a,...N?{}:A});if(!x&&N&&h.state.next({...i}),y(!0),r.resolver){const{errors:e}=await _([a]);if(v(k),l){const t=sS(i.errors,s,a),n=sS(e,s,t.name||a);E=n.error,a=n.name,S=mE(e)}}else E=(await zE(u,o,m,r.shouldUseNativeValidation))[a],v(k),l&&(E?S=!1:d.isValid&&(S=await I(s,!0)));l&&(u._f.deps&&C(u._f.deps),b(a,S,E,A))}},A=(e,t)=>{if(rE(i.errors,t)&&e.focus)return e.focus(),1},C=async function(e){let t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=yE(e);if(y(!0),r.resolver){const r=await(async e=>{const{errors:t}=await _(e);if(e)for(const n of e){const e=rE(t,n);e?EE(i.errors,n,e):qE(i.errors,n)}else i.errors=t;return t})(nE(e)?e:o);t=mE(r),n=e?!o.some((e=>rE(r,e))):t}else e?(n=(await Promise.all(o.map((async e=>{const t=rE(s,e);return await I(t&&t._f?{[e]:t}:t)})))).every(Boolean),(n||i.isValid)&&g()):n=t=await I(s);return h.state.next({...!wE(e)||d.isValid&&t!==i.isValid?{}:{name:e},...r.resolver||!e?{isValid:t}:{},errors:i.errors,isValidating:!1}),a.shouldFocus&&!n&&TE(s,A,e?o:c.mount),n},D=e=>{const t={...a,...l.mount?o:{}};return nE(e)?t:wE(e)?rE(t,e):e.map((e=>rE(t,e)))},P=(e,t)=>({invalid:!!rE((t||i).errors,e),isDirty:!!rE((t||i).dirtyFields,e),isTouched:!!rE((t||i).touchedFields,e),error:rE((t||i).errors,e)}),R=(e,t,n)=>{const r=(rE(s,e,{_f:{}})._f||{}).ref;EE(i.errors,e,{...t,ref:r}),h.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const n of e?yE(e):c.mount)c.mount.delete(n),c.array.delete(n),t.keepValue||(qE(s,n),qE(o,n)),!t.keepError&&qE(i.errors,n),!t.keepDirty&&qE(i.dirtyFields,n),!t.keepTouched&&qE(i.touchedFields,n),!r.shouldUnregister&&!t.keepDefaultValue&&qE(a,n);h.values.next({values:{...o}}),h.state.next({...i,...t.keepDirty?{isDirty:E()}:{}}),!t.keepIsValid&&g()},L=e=>{let{disabled:t,name:n,field:r,fields:i,value:s}=e;if(iE(t)){const e=t?void 0:nE(s)?tS(r?r._f:rE(i,n)._f):s;EE(o,n,e),w(n,e,!1,!1,!0)}},M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=rE(s,e);const i=iE(t.disabled);return EE(s,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),c.mount.add(e),n?L({field:n,disabled:t.disabled,name:e,value:t.value}):v(e,!0,t.value),{...i?{disabled:t.disabled}:{},...r.progressive?{required:!!t.required,min:rS(t.min),max:rS(t.max),minLength:rS(t.minLength),maxLength:rS(t.maxLength),pattern:rS(t.pattern)}:{},name:e,onChange:N,onBlur:N,ref:i=>{if(i){M(e,t),n=rE(s,e);const r=nE(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,o=QE(r),l=n._f.refs||[];if(o?l.find((e=>e===r)):r===n._f.ref)return;EE(s,e,{_f:{...n._f,...o?{refs:[...l.filter(YE),r,...Array.isArray(rE(a,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),v(e,!1,void 0,r)}else n=rE(s,e,{}),n._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!XI(c.array,e)||!l.action)&&c.unMount.add(e)}}},j=()=>r.shouldFocusError&&TE(s,A,c.mount),F=(e,t)=>async n=>{let a;n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let l=eE(o);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await _();i.errors=e,l=t}else await I(s);if(qE(i.errors,"root"),mE(i.errors)){h.state.next({errors:{}});try{await e(l,n)}catch(c){a=c}}else t&&await t({...i.errors},n),j(),setTimeout(j);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:mE(i.errors)&&!a,submitCount:i.submitCount+1,errors:i.errors}),a)throw a},V=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=e?eE(e):a,f=eE(u),p=e&&!mE(e)?f:a;if(r.keepDefaultValues||(a=u),!r.keepValues){if(r.keepDirtyValues)for(const e of c.mount)rE(i.dirtyFields,e)?EE(p,e,rE(o,e)):T(e,rE(p,e));else{if(ZI&&nE(e))for(const e of c.mount){const t=rE(s,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(DE(e)){const t=e.closest("form");if(t){t.reset();break}}}}s={}}o=t.shouldUnregister?r.keepDefaultValues?eE(a):{}:eE(p),h.array.next({values:{...p}}),h.values.next({values:{...p}})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&n(),l.mount=!d.isValid||!!r.keepIsValid||!!r.keepDirtyValues,l.watch=!!t.shouldUnregister,h.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:r.keepDirty?i.isDirty:!(!r.keepDefaultValues||KE(e,a)),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:r.keepDirtyValues?r.keepDefaultValues&&o?ZE(a,o):i.dirtyFields:r.keepDefaultValues&&e?ZE(a,e):{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&i.isSubmitSuccessful,isSubmitting:!1})},U=(e,t)=>V(CE(e)?e(o):e,t);return{control:{register:M,unregister:O,getFieldState:P,handleSubmit:F,setError:R,_executeSchema:_,_getWatch:S,_getDirty:E,_updateValid:g,_removeUnmounted:()=>{for(const e of c.unMount){const t=rE(s,e);t&&(t._f.refs?t._f.refs.every((e=>!YE(e))):!YE(t._f.ref))&&O(e)}c.unMount=new Set},_updateFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(r&&n){if(l.action=!0,u&&Array.isArray(rE(s,e))){const t=n(rE(s,e),r.argA,r.argB);c&&EE(s,e,t)}if(u&&Array.isArray(rE(i.errors,e))){const t=n(rE(i.errors,e),r.argA,r.argB);c&&EE(i.errors,e,t),oS(i.errors,e)}if(d.touchedFields&&u&&Array.isArray(rE(i.touchedFields,e))){const t=n(rE(i.touchedFields,e),r.argA,r.argB);c&&EE(i.touchedFields,e,t)}d.dirtyFields&&(i.dirtyFields=ZE(a,o)),h.state.next({name:e,isDirty:E(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else EE(o,e,t)},_updateDisabledField:L,_getFieldArray:e=>tE(rE(l.mount?o:a,e,t.shouldUnregister?rE(a,e,[]):[])),_reset:V,_resetDefaultValues:()=>CE(r.defaultValues)&&r.defaultValues().then((e=>{U(e,r.resetOptions),h.state.next({isLoading:!1})})),_updateFormState:e=>{i={...i,...e}},_disableForm:e=>{iE(e)&&(h.state.next({disabled:e}),TE(s,((t,n)=>{let r=e;const i=rE(s,n);i&&iE(i._f.disabled)&&(r||(r=i._f.disabled)),t.disabled=r}),0,!1))},_subjects:h,_proxyFormState:d,_setErrors:e=>{i.errors=e,h.state.next({errors:i.errors,isValid:!1})},get _fields(){return s},get _formValues(){return o},get _state(){return l},set _state(e){l=e},get _defaultValues(){return a},get _names(){return c},set _names(e){c=e},get _formState(){return i},set _formState(e){i=e},get _options(){return r},set _options(e){r={...r,...e}}},trigger:C,register:M,handleSubmit:F,watch:(e,t)=>CE(e)?h.values.subscribe({next:n=>e(S(void 0,t),n)}):S(e,t,!0),setValue:T,getValues:D,reset:U,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rE(s,e)&&(nE(t.defaultValue)?T(e,eE(rE(a,e))):(T(e,t.defaultValue),EE(a,e,eE(t.defaultValue))),t.keepTouched||qE(i.touchedFields,e),t.keepDirty||(qE(i.dirtyFields,e),i.isDirty=t.defaultValue?E(e,eE(rE(a,e))):E()),t.keepError||(qE(i.errors,e),d.isValid&&g()),h.state.next({...i}))},clearErrors:e=>{e&&yE(e).forEach((e=>qE(i.errors,e))),h.state.next({errors:e?i.errors:{}})},unregister:O,setError:R,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=rE(s,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:P}}const uS=n.p+"static/media/email.67bda94140af311d041f.png",dS=n.p+"static/media/pc.788adb5ad58479e1e384.png",hS=n.p+"static/media/ig.b4ff9be06a8f84fada1b.png";const fS=function(){const{register:e,handleSubmit:n,reset:r,watch:i,control:s,setValue:o,formState:{errors:l,isSubmitSuccessful:c,isSubmitting:u}}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.useRef(),r=t.useRef(),[i,s]=t.useState({isDirty:!1,isValidating:!1,isLoading:CE(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:CE(e.defaultValues)?void 0:e.defaultValues});n.current||(n.current={...cS(e,(()=>s((e=>({...e}))))),formState:i});const a=n.current.control;return a._options=e,vE({subject:a._subjects.state,next:e=>{gE(e,a._proxyFormState,a._updateFormState,!0)&&s({...a._formState})}}),t.useEffect((()=>a._disableForm(e.disabled)),[a,e.disabled]),t.useEffect((()=>{if(a._proxyFormState.isDirty){const e=a._getDirty();e!==i.isDirty&&a._subjects.state.next({isDirty:e})}}),[a,i.isDirty]),t.useEffect((()=>{e.values&&!KE(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,s((e=>({...e})))):a._resetDefaultValues()}),[e.values,a]),t.useEffect((()=>{e.errors&&a._setErrors(e.errors)}),[e.errors,a]),t.useEffect((()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()})),t.useEffect((()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})}),[e.shouldUnregister,a]),n.current.formState=pE(i,a),n.current}({mode:"onTouched"}),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),m={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.PUBLIC_ACCESS_KEY||"2343d345-e597-4706-8ec5-c3a1da403f6d",{submit:g}=(e=>{let{access_key:t,settings:n={},onSuccess:r,onError:i}=e;return{submit:function(e){try{return Promise.resolve(fetch("https://api.web3forms.com/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_key:t,...n,...e})})).then((function(e){return Promise.resolve(e.json()).then((function(e){!0===e.success?r(e.message,e):i(e.message,e)}))}))}catch(t){return Promise.reject(t)}}}})({access_key:m,settings:{from_name:"Acme Inc",subject:"New Contact Message from your Website"},onSuccess:(e,t)=>{h(!0),p(e),r()},onError:(e,t)=>{h(!1),p(e)}});return(0,FI.jsxs)("div",{className:"Adopt",children:[(0,FI.jsxs)("div",{className:"adopt-head contact-head",children:[(0,FI.jsx)(a.c,{}),(0,FI.jsx)("div",{className:"adopt-head-sub",children:(0,FI.jsxs)("div",{className:"adopt-head-box",children:[(0,FI.jsx)("p",{className:"heading wt",children:"Contact Us"}),(0,FI.jsx)("p",{className:"tagline",children:"Let's get connected"}),(0,FI.jsx)("p",{className:"sub-tag",children:"Thank you for reaching out to us. Your support means the world to us! Whether you have a question, suggestion, or simply want to say hello, we're here to listen. Your message will be received by our dedicated team."})]})})]}),(0,FI.jsxs)("div",{className:"adopt-lower",children:[(0,FI.jsx)("div",{className:"adopt-lower-head",children:(0,FI.jsx)("div",{className:"importance-donation",children:(0,FI.jsx)("p",{className:"key",children:"Your interest in our organization means a great deal to us, as it reflects your commitment to making a positive impact in our community. Whether you have a question, suggestion, or wish to collaborate with us, your communication is invaluable. We are dedicated to fostering meaningful connections and partnerships that further our mission of giving animals a happy life. Rest assured, your message will be received with gratitude and attended to promptly by our team. There are various ways to contact us!!"})})}),(0,FI.jsx)("div",{className:"donation-methods",children:(0,FI.jsxs)("div",{className:"donation-method contact-box",children:[(0,FI.jsxs)("div",{className:"donation-method-lower contactB",children:[(0,FI.jsx)("p",{className:"dm-det",children:"Fill out the form below and let's make a difference together!"}),(0,FI.jsxs)(FI.Fragment,{children:[(0,FI.jsxs)("form",{onSubmit:n(g),className:"payment-sec",children:[(0,FI.jsx)("input",{type:"checkbox",id:"",className:"hidden",style:{display:"none"},...e("botcheck")}),(0,FI.jsx)("input",{type:"text",placeholder:"Full Name",autoComplete:"false",className:"pay-inp",...e("name",{required:"Full name is required",maxLength:80}),required:!0}),(0,FI.jsx)("input",{id:"email_address",type:"email",placeholder:"Email Address",name:"email",autoComplete:"false",className:"pay-inp",...e("email",{required:"Enter your email",pattern:{value:/^\S+@\S+$/i,message:"Please enter a valid email"}}),required:!0}),(0,FI.jsx)("textarea",{name:"message",placeholder:"Your Message",className:"pay-inp",...e("message",{required:"Enter your Message"}),required:!0}),(0,FI.jsx)("input",{type:"submit",className:"pay-button",value:"Send Message"})]}),c&&d&&(0,FI.jsx)("div",{className:"mt-3 text-sm text-center text-green-500",children:f||"Success. Message sent successfully"}),c&&!d&&(0,FI.jsx)("div",{className:"mt-3 text-sm text-center text-red-500",children:f||"Something went wrong. Please try later."})]})]}),(0,FI.jsx)("p",{children:"OR"}),(0,FI.jsxs)("div",{className:"social-media-box",children:[(0,FI.jsx)("img",{className:"smi",src:uS}),(0,FI.jsx)("img",{className:"smi",src:dS}),(0,FI.jsx)("img",{className:"smi",src:hS})]})]})})]})]})},pS=n.p+"static/media/ri.e5d7fe0575397f6c354f.jpg";const mS=function(){const[e,n]=(0,t.useState)({email:"",phone:"",amount:""});return(0,FI.jsxs)("div",{className:"Donate",children:[(0,FI.jsxs)("div",{className:"main-box about-box",children:[(0,FI.jsx)(a.c,{}),(0,FI.jsxs)("div",{className:"main-box-sub about-sub",children:[(0,FI.jsxs)("div",{className:"left-main-box",children:[(0,FI.jsx)("p",{className:"tagline",children:"Rescue Recover Release Repeat"}),(0,FI.jsx)("p",{className:"left-main-box-text",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"})]}),(0,FI.jsx)("div",{className:"right-main-box right-adopt",children:(0,FI.jsx)("img",{className:"right-img",src:pS})})]})]}),(0,FI.jsxs)("div",{className:"about-content",children:[(0,FI.jsxs)("div",{className:"about-div",children:[(0,FI.jsx)("p",{className:"heading",children:"Our Mission"}),(0,FI.jsxs)("p",{className:"content-about",children:["Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. At consectetur lorem donec massa sapien faucibus et molestie ac. Vulputate dignissim suspendisse in est ante. Ullamcorper morbi tincidunt ornare massa. Viverra orci sagittis eu volutpat odio facilisis mauris. Quam lacus suspendisse faucibus interdum posuere lorem. Lectus nulla at volutpat diam ut. Semper risus in hendrerit gravida rutrum quisque non tellus. At tellus at urna condimentum mattis pellentesque id nibh. Ut venenatis tellus in metus vulputate eu. Pretium viverra suspendisse potenti nullam ac tortor vitae purus. Turpis cursus in hac habitasse platea dictumst quisque sagittis purus. Eros donec ac odio tempor orci dapibus ultrices in. Nunc pulvinar sapien et ligula ullamcorper malesuada proin libero nunc. Massa sapien faucibus et molestie ac feugiat sed. Vitae nunc sed velit dignissim. Fermentum leo vel orci porta non pulvinar neque. Elit duis tristique sollicitudin nibh sit amet commodo nulla. Leo vel orci porta non pulvinar neque laoreet suspendisse.",(0,FI.jsx)("br",{}),(0,FI.jsx)("br",{}),"In fermentum posuere urna nec tincidunt praesent semper feugiat. Elit scelerisque mauris pellentesque pulvinar pellentesque habitant morbi. Tristique risus nec feugiat in fermentum posuere urna nec tincidunt. Etiam non quam lacus suspendisse faucibus interdum posuere lorem ipsum. Mollis nunc sed id semper. Duis ultricies lacus sed turpis tincidunt id aliquet risus feugiat. Sit amet consectetur adipiscing elit pellentesque habitant. Tristique senectus et netus et malesuada fames. Vivamus arcu felis bibendum ut tristique. Laoreet sit amet cursus sit. Etiam tempor orci eu lobortis elementum nibh tellus molestie nunc. Ipsum dolor sit amet consectetur adipiscing elit. Massa placerat duis ultricies lacus sed turpis. Dui id ornare arcu odio ut sem nulla. Id velit ut tortor pretium viverra suspendisse potenti nullam ac. Vel pretium lectus quam id leo in. In dictum non consectetur a erat. Etiam erat velit scelerisque in dictum non consectetur.",(0,FI.jsx)("br",{}),(0,FI.jsx)("br",{}),"Sit amet nulla facilisi morbi tempus iaculis urna. Molestie nunc non blandit massa enim nec dui nunc mattis. Ipsum consequat nisl vel pretium lectus quam id. Eleifend quam adipiscing vitae proin sagittis nisl. Viverra suspendisse potenti nullam ac tortor vitae. Adipiscing bibendum est ultricies integer quis auctor elit sed vulputate. Lobortis mattis aliquam faucibus purus in massa tempor nec feugiat. Malesuada fames ac turpis egestas integer eget. Netus et malesuada fames ac turpis egestas maecenas pharetra convallis. Ante in nibh mauris cursus mattis. Odio pellentesque diam volutpat commodo sed egestas egestas fringilla. Aliquam malesuada bibendum arcu vitae elementum curabitur vitae. Sapien nec sagittis aliquam malesuada bibendum arcu vitae. Ultricies leo integer malesuada nunc. Turpis massa tincidunt dui ut ornare lectus sit. Ultrices in iaculis nunc sed augue lacus. Augue eget arcu dictum varius duis at consectetur. Id venenatis a condimentum vitae sapien pellentesque."]})]}),(0,FI.jsxs)("div",{className:"about-div",children:[(0,FI.jsx)("p",{className:"heading",children:"Our Recovery Home"}),(0,FI.jsxs)("p",{className:"content-about",children:["Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. At consectetur lorem donec massa sapien faucibus et molestie ac. Vulputate dignissim suspendisse in est ante. Ullamcorper morbi tincidunt ornare massa. Viverra orci sagittis eu volutpat odio facilisis mauris. Quam lacus suspendisse faucibus interdum posuere lorem. Lectus nulla at volutpat diam ut. Semper risus in hendrerit gravida rutrum quisque non tellus. At tellus at urna condimentum mattis pellentesque id nibh. Ut venenatis tellus in metus vulputate eu. Pretium viverra suspendisse potenti nullam ac tortor vitae purus. Turpis cursus in hac habitasse platea dictumst quisque sagittis purus. Eros donec ac odio tempor orci dapibus ultrices in. Nunc pulvinar sapien et ligula ullamcorper malesuada proin libero nunc. Massa sapien faucibus et molestie ac feugiat sed. Vitae nunc sed velit dignissim. Fermentum leo vel orci porta non pulvinar neque. Elit duis tristique sollicitudin nibh sit amet commodo nulla. Leo vel orci porta non pulvinar neque laoreet suspendisse.",(0,FI.jsx)("br",{}),(0,FI.jsx)("br",{}),"In fermentum posuere urna nec tincidunt praesent semper feugiat. Elit scelerisque mauris pellentesque pulvinar pellentesque habitant morbi. Tristique risus nec feugiat in fermentum posuere urna nec tincidunt. Etiam non quam lacus suspendisse faucibus interdum posuere lorem ipsum. Mollis nunc sed id semper. Duis ultricies lacus sed turpis tincidunt id aliquet risus feugiat. Sit amet consectetur adipiscing elit pellentesque habitant. Tristique senectus et netus et malesuada fames. Vivamus arcu felis bibendum ut tristique. Laoreet sit amet cursus sit. Etiam tempor orci eu lobortis elementum nibh tellus molestie nunc. Ipsum dolor sit amet consectetur adipiscing elit. Massa placerat duis ultricies lacus sed turpis. Dui id ornare arcu odio ut sem nulla. Id velit ut tortor pretium viverra suspendisse potenti nullam ac. Vel pretium lectus quam id leo in. In dictum non consectetur a erat. Etiam erat velit scelerisque in dictum non consectetur.",(0,FI.jsx)("br",{}),(0,FI.jsx)("br",{}),"Sit amet nulla facilisi morbi tempus iaculis urna. Molestie nunc non blandit massa enim nec dui nunc mattis. Ipsum consequat nisl vel pretium lectus quam id. Eleifend quam adipiscing vitae proin sagittis nisl. Viverra suspendisse potenti nullam ac tortor vitae. Adipiscing bibendum est ultricies integer quis auctor elit sed vulputate. Lobortis mattis aliquam faucibus purus in massa tempor nec feugiat. Malesuada fames ac turpis egestas integer eget. Netus et malesuada fames ac turpis egestas maecenas pharetra convallis. Ante in nibh mauris cursus mattis. Odio pellentesque diam volutpat commodo sed egestas egestas fringilla. Aliquam malesuada bibendum arcu vitae elementum curabitur vitae. Sapien nec sagittis aliquam malesuada bibendum arcu vitae. Ultricies leo integer malesuada nunc. Turpis massa tincidunt dui ut ornare lectus sit. Ultrices in iaculis nunc sed augue lacus. Augue eget arcu dictum varius duis at consectetur. Id venenatis a condimentum vitae sapien pellentesque."]})]}),(0,FI.jsxs)("div",{className:"about-div",children:[(0,FI.jsx)("p",{className:"heading",children:"Wanna Support us ?"}),(0,FI.jsx)("p",{className:"content-about",children:"Are you passionate about animal welfare? Join us in our mission to rescue and protect animals in need! Your support is crucial in ensuring that we can continue to provide care and shelter to animals who have been neglected, abused, or abandoned. Whether you volunteer your time, donate supplies, or contribute financially through donations, your involvement makes a difference. Every donation, no matter how big or small, helps us provide essential medical care, food, and shelter to animals in need. Together, we can make a positive impact on the lives of these vulnerable creatures and create a brighter future for them. Join us today and be a part of something meaningful!"}),(0,FI.jsxs)("div",{className:"wishlist-link-box db",children:[(0,FI.jsx)("p",{className:"wishlist-text",children:"Donate Us"}),(0,FI.jsx)("img",{className:"redirect",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAdJSURBVHic7Z1brF1VFYa/AYRWqCVR7rVcgjUptiGQkEBiuCiExuiDD+ADt0AoAeWBS0IgSAjwiEAgWonVqM8m+qYloEURAiSEBItUuRU41Fog3EMPePrzMNeBw2k5Z4512XvtNceX9KUda86x9v+veVurc0IQBEEQBEEQBEEQBEEQBMPHRl2hpKXAKuAw4EBg/xFWvxN4yszebVqQpGOB1aR7GCfvk+5px5jz2DuSlkj6gaT7JG2VNKPxMi1pg6QDat7PWkmPjPcW9mBG0h8lHem9n85aAEkrgWuBi4CvdFVPAx4Czjaz/+deIOl44FHgoK6SasirwClmtj33gn3azkDSQZLuAZ4Hrqaf4gOcAax3XrOB/ooPsBL4meeCVlsASecAvwGOaLPcDnnczE7JCZR0NLCt23RaYTewIndM0EoLIMkk3Qb8ickRH2CNI/abnWXRLvsAJ+QG79e0Nkn7AhuBS5qWNQY07gQ6YnluYKMWQJIxueID/NMRu6WzLMZI0y7gViZXfIDf5Qaa2SvA5g5zGQu1DVAN+G5qMZdR81fgV85rfgy83UEuY6OWASQtJ432W59GjoBp0lTpe2Y247nQzJ4FvgU83EVi46DuIPA26o/23wH+DDwDTAEf1CynDv8jLZu+V7cAM3sGOE3SUaSZwbKWclsF3E7fHypJK5WWU728KOl8SaNc+58IJK2S9FqTteB5nJtbd50W4Dr8L3A2ANeY2Uc16hs0klaRBpfudfyRo/Ri502nG68bd959pXryp1p88mfJbgG8/c138a3tbzCzO511FIE+e/JXjDMPrwHWOWK3kd4GBvPoi/jgN8DpjtifmNm0s/zB0yfxwWEASV8iTVVyeAf4fa2MBkxD8Xe3nA7gawG+7ojfFCP+z9NQ/O3Aze1mlPAY4FBH7NPeRIZMQ/F3AGcBz7WaVIXHAJ4Vr/96ExkqLYj/7WoJuhM8BvAs/rzvTWSI9F186Pu68wQzCeJDGKATJkV8CAO0ziSJD2GAVpk08SEM0BqTKD6EAVphUsWHMEBjJll8CAM0YtLFhzBAbYYgPoQBajEU8SEM4GZI4kMYwMXQxIcwQDZDFB/CAFkMVXwIAyzKkMWHMMCC9Ex8zzcW2bugNd4gYqg0FP814Ewza/Mzrq1dxEYLsBd6KD5m9hLwj4zQv5vZy7nlhgHm0Ufx53AlC+9P8FYVk00YYA49Fx8z2wKcStrcYj4PAqea2b88ZcYYoKLv4s9iZluB7yhtxLm2+uunzWyqTnlhAFoZ7Z89CvHnYmavknYGbUTxXUDPpnojp2gDlC4+FGyAED9RpAFC/M8ozgAh/ucpahYg6XDgL/R8qjdKSmsBfknaU9/LIMWHggygdMbP92tcOljxoSADACfWuGbQ4kNZBvjYGd9L8SXtJ+kqSU9I+qD685ikH0nqbkwn6dwuNiocFZIOlfRxZv5T1WyhV0g6UNLfFsh7s5ynoRXTApjZTvLOB+jlk19xJ3DaAv9+BnBHJzVPegsAaZt7SU8tkPcrfXzy4dPT2HI26d6ltJ1/FsW0AADViaGnkw6KmDsmEPAH4OSePvkAJ5G3T9MSHAPeohaC4FMTrJd0I3Ay6Qd7snq92mc8ezQfnBtYnAFmMbM3SAdXTAqe1jo7tqguINiTMEDhhAEKJwxQOGGAwgkDFE4YoHDCAIUTBiicMEDhhAEKJwxQOGGAwgkDFE4YoHDCAIUTBiicMEDhhAEKJwxQOGGAwgkDFE4YoHDCAIUTBigcjwE+csR+2ZtIsCjZ/+ETmM4N9BjAc2DBEY7YIA/PxlbZB0Z4DLDTEbt28ZDAyRpH7Ou5gZYbKGkpqRXYNyP8XeAQM/N0G8EXIGkJSdScrnUGWGZmu3LKzm4BqgKfzwxfDpyXW3awKD8kf1z171zx3Uj6hWOXkJcq5wYNkLRU0suO3/3nnvK908D7HbHHAPc4yw/25F7gKEf8pq4SQdL+kt50uFGSru8soYEj6Qbnb/26pJxtZBoldbczKUm6T9EdZKPU7G+s8Tv/dBTJfU1pJyov2yRdGEb4YiQtkXSRfH3+LB9KOtJbZ/Y0cF6idwHX1LmWNEXcBGwBpvAtMA2RZaQNrNcA66i/inqHmbm727oGWA48C7gdF3TCFLDazNwPU62XQdVWaxeQFh2C8bIbuLSO+NDgbaCZbQZur3t90Bq3mNkDdS+u1QXMIslIhzBc1qScoDYbzezyJgU0+h7AzARcAfy6STlBLTbiPCd4bzT+IMTMZoD1wC2k/ijolhngZjO7vPrtG9GoC5iPpLOA31LvUKZgcaaAi81sb4dH16LVT8LM7EFgNWlf++yvUoJF2UU6B2B1m+JDyy3AXCStAK4FLga+2lU9A+cN0iEXd5nZ9i4q6MwAsyi9nFgHnAOcCXyDvI9KSmQG+A/pYMtNwP1df1TTuQHmU70LOA44nLQMWvq7gWnScvgO4AUzi64zCIIgCIIgCIIgCIIgCIKW+QQ3MB+FjySf+QAAAABJRU5ErkJggg=="})]})]})]})]})};const gS=function(){return(0,FI.jsx)("div",{className:"App",children:(0,FI.jsxs)(s.c5,{children:[(0,FI.jsx)(s.kX,{path:"/",element:(0,FI.jsx)(i.default,{})}),(0,FI.jsx)(s.kX,{path:"/adopt",element:(0,FI.jsx)(VI,{})}),(0,FI.jsx)(s.kX,{path:"/donate",element:(0,FI.jsx)(zI,{})}),(0,FI.jsx)(s.kX,{path:"/resident-animals",element:(0,FI.jsx)(GI,{})}),(0,FI.jsx)(s.kX,{path:"/contact",element:(0,FI.jsx)(fS,{})}),(0,FI.jsx)(s.kX,{path:"/about",element:(0,FI.jsx)(mS,{})})]})})},yS=e=>{e&&e instanceof Function&&n.e(592).then(n.bind(n,592)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};var vS=n(12);r.createRoot(document.getElementById("root")).render((0,FI.jsx)(t.StrictMode,{children:(0,FI.jsx)(vS.kn,{children:(0,FI.jsx)(gS,{})})})),yS()})()})();
//# sourceMappingURL=main.51194f26.js.map